<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello Zyw</title>
    <url>/2017/05/12/hello-zyw/</url>
    <content><![CDATA[<blockquote>
<p>之前在新浪写博客，现在搬家都这里，发一个短片的小博客，庆祝我的技术博客搬家。</p>
</blockquote>
]]></content>
      <tags>
        <tag>github博客</tag>
      </tags>
  </entry>
  <entry>
    <title>js和jq获取当前位置</title>
    <url>/2017/05/24/width+height/</url>
    <content><![CDATA[<p>在写javascript的时候，有的时候需要判断盒子的当前位置，或者鼠标位置，在这里我就总结一下这些判断方法，先来一张直观图。<br><img src="/images/2017-05-24/wh.gif" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">javascript原生写法</span><br><span class="line">BODY对象宽度：document.body.clientWidth</span><br><span class="line">BODY对象高度：document.body.clientHeight</span><br><span class="line">可见区域宽度：document.documentElement.clientWidth</span><br><span class="line">可见区域高度：document.documentElement.clientHeight</span><br><span class="line">网页可见区域宽：document.body.offsetWidth (包括边线的宽)</span><br><span class="line">网页可见区域高：document.body.offsetHeight (包括边线的高)</span><br><span class="line">网页正文全文宽：document.body.scrollWidth</span><br><span class="line">网页正文全文高：document.body.scrollHeight</span><br><span class="line">网页被卷去的高：document.body.scrollTop</span><br><span class="line">网页被卷去的左：document.body.scrollLeft</span><br><span class="line">网页正文部分上：window.screenTop</span><br><span class="line">网页正文部分左：window.screenLeft</span><br><span class="line">屏幕分辨率的高：window.screen.height</span><br><span class="line">屏幕分辨率的宽：window.screen.width</span><br><span class="line">屏幕可用工作区高度：window.screen.availHeight</span><br><span class="line">屏幕可用工作区宽度：window.screen.availWidth</span><br><span class="line">获取元素的宽度：obj.clientWidth</span><br><span class="line">元素的高度：obj.clientHeight</span><br><span class="line">偏移坐标left：obj.offsetLeft</span><br><span class="line">偏移坐标top：obj.offsetTop</span><br><span class="line">元素的宽度：obj.offsetWidth</span><br><span class="line">元素的高度：obj.offsetHeight</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jquery写法</span><br><span class="line">偏移坐标left：$(selector).offset().left</span><br><span class="line">偏移坐标top：$(selector).offset().top</span><br><span class="line">宽度：$(w).height() //可试区域w=window、页面的文档w=documene、元素w=obj</span><br><span class="line">高度：$(h).width(); //可试区域h=window、页面的文档h=documene、元素h=obj</span><br><span class="line">滚动高度：$(document).scrollTop()</span><br><span class="line">滚动宽度：$(document).scrollTop()</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">js原生+jquery写法</span><br><span class="line">偏移坐标left：$(selector)[0].offsetLeft</span><br><span class="line">偏移坐标top：$(selector)[0].offsetTop</span><br></pre></td></tr></table></figure>
<p><strong><code>2018-12-03更新</code></strong><br>今天发现一个新的js方法，可以直接返回好多东西，来看一下。<br>语法是<br>Element.getBoundingClientRect();<br>看一下取到的值<br><img src="/images/2017-05-24/2.png" alt=""><br>返回值是一个 DOMRect 对象，我们想使用哪个值直接点上哪个就好了。<br>比如<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const el =document.getElementById(<span class="string">&#x27;police_deviation&#x27;</span>)</span><br><span class="line">const bound=el.getBoundingClientRect()</span><br><span class="line">bound.left  //元素距离页面左侧值</span><br><span class="line">bound.right //元素距离页面右侧值</span><br></pre></td></tr></table></figure><br>具体看下图<br><img src="/images/2017-05-24/1.png" alt=""><br>详细的也可以看这里<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect">https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect</a></p>
<p>在看一下兼容性<br><img src="/images/2017-05-24/3.png" alt=""><br>good ！！！！！！可以直接拿来用了。</p>
<blockquote>
<p>持续更新。。。。。。</p>
</blockquote>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js和jq判断位置</tag>
      </tags>
  </entry>
  <entry>
    <title>github pages+jekyll搭建博客(windows)</title>
    <url>/2017/05/16/github%20pages+jekyll/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>先唠叨两句，说一下我的写博客经历，原来我就是在新浪写一写，后来发现对于程序员来说，并不是很好用，一些代码他会过滤，还会给你读出来，上次有一个input框，发布出去的时候居然出来一个搜索框，让我无言以对。代码高亮什么的效果都不好，还需要我把代码放到记事本里，在粘贴到博客里，很麻烦，也不美观，让后我就去博客园等一些地方，想在这些地方写写，后来想想觉得也不是很好，要不就自己做一套吧，我就用phpcms+bootstraps在本地搭建了一套，然后我觉得有点麻烦，写点什么也不方便，不直观，在加上还要去买服务器，然后就放弃了。后来发现了这个github pages感觉很不错，就像写txt是的，很方便，在加上一套jekyll模板，感觉还是很不错的，现在还很流行Hexo,下面有一块我会对比一下jekyll和Hexo的区别，优缺点。</p>
<h1 id="一、github-pages和jekyll介绍"><a href="#一、github-pages和jekyll介绍" class="headerlink" title="一、github pages和jekyll介绍"></a>一、github pages和jekyll介绍</h1><p>首先先介绍一下github pages和jekyll</p>
<p>github pages其实就是github可以的为项目建立介绍站点，也可以用来建立个人博客的一个地方。个人觉得其实和新浪博客差不多。</p>
<p>jekyll是一款比较流行的静态博客框架其他的还有Jekyll，Hexo，Simple，Octopress，Pelican以及Lo·gecho等等。这些静态程序可以说都有各自的好处。在这里我就比较一下jekyll和Hexo</p>
<p>1.Jeky基于Ruby实现，安装Jeky需要搭建Ruby环境，在Windows搭建Ruby环境并不是被推荐的，而 Hexo基于NodeJs实现，在Windows上安装NodeJs开发环境简单。</p>
<p>2.Jekyll没有本地服务器，无法实现本地博文预览功能，需要上传到WEB容器中才能预览功能，而Hexo可以通过简单的命令实现本地的预览，并直接发布到WEB容器中实现同步。</p>
<p>3.比较直接的另一个原因是在网上查找了很多博客的主题，发现Jekyll官网提供的主题都不怎么好看(可能是个人原因)，而Hexo的主题看的比较顺眼。</p>
<p>4.两者都支持Markdown语法。</p>
<p>比较了一下感觉Hexo更好哈，我选择了jekyll的原因是因为当我选择了用github pages做博客的时候，官方推荐的就是jekyll,让后又看到了黄玄<a href="https://huangxuan.me">Hux Blog</a>的博客，感觉他的模板很不错，所以就选择了使用jekyll。看完这篇文章，相信想用Hexo也方便理解很多。</p>
<h1 id="二、jekyll安装和配置"><a href="#二、jekyll安装和配置" class="headerlink" title="二、jekyll安装和配置"></a>二、jekyll安装和配置</h1><p>其实你不在本地安装jekyll也可以的，在本地安装的好处就是你在本地写的代码可以随时查看，修改，监测，而不需要在传到github上，这样太麻烦了。</p>
<p>要安装jekyll首先需要安装ruby<a href="http://rubyinstaller.org/downloads/">下载地址</a>下载好了之后就是一路的next,可以根据个人选择安装到那个盘，选择相应的位数进行下载。<br><img src="/images/2017-05-16/ruby.png" alt=""><br>进行到这一步的时候把第二个选上，安装一下环境，当然全选也无所谓哦，安装好之后就可以不管他了，后面也用不到，但是没有他还真不行。<br><img src="/images/2017-05-16/rubyinstall.png" alt=""><br>安装好ruby之后就是安装RubyDevKit<a href="http://rubyinstaller.org/downloads/">下载地址</a>和ruby的地址是一个，只需要往下拉就可以看到这个画面,在这里要注意一点ruby2.0以上的版本从下面两个下载，还有一点你ruby安装的32位在这就要下载32位,64位就下载64位。最好安装最新的吧。位置最好和ruby在相同的盘里。<br><img src="/images/2017-05-16/devkit.png" alt=""><br>都安装好之后就要进行配置了，首先打开安装的RubyDevKit的文件夹cmd进入（小黑框！！）输入命令<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ruby dk.rb init</span><br></pre></td></tr></table></figure><br>此时看一下你的RubyDevKit文件夹会生成一个config.yml配置文件，记录了系统安装ruby的位置。<br>然后是就要开始安装jykell了，首先要把安装源变为国内的。<br>删除旧的安装源：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gem sources --remove https://rubygems.org/</span><br></pre></td></tr></table></figure><br>添加新的安装源：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gem sources -a http://gems.ruby-china.org/</span><br></pre></td></tr></table></figure><br>不放心的话可以确认一下安装源：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gem <span class="built_in">source</span> -l</span><br></pre></td></tr></table></figure><br>开始安装jekyll<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gem install jekyll</span><br></pre></td></tr></table></figure><br>安装成功后就是要写我们的博客了，在这建议大家去网上找一找好看的模板直接fork下来，这样方便快捷，非常省时间，在这里我要感谢黄玄<a href="https://huangxuan.me">Hux Blog</a>，我就是从他这里fork的，欢迎借鉴参考。</p>
<p>找到一个好的模板fork下来之后，把文件夹名字改为githubname.github.io(比如我的就叫zywkuo.github.io)<br>一个基本的 Jekyll 网站的目录结构一般是像这样的：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── _drafts</span><br><span class="line">|   ├── begin-with-the-crazy-ideas.textile</span><br><span class="line">|   └── on-simplicity-in-technology.markdown</span><br><span class="line">├── _includes</span><br><span class="line">|   ├── footer.html</span><br><span class="line">|   └── header.html</span><br><span class="line">├── _layouts</span><br><span class="line">|   ├── default.html</span><br><span class="line">|   └── post.html</span><br><span class="line">├── _posts</span><br><span class="line">|   ├── 2007-10-29-why-every-programmer-should-play-nethack.textile</span><br><span class="line">|   └── 2009-04-26-barcamp-boston-4-roundup.textile</span><br><span class="line">├── _data</span><br><span class="line">|   └── members.yml</span><br><span class="line">├── _site</span><br><span class="line">└── index.html</span><br></pre></td></tr></table></figure><br>来看看这些都有什么用：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">_config.yml	    存储配置数据。很多全局的配置或者指令写在这里。</span><br><span class="line">_drafts         存放为发表的文章。这些是没有日期的文件。</span><br><span class="line">_includes       你可以加载这些包含部分到你的布局或者文章中以方便重用。</span><br><span class="line">_layouts 	    布局、模板。</span><br><span class="line">_posts 	        存放写文章，格式化为：YEAR-MONTH-DAY-title.md。</span><br><span class="line">_site 	        最终生成的博客文件就在这里。</span><br><span class="line">index.html	    博客的主页。</span><br><span class="line">other 	        例如静态文件 CSS，Images 和其他。</span><br></pre></td></tr></table></figure><br>进入这个文件夹再次使用cmd(小黑框)，运行命令<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jekyll serve</span><br></pre></td></tr></table></figure><br>当我运行启动服务器的命令的时候办了这个错误<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">  Dependency Error: Yikes! It looks like you don<span class="string">&#x27;t have jekyll-paginate or one of its dependencies installed. In order to use Jekyll as currently configured, you&#x27;</span>ll need to install this gem. The full error message from Ruby is: <span class="string">&#x27;cannot load such file -- jekyll-paginate&#x27;</span> If you run into trouble, you can find helpful resources at https://jekyllrb.com/<span class="built_in">help</span>/!</span><br><span class="line">jekyll 3.4.3 | Error:  jekyll-paginate</span><br></pre></td></tr></table></figure><br>只需要在输入这个，回车就可以了<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gem install jekyll-paginate</span><br></pre></td></tr></table></figure><br>再次输入无错误提示就说明服务器已经运行成功了，如果还有其他错误请自行百度吧。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jekyll serve</span><br></pre></td></tr></table></figure><br>此时打开浏览器在地址栏输入下面的网址就可以看到你的博客了<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">localhost:4000或127.0.0.1:4000</span><br></pre></td></tr></table></figure><br>在写自己的博客的时候需要多次的去浏览器看博客在网页上的显示情况只需要输入下面的就可以对你的代码就行实时监测，实时更新了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jekyll serve --watch</span><br></pre></td></tr></table></figure><br>当要写博客的时候只需要在_posts文件夹下新建一个.markdown的文件，次文件的命名要遵循这个原则。不能更改的。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">年-月-日-标题.markdown</span><br></pre></td></tr></table></figure></p>
<h1 id="三、github-pages仓库建立"><a href="#三、github-pages仓库建立" class="headerlink" title="三、github pages仓库建立"></a>三、github pages仓库建立</h1><p>想要用github pages必须自己要有一个github账户这个不用多说了。进入到自己的github账户后，首先建立一个新的仓库，名称与本地的文件夹名称一样。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">githubname.guthub.io(我的就是zywkuo.github.io)</span><br></pre></td></tr></table></figure><br><img src="/images/2017-05-16/github1.png" alt=""><br><img src="/images/2017-05-16/github2.png" alt=""><br>因为我已经建好了，所以显示已有。</p>
<h1 id="四、将写好的博客放到github仓库上"><a href="#四、将写好的博客放到github仓库上" class="headerlink" title="四、将写好的博客放到github仓库上"></a>四、将写好的博客放到github仓库上</h1><p>在本地我们使用jykyll写好的博客，就可以放到，github上刚刚新建好的那个仓库这里，如何显示网页就交个giuhub吧，其实就是github上就有自带的jekyll,他会自动生成静态页的。</p>
<p>在做这一步的时候就需要会一些git指令了，并且还需要下载git(这个要是不会，度娘一下把。)</p>
<p>下载好了之后进入本地的githubname.github.io的文件夹，右击git bash(安装好git右击就会有的),初始化本地仓库：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git init</span><br><span class="line">注：git指令在输入的时候不需要加$，在执行每条指令自动加$,我是为了和上面的指令就行区分，所以git指令都加上了$</span><br></pre></td></tr></table></figure><br>然后将本地的代码上传到仓库第一次需要这样执行<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -a -m <span class="string">&quot;注释信息&quot;</span></span><br><span class="line">$ git remote add origin https://github.com/username/repositoryname.git</span><br><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure><br>以后再上传就可以这样执行了<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -a -m <span class="string">&quot;注释信息&quot;</span></span><br><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure><br>开始的时候我在网上发现之前有一些做法是需要创建一个叫做gh-pages的分支并且在这个分支进行操作，经过我的测试，可能这个适用于之前的版本，目前只需要将代码直接上传到主分支master就可以了。</p>
<p>此时你可以访问网址看看自己的博客了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">githubname.github.io(不要忘了换成自己的github名字)</span><br></pre></td></tr></table></figure></p>
<h1 id="五、绑定自己的域名"><a href="#五、绑定自己的域名" class="headerlink" title="五、绑定自己的域名"></a>五、绑定自己的域名</h1><p>在这里我就介绍如何绑定二级域名，一级域名绑定其实和二级的差不多，更加简单。<br>首先找到自己github上新建的那个githuname.github.io的仓库进入到设置页面<br><img src="/images/2017-05-16/github3.png" alt=""><br>往下拉找到这个位置在input框里输入域名，blog.lihaikuo.com.一级域名就直接输入lihaikuo.com就可以了<br><img src="/images/2017-05-16/github4.png" alt=""><br>你需要在根目录新建一个文件名为CNAME的文件，这个文件不需要添加任何后缀，在文件里写上bolg.lihaikuo.com(顶级域名就写lihaikuo.com)，让后上传到github上githubname.github.io的仓库上<br>然后去你购买的域名网站去进行域名解析，我的域名是在百度云上买的，在域名解析页面添加一条这样的解析指令<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">添加一个CNAME，主机记录写blog，后面记录值写上你的zywkuo.github.io.</span><br><span class="line">blog      CNAME    githubname.github.io.（最后面还有一个‘.’不要忘记）</span><br></pre></td></tr></table></figure><br><img src="/images/2017-05-16/github5.png" alt=""><br>一级域名主机记录写www就好了。如果不可以，在加上这两条解析就OK了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@          A             192.30.252.153</span><br><span class="line">@          A             192.30.252.154</span><br></pre></td></tr></table></figure><br>等上10分钟，访问一下你的网址看看成效吧—–&gt;<a href="http://blog.lihaikuo.com/">blog.lihaikuo.com</a></p>
<p>注：此篇博客发表时间2017-05-16，随着时间迁移，或许会越来越方便，最近观看的小伙帮肯定没问题，以后有可能会改版，就像我在找资料的时候也走进了很多坑。希望小伙伴们多多注意。</p>
<p>Finally, thanks for reading</p>
]]></content>
      <categories>
        <category>github pages</category>
      </categories>
      <tags>
        <tag>github pages+jekyll</tag>
      </tags>
  </entry>
  <entry>
    <title>codepen</title>
    <url>/2017/06/01/codepen/</url>
    <content><![CDATA[<p>codepen, “代码笔”,前端开发很好用的一个网站，你可以把你的HTML、css、js代码放到上面看效果，也可以在上面直接写代码看结果。</p>
<p>现在的css3的一些特效，像旋转，移动什么的都需要进行兼容性处理，在这里就介绍一下codepen如何进行兼容性处理。</p>
<p>首先打开codepen网址，<a href="https://codepen.io/">www.codepen.io</a>点击creat新建一个newpen<br><img src="/images/2017-06-01/newpen.png" alt=""><br>把css代码粘贴到css框里，然后<br><img src="/images/2017-06-01/pen1.png" alt=""><br><img src="/images/2017-06-01/pen2.png" alt=""><br><img src="/images/2017-06-01/pen3.png" alt=""><br><img src="/images/2017-06-01/pen4.png" alt=""><br>这样css代码框里的兼容就处理好了，就可以替换原来的代码了。</p>
<p>看一下兼容前后的效果！<br><img src="/images/2017-06-01/pen5.png" alt=""><br>看着很简单，但是一个页面有很多css动画，还有很多个页面，这个兼容就好用多了。</p>
<blockquote>
<p>codepen的实用之处。。。</p>
</blockquote>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>codepen兼容</tag>
      </tags>
  </entry>
  <entry>
    <title>面向对象（OO）</title>
    <url>/2017/06/06/oo/</url>
    <content><![CDATA[<h1 id="什么是面向对象？"><a href="#什么是面向对象？" class="headerlink" title="什么是面向对象？"></a>什么是面向对象？</h1><p>什么是面向对象？–&gt;一切皆对象！！！</p>
<p>什么是对象，不知道这个东西里面长得什么样子，但是知道这个东西有什么功能和方法会用就行了，这就是对象，就像js里面的那些个对象，date呀，数组呀，咱们不知道内部是个什么原理，但是咱们知道它的属性和方法，其实对象就是一个整体，对外提供一些功能和操作，面向对象其实是一种通用思想，可以在编程中用，也可以在生活中用，在编程中呢，如何在使用某些功能来实现效果的过程中可以只关注功能，不关注内部细节的编程思想，就是面向对象就像jq，咱们知道jq可以用$(“.a”)来获取一个jq的dom对象，咱们学习jq不需要去学习jq是怎么去获取dom对象的，只需要学习用jq获取对象的那个操作就ok了，那么jq就是用面向对象编程思想来编写的一个类库。</p>
<h1 id="面向对象的特点"><a href="#面向对象的特点" class="headerlink" title="面向对象的特点"></a>面向对象的特点</h1><pre><code>抽象：抽指把核心的东西抽出来，把与我们要解决的问题有关的东西拿出来摆在面前
封装：让使用对象的人不考虑内部实现，只考虑功能使用  把内部的代码保护起来，只留出一些个api接口供用户使用
继承：就是为了代码的复用，从父类上继承出一些方法和属性，子类也有自己的一些属性，多重继承继承多种方法和属性
多态，对于咱们的js这种弱类型语言来说其实意义不大
</code></pre><h1 id="对象的组成"><a href="#对象的组成" class="headerlink" title="对象的组成"></a>对象的组成</h1><pre><code>属性   变量：状态、静态的
方法   函数：过程、动态的
</code></pre><h1 id="创建对象-基础创建"><a href="#创建对象-基础创建" class="headerlink" title="创建对象-基础创建"></a>创建对象-基础创建</h1><p>最简单的方法就是基础创建<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var obj=new Object();</span><br><span class="line">obj.name = <span class="string">&#x27;wei&#x27;</span>;</span><br><span class="line">obj.age = 6;</span><br><span class="line">obj.height = 180</span><br><span class="line">obj.showName = <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">   alert(this.name)</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj)//Object &#123;name: <span class="string">&quot;wei&quot;</span>, age: 6, height: 180, showName: <span class="keyword">function</span>&#125;</span><br></pre></td></tr></table></figure><br>基础创建缺点：创建一次写一回，如果创建一百次呢，那样就太复杂了，产生了很多重复的代码。</p>
<h1 id="创建对象-工厂模式"><a href="#创建对象-工厂模式" class="headerlink" title="创建对象-工厂模式"></a>创建对象-工厂模式</h1><p>工厂模式抽象了创建具体对象的过程，使用函数封装以特定接口创建对象<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> creatPerson (name,age,height)&#123;</span><br><span class="line">    var obj = new Object();</span><br><span class="line">    obj.name = name;</span><br><span class="line">    obj.age = age;</span><br><span class="line">    obj.height = height;</span><br><span class="line">    obj.showName = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        alert(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line">var person1 = creatPerson(<span class="string">&quot;wei&quot;</span>,6,<span class="string">&quot;180&quot;</span>);</span><br><span class="line">var person2 = creatPerson(<span class="string">&quot;kuo&quot;</span>,8,<span class="string">&quot;160&quot;</span>);</span><br><span class="line">console.log(person1)//Object &#123;name: <span class="string">&quot;wei&quot;</span>, age: 6, height: <span class="string">&quot;180&quot;</span>, showName: <span class="keyword">function</span>&#125;</span><br><span class="line">console.log(person2)//Object &#123;name: <span class="string">&quot;kuo&quot;</span>, age: 8, height: <span class="string">&quot;160&quot;</span>, showName: <span class="keyword">function</span>&#125;</span><br><span class="line"></span><br><span class="line">console.log(person1.showName)//<span class="function"><span class="title">function</span></span> () &#123; alert(this.name) &#125;</span><br><span class="line">console.log(person2.showName)//<span class="function"><span class="title">function</span></span> () &#123; alert(this.name) &#125;</span><br><span class="line"></span><br><span class="line">上面都没有问题，在看下面这个</span><br><span class="line">console.log(person1.showName==person2.showName)//<span class="literal">false</span></span><br><span class="line">这里是不一样的，这样的话创建一百个对象就会出现一百种方法岂不是很浪费内存。</span><br></pre></td></tr></table></figure><br>工厂模式的缺点：方法不一样浪费内存，也不知道对象的类型，还有就是感觉创建对象没有使用new感觉很不爽啊。</p>
<h1 id="创建对象-构造函数模式"><a href="#创建对象-构造函数模式" class="headerlink" title="创建对象-构造函数模式"></a>创建对象-构造函数模式</h1><p>构造函数与其他函数的区别就是调用方式不同，单是构造函数也是函数，不存在其他语法。</p>
<p><code>任何函数只要通过new操作符来调用，那就可以作为构造函数</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> Person (name,age,height)&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.age = age;</span><br><span class="line">    this.height = height;</span><br><span class="line">    this.showName = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        alert(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var person1 = new Person(<span class="string">&quot;wei&quot;</span>,6,<span class="string">&quot;180&quot;</span>);</span><br><span class="line">var person2 = new Person(<span class="string">&quot;kuo&quot;</span>,8,<span class="string">&quot;160&quot;</span>);</span><br><span class="line">console.log(person1)//Person &#123;name: <span class="string">&quot;wei&quot;</span>, age: 6, height: <span class="string">&quot;180&quot;</span>, showName: <span class="keyword">function</span>&#125;</span><br><span class="line">console.log(person2)//Person &#123;name: <span class="string">&quot;kuo&quot;</span>, age: 8, height: <span class="string">&quot;160&quot;</span>, showName: <span class="keyword">function</span>&#125;</span><br><span class="line">但是</span><br><span class="line">console.log(person1.showName==person2.showName)<span class="literal">false</span></span><br><span class="line">还是<span class="literal">false</span>,说明这个问题和上面的一样了，但是代码变少了。</span><br></pre></td></tr></table></figure><br>我们来比较一下工厂模式和构造函数的不同之处。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1.没有明确的创建对象；</span><br><span class="line">2.直接将属性和方法赋值给了this对象；</span><br><span class="line">3.没有<span class="built_in">return</span>语句了；</span><br><span class="line">*在这里要主意一点：构造函数应该以一个大写字母开头可以和其他函数区分开</span><br></pre></td></tr></table></figure><br>要创建Person的心实例，必须使用new操作符。这种方式调用构造函数会经历以下4步。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1.创建一个新对象；</span><br><span class="line">2.将构造函数的作用域赋给新对象（this就指向了这个对象）；</span><br><span class="line">3.执行构造函数中的代码（为这个性对象添加属性）；</span><br><span class="line">4.返回新对象；</span><br></pre></td></tr></table></figure><br>person1和person2分别保存着Person的一个不同的实例，这两个对象都有一个constructor(构造属性)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log(person1.constructor == Person)//<span class="literal">true</span></span><br><span class="line">console.log(person2.constructor == Person)//<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>再用instanceof检测一下类型<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log(person1 instanceof Object)//<span class="literal">true</span></span><br><span class="line">console.log(person1 instanceof Person)//<span class="literal">true</span></span><br><span class="line">console.log(person2 instanceof Object)//<span class="literal">true</span></span><br><span class="line">console.log(person2 instanceof Person)//<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>例子中创建的所有对象即是Obect的实例，也是Person的实例。</p>
<p>构造函数的缺点：每个方法都要在每个实例上重新创建一遍，浪费内存。</p>
<h1 id="创建对象-原型模式"><a href="#创建对象-原型模式" class="headerlink" title="创建对象-原型模式"></a>创建对象-原型模式</h1><p>我们创建的每个函数都有一个prototype(原型)属性，这个属性是一个指针，指向一个对象，而这个对象的用途是包含可以由特定类型的所有势力共享的属性和方法。是不是很深奥</p>
<p><code>简化一下</code>propotype就是通过调用构造函数而创建的那个对象实例的原型对象，使用原型对象好处是可以让所有对象实例共享他所包含的属性和方法。</p>
<p><code>在简单点</code>比如一个页面有10个div，我想把他们背景都变成红色，怎么办，给每一个div都加上内联样式style=”background:red;”,麻烦不麻烦，这样我们起一个class名.red{ background:red;}给每一个div都加上.red的class名就好了，原型就相当于类名，这样理解起来就好理解了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Person</span></span>()&#123;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.name = <span class="string">&quot;wei&quot;</span>;</span><br><span class="line">Person.prototype.age = 6;</span><br><span class="line">Person.prototype.height = 180;</span><br><span class="line">Person.prototype.showName = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">    alert(this.name);</span><br><span class="line">&#125;</span><br><span class="line">var person1 = new Person();</span><br><span class="line">person1.showName();//wei</span><br><span class="line">var person2 = new Person();</span><br><span class="line">person2.showName();//wei</span><br><span class="line">console.log(person1.showName == person2.showName)//<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>也可以简化为这样<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Person</span></span>()&#123;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    name : <span class="string">&quot;wei&quot;</span>,</span><br><span class="line">    age : 6,</span><br><span class="line">    height : 180,</span><br><span class="line">    showName : <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        alert(this.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var person1 = new Person();</span><br><span class="line">person1.showName();//wei</span><br><span class="line">var person2 = new Person();</span><br><span class="line">person2.showName();//wei</span><br><span class="line">console.log(person1.showName == person2.showName)//<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>再来看一个例子<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Person</span></span>()&#123;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    name : <span class="string">&quot;wei&quot;</span>,</span><br><span class="line">    age : 6,</span><br><span class="line">    height : 180,</span><br><span class="line">    friends : [<span class="string">&quot;xiao&quot;</span>,<span class="string">&quot;zhang&quot;</span>],</span><br><span class="line">    showName : <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        alert(this.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var person1 = new Person();</span><br><span class="line">var person2 = new Person();</span><br><span class="line">person1.friends.push(<span class="string">&quot;meng&quot;</span>)</span><br><span class="line">console.log(person1.friends)//[<span class="string">&quot;xiao&quot;</span>, <span class="string">&quot;zhang&quot;</span>, <span class="string">&quot;meng&quot;</span>]</span><br><span class="line">console.log(person2.friends)//[<span class="string">&quot;xiao&quot;</span>, <span class="string">&quot;zhang&quot;</span>, <span class="string">&quot;meng&quot;</span>]</span><br><span class="line">console.log(person1.showName === person2.showName)//<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>一下就看出问题来了吧，我想改的改了，不想改的也给我改了。</p>
<p>原型模式的缺点：太共享了，没有自己的隐私。</p>
<h1 id="创建对象-混合模式"><a href="#创建对象-混合模式" class="headerlink" title="创建对象-混合模式"></a>创建对象-混合模式</h1><p>混合模式就是将构造函数模式和原型模式组合起来一起使用，这种自定义类型是ECMAscript中使用最广泛的、认同度最高的。</p>
<p><code>构造函数模式用于定义实例属性，原型模式用于定义方法和公共的属性。</code><br>再来看一个例子<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> Person (name, age, height) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.age = age;</span><br><span class="line">    this.height = height;</span><br><span class="line">    this.friends = [<span class="string">&quot;xiao&quot;</span>, <span class="string">&quot;zhang&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    showName : <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        alert(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var person1 = new Person(<span class="string">&quot;wei&quot;</span>, 6, 180)</span><br><span class="line">var person2 = new Person(<span class="string">&quot;kuo&quot;</span>, 8, 160)</span><br><span class="line"></span><br><span class="line">person1.friends.push(<span class="string">&quot;meng&quot;</span>)</span><br><span class="line">console.log(person1.friends)//[<span class="string">&quot;xiao&quot;</span>, <span class="string">&quot;zhang&quot;</span>, <span class="string">&quot;meng&quot;</span>]</span><br><span class="line">console.log(person2.friends)//[<span class="string">&quot;xiao&quot;</span>, <span class="string">&quot;zhang&quot;</span>]</span><br><span class="line">console.log(person1.friends === person2.friends)//<span class="literal">false</span></span><br><span class="line">console.log(person1.showName === person2.showName)//<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>混合模式每个实例都会有自己的一份实例属性的副本，但同时游共享着对方的引用，最大限度的节省了内存，混合模式还支持向构造函数传递参数，集合了两种模式的优点。</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>面向对象</tag>
        <tag>OO</tag>
      </tags>
  </entry>
  <entry>
    <title>vertical-align</title>
    <url>/2017/06/12/vertical-align/</url>
    <content><![CDATA[<p>在前端页面开发过程中，经常会碰到向nav导航的布局，一张图片加上字体说明（现在实现这种效果用iconfont也是很不错的），别的地方也有很多需要用到这种组合的形式，默认的样式是这样的。<br><img src="/images/2017-06-12/va1.png" alt=""><br>一般都是需要图片居中显示的，以前我的做法都是将图片进行浮动让后再调整图片位置，偶然间发现css有一个这一个属性vertical-align，感觉很实用，发现新大陆了。看一下w3school对他的解释。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">浏览器支持</span><br><span class="line">    所有浏览器都支持 vertical-align 属性。</span><br><span class="line">    注释：任何的版本的 Internet Explorer （包括 IE8）都不支持属性值 <span class="string">&quot;inherit&quot;</span>。</span><br><span class="line">定义和用法</span><br><span class="line">    vertical-align 属性设置元素的垂直对齐方式。</span><br><span class="line">说明</span><br><span class="line">    该属性定义行内元素的基线相对于该元素所在行的基线的垂直对齐。允许指定负长度值和百分比值。</span><br><span class="line">    这会使元素降低而不是升高。在表单元格中，这个属性会设置单元格框中的单元格内容的对齐方式。</span><br><span class="line">        默认值：	        baseline</span><br><span class="line">        继承性：	        no</span><br><span class="line">        版本：	            CSS1</span><br><span class="line">        JavaScript 语法：	object.style.verticalAlign=<span class="string">&quot;bottom&quot;</span></span><br><span class="line">可能的值</span><br><span class="line">    值	            描述</span><br><span class="line">    baseline	    默认。元素放置在父元素的基线上。</span><br><span class="line">    sub	            垂直对齐文本的下标。</span><br><span class="line">    super	        垂直对齐文本的上标</span><br><span class="line">    top	            把元素的顶端与行中最高元素的顶端对齐</span><br><span class="line">    text-top	    把元素的顶端与父元素字体的顶端对齐</span><br><span class="line">    middle	        把此元素放置在父元素的中部。</span><br><span class="line">    bottom	        把元素的顶端与行中最低的元素的顶端对齐。</span><br><span class="line">    text-bottom	    把元素的底端与父元素字体的底端对齐。</span><br><span class="line">    length	 </span><br><span class="line">    %	            使用 <span class="string">&quot;line-height&quot;</span> 属性的百分比值来排列此元素。允许使用负值。</span><br><span class="line">    inherit	        规定应该从父元素继承 vertical-align 属性的值。</span><br></pre></td></tr></table></figure><br>给我刚才的例子添加上vertical-align:middle属性，看一下效果<br><img src="/images/2017-06-12/va2.png" alt=""><br>一下子就达到了我想要的效果，感觉很不错吧</p>
<p>其他的属性值也很好理解，多多记忆一下就好了。</p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>vertical-align</tag>
      </tags>
  </entry>
  <entry>
    <title>关于网页打印的一些问题</title>
    <url>/2017/06/27/html-print/</url>
    <content><![CDATA[<p>有的时候我们需要把web页面进行打印出来，并且要在a4纸上完美呈现，开始的时候我笨打算把网页转换为分页的pdf，这样在本地就可以打印了。</p>
<p>我使用了html2canvas+jspdf这两个神器结合起来来达到我要的效果。</p>
<p>html2canvas是对整个或局部页面进行‘截图’。但这并不是真的截图，而是通过遍历页面DOM结构，收集所有元素信息及相应样式，渲染出canvas image。<br>简单理解为就是把你想要打印的页面进行渲染成为一张图片了，</p>
<p>使用<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">使用的API也很简洁，下面代码可以将某个元素渲染成canvas：</span><br><span class="line"></span><br><span class="line">html2canvas(element, &#123;</span><br><span class="line">    onrendered: <span class="keyword">function</span>(canvas) &#123;</span><br><span class="line">        // canvas is the final rendered &lt;canvas&gt; element</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">通过onrendered方法，可以将生成的canvas进行回调，比如插入到页面中：</span><br><span class="line"></span><br><span class="line">html2canvas(element, &#123;</span><br><span class="line">    onrendered: <span class="keyword">function</span>(canvas) &#123;</span><br><span class="line">       document.body.appendChild(canvas);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br><a  href="http://www.jq22.com/jquery-info588" target="_black">想了解更多关于html2canvas的请移步这里</a></p>
<p>jspdf是一个客户端解决方案生成pdf文件，可以将字体，图片生成pdf,还是很实用的。</p>
<p>文字生成PDF，使用方法如下：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// 默认a4大小，竖直方向，mm单位的PDF</span><br><span class="line">var doc = new jsPDF();</span><br><span class="line"></span><br><span class="line">// 添加文本‘Download PDF’</span><br><span class="line">doc.text(<span class="string">&#x27;Download PDF!&#x27;</span>, 10, 10);</span><br><span class="line">doc.save(<span class="string">&#x27;a4.pdf&#x27;</span>);</span><br></pre></td></tr></table></figure><br>图片生成PDF，使用方法如下：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// 三个参数，第一个方向，第二个单位，第三个尺寸格式</span><br><span class="line">var doc = new jsPDF(<span class="string">&#x27;landscape&#x27;</span>,<span class="string">&#x27;pt&#x27;</span>,[205, 115])</span><br><span class="line"></span><br><span class="line">// 将图片转化为dataUrl</span><br><span class="line">var imageData = ‘data:image/png;base64,iVBORw0KGgo...’;</span><br><span class="line"></span><br><span class="line">doc.addImage(imageData, <span class="string">&#x27;PNG&#x27;</span>, 0, 0, 205, 115);</span><br><span class="line">doc.save(<span class="string">&#x27;a4.pdf&#x27;</span>);</span><br></pre></td></tr></table></figure><br>文字与图片生成PDF，使用方法如下：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// 三个参数，第一个方向，第二个尺寸，第三个尺寸格式</span><br><span class="line">var doc = new jsPDF(<span class="string">&#x27;landscape&#x27;</span>,<span class="string">&#x27;pt&#x27;</span>,[205, 155])</span><br><span class="line"></span><br><span class="line">// 将图片转化为dataUrl</span><br><span class="line">var imageData = ‘data:image/png;base64,iVBORw0KGgo...’;</span><br><span class="line"></span><br><span class="line">//设置字体大小</span><br><span class="line">doc.setFontSize(20);</span><br><span class="line"></span><br><span class="line">//10,20这两参数控制文字距离左边，与上边的距离</span><br><span class="line">doc.text(<span class="string">&#x27;Stone&#x27;</span>, 10, 20);</span><br><span class="line"></span><br><span class="line">// 0, 40, 控制文字距离左边，与上边的距离</span><br><span class="line">doc.addImage(imageData, <span class="string">&#x27;PNG&#x27;</span>, 0, 40, 205, 115);</span><br><span class="line">doc.save(<span class="string">&#x27;a4.pdf&#x27;</span>)</span><br></pre></td></tr></table></figure><br><a  href="http://www.jq22.com/jquery-info517" target="_black">想了解更多关于jspdf的请移步这里</a></p>
<p>html2canvas + jsPDF，使用方法如下：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;./js/jsPdf.debug.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">      var downPdf = document.getElementById(<span class="string">&quot;renderPdf&quot;</span>);</span><br><span class="line">      downPdf.onclick = <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">          html2canvas(document.body, &#123;</span><br><span class="line">              onrendered:<span class="keyword">function</span>(canvas) &#123;</span><br><span class="line"></span><br><span class="line">                  //返回图片dataURL，参数：图片格式和清晰度(0-1)</span><br><span class="line">                  var pageData = canvas.toDataURL(<span class="string">&#x27;image/jpeg&#x27;</span>, 1.0);</span><br><span class="line"></span><br><span class="line">                  //方向默认竖直，尺寸ponits，格式a4[595.28,841.89]</span><br><span class="line">                  var pdf = new jsPDF(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;pt&#x27;</span>, <span class="string">&#x27;a4&#x27;</span>);</span><br><span class="line"></span><br><span class="line">                  //addImage后两个参数控制添加图片的尺寸，此处将页面高度按照a4纸宽高比列进行压缩</span><br><span class="line">                  pdf.addImage(pageData, <span class="string">&#x27;JPEG&#x27;</span>, 0, 0, 595.28, 592.28/canvas.width * canvas.height );</span><br><span class="line"></span><br><span class="line">                  pdf.save(<span class="string">&#x27;stone.pdf&#x27;</span>);</span><br><span class="line"></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><br>html2canvas + jsPDF，加上分页效果，使用方法如下：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">html2canvas(document.body, &#123;</span><br><span class="line">  onrendered:<span class="keyword">function</span>(canvas) &#123;</span><br><span class="line"></span><br><span class="line">      var contentWidth = canvas.width;</span><br><span class="line">      var contentHeight = canvas.height;</span><br><span class="line"></span><br><span class="line">      //一页pdf显示html页面生成的canvas高度;</span><br><span class="line">      var pageHeight = contentWidth / 592.28 * 841.89;</span><br><span class="line">      //未生成pdf的html页面高度</span><br><span class="line">      var leftHeight = contentHeight;</span><br><span class="line">      //页面偏移</span><br><span class="line">      var position = 0;</span><br><span class="line">      //a4纸的尺寸[595.28,841.89]，html页面生成的canvas在pdf中图片的宽高</span><br><span class="line">      var imgWidth = 595.28;</span><br><span class="line">      var imgHeight = 592.28/contentWidth * contentHeight;</span><br><span class="line"></span><br><span class="line">      var pageData = canvas.toDataURL(<span class="string">&#x27;image/jpeg&#x27;</span>, 1.0);</span><br><span class="line"></span><br><span class="line">      var pdf = new jsPDF(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;pt&#x27;</span>, <span class="string">&#x27;a4&#x27;</span>);</span><br><span class="line"></span><br><span class="line">      //有两个高度需要区分，一个是html页面的实际高度，和生成pdf的页面高度(841.89)</span><br><span class="line">      //当内容未超过pdf一页显示的范围，无需分页</span><br><span class="line">      <span class="keyword">if</span> (leftHeight &lt; pageHeight) &#123;</span><br><span class="line">      pdf.addImage(pageData, <span class="string">&#x27;JPEG&#x27;</span>, 0, 0, imgWidth, imgHeight );</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">while</span>(leftHeight &gt; 0) &#123;</span><br><span class="line">              pdf.addImage(pageData, <span class="string">&#x27;JPEG&#x27;</span>, 0, position, imgWidth, imgHeight)</span><br><span class="line">              leftHeight -= pageHeight;</span><br><span class="line">              position -= 841.89;</span><br><span class="line">              //避免添加空白页</span><br><span class="line">              <span class="keyword">if</span>(leftHeight &gt; 0) &#123;</span><br><span class="line">                pdf.addPage();</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      pdf.save(<span class="string">&#x27;content.pdf&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><br><a  href="https://segmentfault.com/a/1190000009211079" target="_black">以上内容参考地址</a></p>
<p>这两个前端空间单用起来兼容性都是很好的，但是和在一起就出现一些问题了。使用后在谷歌浏览器下开始是没有问题的但是页面太多就会出现黑页面情况（毕竟我的页面有40多页A4纸大小），在火狐下会出现某一页出现黑页面的现象，在ie下就报错了。<br>这个方案就被我pass掉了。</p>
<p>后来发现浏览器自带的打印功能，print() 方法用于打印当前窗口的内容。</p>
<p>首先在介绍这个方法之前要要先介绍一个css3的标签，就是@media 查询，一般使用它都是在调整浏览器大小的时候改变样式什么的，看一下他的媒体类型<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">值	                 描述</span><br><span class="line">all	                用于所有设备</span><br><span class="line">print	            用于打印机和打印预览</span><br><span class="line">screen	            用于电脑屏幕，平板电脑，智能手机等。</span><br><span class="line">speech	            应用于屏幕阅读器等发声设备</span><br></pre></td></tr></table></figure><br>通过这个标签就可以控制打印的时候的纸张大小<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">	<span class="selector-class">.bg_page</span>&#123;</span><br><span class="line">		<span class="attribute">width</span>: <span class="number">297mm</span>;</span><br><span class="line">		<span class="attribute">height</span>: <span class="number">210mm</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>还要介绍一个属性page-break-after 设置在元素之后进行分页的分页行为<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">值	         描述</span><br><span class="line">auto	    默认。如果必要则在元素后插入分页符。</span><br><span class="line">always	    在元素后插入分页符。</span><br><span class="line">avoid	    避免在元素后插入分页符。</span><br><span class="line">left	    在元素之后足够的分页符，一直到一张空白的左页为止。</span><br><span class="line">right	    在元素之后足够的分页符，一直到一张空白的右页为止。</span><br><span class="line">inherit	    规定应该从父元素继承 page-break-after 属性的设置。</span><br></pre></td></tr></table></figure><br>在加上这个属性后就可以调用打印机进行打印了。<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">	<span class="selector-class">.bg_page</span>&#123;</span><br><span class="line">		<span class="attribute">width</span>: <span class="number">297mm</span>;</span><br><span class="line">		<span class="attribute">height</span>: <span class="number">210mm</span>;</span><br><span class="line">		<span class="attribute">page-break-after</span>:always;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>需要注意的是：如果页面太长，要打印的很多，要是还有一些动画，或者canvas一系列的，需要当页面全部加载完之后，在调用window.print()方法or(Ctrl+p)，否则答应出来的页面显示不全，最好是先用可以预览的浏览器进行预览像谷歌这样的，比较好。</code></p>
]]></content>
      <categories>
        <category>html</category>
      </categories>
      <tags>
        <tag>print</tag>
      </tags>
  </entry>
  <entry>
    <title>css变量</title>
    <url>/2017/07/05/css-variable/</url>
    <content><![CDATA[<h1 id="css变量介绍"><a href="#css变量介绍" class="headerlink" title="css变量介绍"></a>css变量介绍</h1><p>随着CSS预编译工具Sass/Less/Stylus的关注和逐渐流行，CSS工作组迅速跟进CSS变量的规范制定，并且，很多浏览器已经跟进，目前，在部分项目中已经可以直接使用了。<br>变量的好处就是可以降低维护成本，附带还有更高性能。</p>
<h1 id="css变量使用语法"><a href="#css变量使用语法" class="headerlink" title="css变量使用语法"></a>css变量使用语法</h1><p>CSS中原生的变量定义语法是：–<em>，变量使用语法是：var(–</em>)，其中*表示我们的变量名称。</p>
<p>关于命名这个东西，各种语言都有些显示，例如CSS选择器不能是数字开头，JS中的变量是不能直接数值的，但是，在CSS变量中，这些限制通通没有，还可以是中文，但是不能包含$，[，^，(，%等字符，普通字符局限在只要是“数字[0-9]”“字母[a-zA-Z]”“下划线_”和“短横线-”这些组合。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line"> --666: <span class="comment">#666;</span></span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">  background-color: var(--666);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>或者这样，有了中文还怕啥！<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:root &#123;</span><br><span class="line"> --灰色: <span class="comment">#666;</span></span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">  background-color: var(--灰色);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>无论是变量的定义和使用只能在声明块{}里面，例如，下面这样是无效的：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--灰色: <span class="comment">#666;</span></span><br><span class="line">body &#123;</span><br><span class="line">  background-color: var(--灰色);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:root&#123;</span><br><span class="line">    background-color: var(--灰色);/*:root代表根元素html,所以在这里面定义的变量属于全局变量。*/</span><br><span class="line">&#125;</span><br><span class="line">div &#123;</span><br><span class="line">    --background-color: <span class="comment">#333;/*此时定义的变量只适用于div元素下，属于局部变量*/</span></span><br><span class="line">    background-color: var(--background-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>变量的属性使用也是有权重的，其实可以把CSS的原生变量理解为一种CSS属性。这样，你就对其权重和变量应用规则要容易理解地多。使用起来也就更加方便了，来看一个例子。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    :root &#123;</span><br><span class="line">        --color: purple;</span><br><span class="line">    &#125;</span><br><span class="line">    div &#123;</span><br><span class="line">        --color: green;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">#alert &#123;</span></span><br><span class="line">        --color: red;</span><br><span class="line">    &#125;</span><br><span class="line">    * &#123;</span><br><span class="line">        color: var(--color);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;p&gt;我的紫色继承于根元素&lt;/p&gt;</span><br><span class="line">    &lt;div&gt;我的绿色来自直接设置&lt;/div&gt;</span><br><span class="line">    &lt;div id=<span class="string">&#x27;alert&#x27;</span>&gt;</span><br><span class="line">        ID选择器权重更高，因此我是红色！</span><br><span class="line">        &lt;p&gt;我也是红色，占了继承的光&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><br>变量也是跟着CSS选择器走的，如果变量所在的选择器和使用变量的元素没有交集，是没有效果的。例如#alert定义的变量，只有id为alert的元素才能享有。如果你想变量全局使用，则你可以设置在:root选择器上；</p>
<p>当存在多个同样名称的变量时候，变量的覆盖规则由CSS选择器的权重决定的，但并无!important这种用法，因为没有必要，!important设计初衷是干掉JS的style设置，但对于变量的定义则没有这样的需求。</p>
<p><code>注意 CSS属性名不可以走变量、CSS变量不支持同时多个声明</code></p>
<h1 id="CSS变量使用完整语法"><a href="#CSS变量使用完整语法" class="headerlink" title="CSS变量使用完整语法"></a>CSS变量使用完整语法</h1><p>CSS变量使用的完整语法为：var( [, ]? )，用中文表示就是：var( &lt;自定义属性名&gt; [, &lt;默认值 ]? )，</p>
<p>意思就是，如果我们使用的变量没有定义（注意，仅限于没有定义），则使用后面的值作为元素的属性值。举个例子：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  --background-color: <span class="comment">#666;</span></span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">  background-color: var(--background-color, <span class="comment">#f60);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>则此时的背景色是#f60</p>
<h1 id="CSS变量不合法的缺省特性"><a href="#CSS变量不合法的缺省特性" class="headerlink" title="CSS变量不合法的缺省特性"></a>CSS变量不合法的缺省特性</h1><p>请看下面这个例子：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  --color: 20px;</span><br><span class="line">  background-color: <span class="comment">#369;</span></span><br><span class="line">  background-color: var(--color, <span class="comment">#cd0000);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>请问，此时<body>的背景色是？<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">A. transparent    B. 20px     C. <span class="comment">#369      D. #cd0000</span></span><br></pre></td></tr></table></figure><br>答案是…………………………<code>A. transparent</code></p>
<p>这是CSS变量非常有意思的一个点，对于CSS变量，只要语法是正确的，就算变量里面的值是个乱七八糟的东西，也是会作为正常的声明解析，如果发现变量值是不合法的，例如上面背景色显然不能是20px，则使用背景色的缺省值，也就是默认值代替，于是，上面CSS等同于：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    --color: 20px;</span><br><span class="line">    background-color: <span class="comment">#369;</span></span><br><span class="line">    background-color: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>千万不能想当然得认为等同于background-color:20px，这也是为什么上面要强调CSS默认值的使用仅限于变量未定义的情况，并不包括变量不合法。</p>
<h1 id="CSS变量的空格尾随特性"><a href="#CSS变量的空格尾随特性" class="headerlink" title="CSS变量的空格尾随特性"></a>CSS变量的空格尾随特性</h1><p>请看下面这个例子：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  --size: 20;   </span><br><span class="line">  font-size: var(--size)px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>如果你以为<body>的font-size是20px就太天真了，实际上，此处font-size:var(–size)px等同于font-size:20 px，注意，20后面有个空格，所以，这里的font-size使用的是<body>元素默认的大小。因此，就不要妄图取消就使用一个数值来贯穿全场，还是使用稳妥的做法：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  --size: 20px;   </span><br><span class="line">  font-size: var(--size);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>或者使用CSS3 calc()计算：<code>下一章在介绍CSS calc()</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  --size: 20;   </span><br><span class="line">  font-size: calc(var(--size) * 1px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>此时，<body>的font-size大小才是20px，</p>
<h1 id="CSS变量的相互传递特性"><a href="#CSS变量的相互传递特性" class="headerlink" title="CSS变量的相互传递特性"></a>CSS变量的相互传递特性</h1><p>就是说，我们在CSS变量定义的时候可以直接引入其他变量给自己使用，例如：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  --green: <span class="comment">#4CAF50;   </span></span><br><span class="line">  --backgroundColor: var(--green);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="CSS变量兼容性"><a href="#CSS变量兼容性" class="headerlink" title="CSS变量兼容性"></a>CSS变量兼容性</h1><p><img src="/images/2017-07-05/cssjr.jpg" alt=""><br>ie全家都被pass了，感觉很不好。</p>
<p>如有错误之处，欢迎指正。</p>
<blockquote>
<p>参考网址：<a href="http://www.zhangxinxu.com/wordpress/?p=5804" target="_black">http://www.zhangxinxu.com/wordpress/?p=5804</a></p>
</blockquote>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css变量</tag>
      </tags>
  </entry>
  <entry>
    <title>css calc()</title>
    <url>/2017/07/06/css-calc/</url>
    <content><![CDATA[<h1 id="css-calc-介绍"><a href="#css-calc-介绍" class="headerlink" title="css calc() 介绍"></a>css calc() 介绍</h1><p>像 calc() var() 这样的，乍一看还以为是函数呢，其实他们都是属于CSS的，calc()做自适应布局还是很好用的，其实用box-sizing也是可以的，但是calc()强大到，可以用公式做计算，+、-、*、/，如果你在你点电脑打开win+r输入calc回车，你会发现，系统会自动调出计算器来。<br>其实calc()是css3的一个新功能，可以用来做响应式布局，响应式布局宽度是变化的，这样用calc()就可以实现宽度的动态加载。</p>
<h1 id="css-calc-语法"><a href="#css-calc-语法" class="headerlink" title="css calc() 语法"></a>css calc() 语法</h1><p>calc()语法非常简单，就像我们小时候学加 （+）、减（-）、乘（*）、除（/）一样，使用数学表达式来表示：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.ele &#123;</span><br><span class="line">  width: calc(expression);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>其中”expression”是一个表达式，用来计算长度的表达式。</p>
<h1 id="calc-的运算规则"><a href="#calc-的运算规则" class="headerlink" title="calc()的运算规则"></a>calc()的运算规则</h1><p>calc()使用通用的数学运算规则，但是也提供更智能的功能：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">使用“+”、“-”、“*” 和 “/”四则运算；</span><br><span class="line">1.可以使用百分比、px、em、rem等单位；</span><br><span class="line">2.可以混合使用各种单位进行计算；</span><br><span class="line">3.表达式中有“+”和“-”时，其前后必须要有空格，没有空格的写法是错误的；</span><br><span class="line">4.表达式中有“*”和“/”时，其前后可以没有空格，但建议留有空格。</span><br></pre></td></tr></table></figure></p>
<h1 id="calc-实战小例子"><a href="#calc-实战小例子" class="headerlink" title="calc()实战小例子"></a>calc()实战小例子</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    *&#123;</span><br><span class="line">        margin:0;</span><br><span class="line">        padding:0;</span><br><span class="line">    &#125;</span><br><span class="line">    body&#123;</span><br><span class="line">        width:100%;</span><br><span class="line">        background-color: <span class="comment">#333;</span></span><br><span class="line">    &#125;</span><br><span class="line">    div&#123;</span><br><span class="line">        width:100%;</span><br><span class="line">        height:200px;</span><br><span class="line">        padding: 20px;</span><br><span class="line">        background-color: <span class="comment">#666;</span></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>此时就会发现div把body的身体挤破了，出现横向滚动条了，解决方法可以用 box-sizing: border-box;要是用calc()就可以这样写<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    *&#123;</span><br><span class="line">        margin:0;</span><br><span class="line">        padding:0;</span><br><span class="line">    &#125;</span><br><span class="line">    body&#123;</span><br><span class="line">        width:100%;</span><br><span class="line">        background-color: <span class="comment">#333;</span></span><br><span class="line">    &#125;</span><br><span class="line">    div&#123;</span><br><span class="line">        `width:calc(100% - 20px * 2);`</span><br><span class="line">        height:200px;</span><br><span class="line">        padding: 20px;</span><br><span class="line">        background-color: <span class="comment">#666;</span></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><br>这样也是可以解决的，calc()做响应式开发是很不错的。</p>
<h1 id="calc-响应式开发例子"><a href="#calc-响应式开发例子" class="headerlink" title="calc()响应式开发例子"></a>calc()响应式开发例子</h1><p>做响应式开啊还需要使用到上一章所说道的变量var(),这两个相结合可以很便捷的进行响应式开发，直接上代码吧。</p>
<p><a href="../../../../link/2017-07-06/index.html" target="_black">你也可以点击这里然后变化浏览器窗口大小进行预览</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    :root&#123;</span><br><span class="line">        --columns: 3;</span><br><span class="line">    &#125;</span><br><span class="line">    .box&#123;</span><br><span class="line">        width:80%;</span><br><span class="line">        min-width: 300px;</span><br><span class="line">        margin: auto;</span><br><span class="line">        border: 2px solid <span class="comment">#333;</span></span><br><span class="line">        overflow: hidden;</span><br><span class="line">    &#125;</span><br><span class="line">    .calc&#123;</span><br><span class="line">        width: calc(100% / var(--columns) - 10px * 2);</span><br><span class="line">        background: <span class="comment">#aaa;</span></span><br><span class="line">        margin: 10px;</span><br><span class="line">        <span class="built_in">float</span>: left;</span><br><span class="line">    &#125;</span><br><span class="line">    *&#123;</span><br><span class="line">        margin:0;</span><br><span class="line">        padding:0;</span><br><span class="line">    &#125;</span><br><span class="line">   h5&#123;</span><br><span class="line">       width:100%;</span><br><span class="line">       height:60px;</span><br><span class="line">       text-align: center;</span><br><span class="line">       line-height:60px;</span><br><span class="line">       font-size: 26px;</span><br><span class="line">       color: <span class="comment">#fff;</span></span><br><span class="line">   &#125;</span><br><span class="line">   p&#123;</span><br><span class="line">       padding-top:60px;</span><br><span class="line">       height: 140px;</span><br><span class="line">   &#125;</span><br><span class="line">    img&#123;</span><br><span class="line">        display: block;</span><br><span class="line">        margin: auto;</span><br><span class="line">    &#125;</span><br><span class="line">    @media screen and ( max-width: 992px) &#123;</span><br><span class="line">        :root&#123;</span><br><span class="line">            --columns: 2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   @media screen and ( max-width: 768px) &#123;</span><br><span class="line">       :root&#123;</span><br><span class="line">           --columns: 1;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body style=<span class="string">&quot;background: #666&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;box&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;子鼠&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/shu.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;丑牛&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/niu.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;寅虎&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/hu.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;卯兔&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/tu.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;辰龙&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/long.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;巳蛇&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/she.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;午马&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/ma.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;未羊&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/yang.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;申猴&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/hou.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;酉鸡&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/ji.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;戌狗&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/gou.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;calc&quot;</span>&gt;</span><br><span class="line">            &lt;h5&gt;亥猪&lt;/h5&gt;</span><br><span class="line">            &lt;p&gt;&lt;img src=<span class="string">&quot;img/zhu.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>感觉很厉害，就是变量var()对浏览器的兼容还不是很好，要是决绝了IE那就太厉害了。</p>
<h1 id="calc-兼容性"><a href="#calc-兼容性" class="headerlink" title="calc()兼容性"></a>calc()兼容性</h1><p><img src="/images/2017-07-06/calcjr.jpg" alt=""><br>这个的兼容性还是很好的，不考虑ie8以下的还是可以放心用的，有人说在使用的时候需要加浏览器前缀，像这样的<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.ele &#123;</span><br><span class="line">	/*Firefox*/</span><br><span class="line">	-moz-calc(expression);</span><br><span class="line">	/*chrome safari*/</span><br><span class="line">	-webkit-calc(expression);</span><br><span class="line">	/*Standard */</span><br><span class="line">	calc();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><br>我实际测试了以下，不加前缀也可以用的。</p>
<p>如有错误之处，欢迎指正。</p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css calc()</tag>
      </tags>
  </entry>
  <entry>
    <title>css3选择器</title>
    <url>/2017/07/31/nth/</url>
    <content><![CDATA[<h1 id="磨叨两句"><a href="#磨叨两句" class="headerlink" title="磨叨两句"></a>磨叨两句</h1><p>上来先磨叨两句，用这个选择器已经很久了，但是一直用的都是:nth-of-type这个，:nth-child只是记得，几乎没有用过，最开始知道这两个选择器的时候，肯定两个都用过，但最后一直就用:nth-of-type了，原因我也忘记了，前几天用到:nth-of-type这个选择器，突然忘了他和:nth-child的具体区别是什么了，所以在这里，在回顾一下。</p>
<h1 id="child和of-type-家族"><a href="#child和of-type-家族" class="headerlink" title="child和of-type 家族"></a>child和of-type 家族</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">child 家族</span><br><span class="line">:first-child        p:first-child       选择属于父元素的第一个子元素的每个 &lt;p&gt; 元素。</span><br><span class="line">:nth-child(n)       p:nth-child(2)      选择属于其父元素的第二个子元素的每个 &lt;p&gt; 元素。</span><br><span class="line">:nth-last-child(n)  p:nth-last-child(2) 同上，从最后一个子元素开始计数。</span><br><span class="line">:last-child         p:last-child        选择属于其父元素最后一个子元素每个 &lt;p&gt; 元素。</span><br><span class="line">:only-child         p:only-child        选择属于其父元素的唯一子元素的每个 &lt;p&gt; 元素。</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">of-type 家族</span><br><span class="line">:first-of-type          p:first-of-type         选择属于其父元素的首个 &lt;p&gt; 元素的每个 &lt;p&gt; 元素。</span><br><span class="line">:nth-of-type(n)         p:nth-of-type(2)        选择属于其父元素第二个 &lt;p&gt; 元素的每个 &lt;p&gt; 元素。</span><br><span class="line">:nth-last-of-type(n)	p:nth-last-of-type(2)   同上，但是从最后一个子元素开始计数。</span><br><span class="line">:last-of-type           p:last-of-type          选择属于其父元素的最后 &lt;p&gt; 元素的每个 &lt;p&gt; 元素。</span><br><span class="line">:only-of-type           p:only-of-type          选择属于其父元素唯一的 &lt;p&gt; 元素的每个 &lt;p&gt; 元素。	</span><br></pre></td></tr></table></figure>
<h1 id="nth-of-type-n-和-nth-child-n-对比"><a href="#nth-of-type-n-和-nth-child-n-对比" class="headerlink" title=":nth-of-type(n)和:nth-child(n)对比"></a>:nth-of-type(n)和:nth-child(n)对比</h1><p>这两个家族别的选择器还好说，就:nth-of-type(n)和:nth-child(n)他们俩用的时候还会有一些问题，下面用具体例子来体会一下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">p:nth-child(2)&#123;</span><br><span class="line">    background: red;</span><br><span class="line">&#125;</span><br><span class="line">p:nth-of-type(2)&#123;</span><br><span class="line">    background: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;p&gt;我是p1&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;我是p2&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>此时分别使用这两个css选择器进行渲染时，页面显示的效果是一样的，look<br><img src="/images/2017-07-31/look1.jpg" alt=""></p>
<p>然后我们稍稍改一下再看一下效果</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">p:nth-child(2)&#123;</span><br><span class="line">    background: red;</span><br><span class="line">&#125;</span><br><span class="line">p:nth-of-type(2)&#123;</span><br><span class="line">    background: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;我是div1&lt;/div&gt;</span><br><span class="line">    &lt;p&gt;我是p1&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;我是p2&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/images/2017-07-31/look2.png" alt=""><br>这一下就不友好了，字面理解一下啊，child儿子嘛，第二个儿子，还是个p标签，正好给你变个色吧。而p:nth-of-type(2)他就会去找p标签的第二个，这样我的心里感觉才是我想要的结果<br>我们在加一个div看看啊<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">p:nth-child(2)&#123;</span><br><span class="line">    background: red;</span><br><span class="line">&#125;</span><br><span class="line">/*p:nth-of-type(2)&#123;</span><br><span class="line">    background: red;</span><br><span class="line">&#125;*/</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;我是div1&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;我是div2&lt;/div&gt;</span><br><span class="line">    &lt;p&gt;我是p1&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;我是p2&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><br><img src="/images/2017-07-31/look3.jpg" alt=""><br>看吧，第二个儿子，没有p标签啊，那算了吧，谁也不给上色了。</p>
<p>个人建议找元素，还是用:nth-of-type()，毕竟不用太费脑子，而且照的还快、准、稳。</p>
<p>浏览器兼容情况：所有主流浏览器均支持，除了 IE8 及更早的版本。毕竟是css3新添加的嘛。</p>
<p>上面详细的对比了一组，下面在简单对比一下别的</p>
<h1 id="p-first-child和p-first-of-type"><a href="#p-first-child和p-first-of-type" class="headerlink" title="p:first-child和p:first-of-type"></a>p:first-child和p:first-of-type</h1><p><img src="/images/2017-07-31/look4.png" alt=""></p>
<h1 id="p-nth-last-child-n-和p-nth-last-of-type-n"><a href="#p-nth-last-child-n-和p-nth-last-of-type-n" class="headerlink" title="p:nth-last-child(n)和p:nth-last-of-type(n)"></a>p:nth-last-child(n)和p:nth-last-of-type(n)</h1><p><img src="/images/2017-07-31/look5.png" alt=""><br><code>注意哦：last是从后往前数楼！！</code></p>
<h1 id="p-last-child和p-last-of-type"><a href="#p-last-child和p-last-of-type" class="headerlink" title="p:last-child和p:last-of-type"></a>p:last-child和p:last-of-type</h1><p><img src="/images/2017-07-31/look6.png" alt=""></p>
<h1 id="p-only-child和p-only-of-type"><a href="#p-only-child和p-only-of-type" class="headerlink" title="p:only-child和p:only-of-type"></a>p:only-child和p:only-of-type</h1><p><img src="/images/2017-07-31/look7.png" alt=""><br>因为他是only了，这里div和p都是两个所以不成立，就都不上色了。改成这样在看看，<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">p:only-child&#123;background: red;&#125;</span><br><span class="line">p:only-of-type&#123;background: red;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;我是唯一的div&lt;/div&gt;</span><br><span class="line">    &lt;p&gt;我是唯一的p&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><br><img src="/images/2017-07-31/look8.png" alt=""></p>
<h1 id="总结一下"><a href="#总结一下" class="headerlink" title="总结一下"></a>总结一下</h1><p>是不是有点感觉了，小小的总结一下<br>child家的成员在进行选择的时候不仅要选择元素，而且还要选择当前位置对不对，only的话那就只能有p(拿p举一下例子啊)，div哥哥来了就不高兴了，就不给你显示。</p>
<p>of-type家的成员在进行选择的时候不管你里面有哪个哥哥弟弟p、div、span，选择器元素写好了，他就会按照当前的元素进行查找。</p>
<p>个人还是倾向于of-type家的。快、准、稳，哈哈，今天就到这了，忙了好久，终于有点时间了，上来晃一圈。</p>
<p>如有错误之处，欢迎指正。</p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>:nth-child</tag>
        <tag>:nth-of-type</tag>
      </tags>
  </entry>
  <entry>
    <title>百度地图+echarts3</title>
    <url>/2017/08/15/echarts+baidu/</url>
    <content><![CDATA[<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>本文介绍的是将百度地图和echarts3版本进行结合使用，首先你需要有百度的AK，没有的话去百度地图开放平台<a href="http://lbsyun.baidu.com/" target="_blank">http://lbsyun.baidu.com/</a>,用百度账号（没有的申请一个）,让后去申请一个ak吧，具体怎么做，可以去度娘一下，好多的，进去找到JavaScript API里面也会有申请方法的，很简单的。</p>
<p>让后去echarts3官网去下载echarts3吧<a href="http://echarts.baidu.com/download.html" target="_blank">http://echarts.baidu.com/download.html</a></p>
<p>然后我们还需要一个bmap.js，大家可以点击这里<a href="../../../../link/2017-08-15/bmap.js" target="_black" download='bmap.js'>下载bmap.js</a>谷歌浏览器会有安全提示，你可以不用理他，如果你不放心，你可以点击这里<a href="../../../../link/2017-08-15/bmap.js" target="_black">在线预览bmap.js</a>，在自己电脑中新建一个bmap.js的文件，把他们复制进去。</p>
<p>先看一下效果吧</p>
<p><div id="map" style="width: 800px;height: 600px;"></div></p>
<script src="/js/src/echarts.min.js"></script>
<script src="/js/src/bmap.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=F28AEuS9TLiQeFkEPrktcpk44toP1D0e"></script>
<script>
    var myChart = echarts.init(document.getElementById('map'));
    var data = [
        {name: '海门', value: 9},
        {name: '鄂尔多斯', value: 12},
        {name: '招远', value: 12},
        {name: '舟山', value: 12},
        {name: '齐齐哈尔', value: 14},
        {name: '盐城', value: 15},
        {name: '赤峰', value: 16},
        {name: '青岛', value: 18},
        {name: '乳山', value: 18},
        {name: '金昌', value: 19},
        {name: '泉州', value: 21},
        {name: '莱西', value: 21},
        {name: '日照', value: 21},
        {name: '胶南', value: 22},
        {name: '南通', value: 23},
        {name: '拉萨', value: 24},
        {name: '云浮', value: 24},
        {name: '梅州', value: 25},
        {name: '文登', value: 25},
        {name: '上海', value: 25},
        {name: '攀枝花', value: 25},
        {name: '威海', value: 25},
        {name: '承德', value: 25},
        {name: '厦门', value: 26},
        {name: '汕尾', value: 26},
        {name: '潮州', value: 26},
        {name: '丹东', value: 27},
        {name: '太仓', value: 27},
        {name: '曲靖', value: 27},
        {name: '烟台', value: 28},
        {name: '福州', value: 29},
        {name: '瓦房店', value: 30},
        {name: '即墨', value: 30},
        {name: '抚顺', value: 31},
        {name: '玉溪', value: 31},
        {name: '张家口', value: 31},
        {name: '阳泉', value: 31},
        {name: '莱州', value: 32},
        {name: '湖州', value: 32},
        {name: '汕头', value: 32},
        {name: '昆山', value: 33},
        {name: '宁波', value: 33},
        {name: '湛江', value: 33},
        {name: '揭阳', value: 34},
        {name: '荣成', value: 34},
        {name: '连云港', value: 35},
        {name: '葫芦岛', value: 35},
        {name: '常熟', value: 36},
        {name: '东莞', value: 36},
        {name: '河源', value: 36},
        {name: '淮安', value: 36},
        {name: '泰州', value: 36},
        {name: '南宁', value: 37},
        {name: '营口', value: 37},
        {name: '惠州', value: 37},
        {name: '江阴', value: 37},
        {name: '蓬莱', value: 37},
        {name: '韶关', value: 38},
        {name: '嘉峪关', value: 38},
        {name: '广州', value: 38},
        {name: '延安', value: 38},
        {name: '太原', value: 39},
        {name: '清远', value: 39},
        {name: '中山', value: 39},
        {name: '昆明', value: 39},
        {name: '寿光', value: 40},
        {name: '盘锦', value: 40},
        {name: '长治', value: 41},
        {name: '深圳', value: 41},
        {name: '珠海', value: 42},
        {name: '宿迁', value: 43},
        {name: '咸阳', value: 43},
        {name: '铜川', value: 44},
        {name: '平度', value: 44},
        {name: '佛山', value: 44},
        {name: '海口', value: 44},
        {name: '江门', value: 45},
        {name: '章丘', value: 45},
        {name: '肇庆', value: 46},
        {name: '大连', value: 47},
        {name: '临汾', value: 47},
        {name: '吴江', value: 47},
        {name: '石嘴山', value: 49},
        {name: '沈阳', value: 50},
        {name: '苏州', value: 50},
        {name: '茂名', value: 50},
        {name: '嘉兴', value: 51},
        {name: '长春', value: 51},
        {name: '胶州', value: 52},
        {name: '银川', value: 52},
        {name: '张家港', value: 52},
        {name: '三门峡', value: 53},
        {name: '锦州', value: 54},
        {name: '南昌', value: 54},
        {name: '柳州', value: 54},
        {name: '三亚', value: 54},
        {name: '自贡', value: 56},
        {name: '吉林', value: 56},
        {name: '阳江', value: 57},
        {name: '泸州', value: 57},
        {name: '西宁', value: 57},
        {name: '宜宾', value: 58},
        {name: '呼和浩特', value: 58},
        {name: '成都', value: 58},
        {name: '大同', value: 58},
        {name: '镇江', value: 59},
        {name: '桂林', value: 59},
        {name: '张家界', value: 59},
        {name: '宜兴', value: 59},
        {name: '北海', value: 60},
        {name: '西安', value: 61},
        {name: '金坛', value: 62},
        {name: '东营', value: 62},
        {name: '牡丹江', value: 63},
        {name: '遵义', value: 63},
        {name: '绍兴', value: 63},
        {name: '扬州', value: 64},
        {name: '常州', value: 64},
        {name: '潍坊', value: 65},
        {name: '重庆', value: 66},
        {name: '台州', value: 67},
        {name: '南京', value: 67},
        {name: '滨州', value: 70},
        {name: '贵阳', value: 71},
        {name: '无锡', value: 71},
        {name: '本溪', value: 71},
        {name: '克拉玛依', value: 72},
        {name: '渭南', value: 72},
        {name: '马鞍山', value: 72},
        {name: '宝鸡', value: 72},
        {name: '焦作', value: 75},
        {name: '句容', value: 75},
        {name: '北京', value: 79},
        {name: '徐州', value: 79},
        {name: '衡水', value: 80},
        {name: '包头', value: 80},
        {name: '绵阳', value: 80},
        {name: '乌鲁木齐', value: 84},
        {name: '枣庄', value: 84},
        {name: '杭州', value: 84},
        {name: '淄博', value: 85},
        {name: '鞍山', value: 86},
        {name: '溧阳', value: 86},
        {name: '库尔勒', value: 86},
        {name: '安阳', value: 90},
        {name: '开封', value: 90},
        {name: '济南', value: 92},
        {name: '德阳', value: 93},
        {name: '温州', value: 95},
        {name: '九江', value: 96},
        {name: '邯郸', value: 98},
        {name: '临安', value: 99},
        {name: '兰州', value: 99},
        {name: '沧州', value: 100},
        {name: '临沂', value: 103},
        {name: '南充', value: 104},
        {name: '天津', value: 105},
        {name: '富阳', value: 106},
        {name: '泰安', value: 112},
        {name: '诸暨', value: 112},
        {name: '郑州', value: 113},
        {name: '哈尔滨', value: 114},
        {name: '聊城', value: 116},
        {name: '芜湖', value: 117},
        {name: '唐山', value: 119},
        {name: '平顶山', value: 119},
        {name: '邢台', value: 119},
        {name: '德州', value: 120},
        {name: '济宁', value: 120},
        {name: '荆州', value: 127},
        {name: '宜昌', value: 130},
        {name: '义乌', value: 132},
        {name: '丽水', value: 133},
        {name: '洛阳', value: 134},
        {name: '秦皇岛', value: 136},
        {name: '株洲', value: 143},
        {name: '石家庄', value: 147},
        {name: '莱芜', value: 148},
        {name: '常德', value: 152},
        {name: '保定', value: 153},
        {name: '湘潭', value: 154},
        {name: '金华', value: 157},
        {name: '岳阳', value: 169},
        {name: '长沙', value: 175},
        {name: '衢州', value: 177},
        {name: '廊坊', value: 193},
        {name: '菏泽', value: 194},
        {name: '合肥', value: 229},
        {name: '武汉', value: 273},
        {name: '大庆', value: 279}
    ];
    var geoCoordMap = {
        '海门':[121.15,31.89],
        '鄂尔多斯':[109.781327,39.608266],
        '招远':[120.38,37.35],
        '舟山':[122.207216,29.985295],
        '齐齐哈尔':[123.97,47.33],
        '盐城':[120.13,33.38],
        '赤峰':[118.87,42.28],
        '青岛':[120.33,36.07],
        '乳山':[121.52,36.89],
        '金昌':[102.188043,38.520089],
        '泉州':[118.58,24.93],
        '莱西':[120.53,36.86],
        '日照':[119.46,35.42],
        '胶南':[119.97,35.88],
        '南通':[121.05,32.08],
        '拉萨':[91.11,29.97],
        '云浮':[112.02,22.93],
        '梅州':[116.1,24.55],
        '文登':[122.05,37.2],
        '上海':[121.48,31.22],
        '攀枝花':[101.718637,26.582347],
        '威海':[122.1,37.5],
        '承德':[117.93,40.97],
        '厦门':[118.1,24.46],
        '汕尾':[115.375279,22.786211],
        '潮州':[116.63,23.68],
        '丹东':[124.37,40.13],
        '太仓':[121.1,31.45],
        '曲靖':[103.79,25.51],
        '烟台':[121.39,37.52],
        '福州':[119.3,26.08],
        '瓦房店':[121.979603,39.627114],
        '即墨':[120.45,36.38],
        '抚顺':[123.97,41.97],
        '玉溪':[102.52,24.35],
        '张家口':[114.87,40.82],
        '阳泉':[113.57,37.85],
        '莱州':[119.942327,37.177017],
        '湖州':[120.1,30.86],
        '汕头':[116.69,23.39],
        '昆山':[120.95,31.39],
        '宁波':[121.56,29.86],
        '湛江':[110.359377,21.270708],
        '揭阳':[116.35,23.55],
        '荣成':[122.41,37.16],
        '连云港':[119.16,34.59],
        '葫芦岛':[120.836932,40.711052],
        '常熟':[120.74,31.64],
        '东莞':[113.75,23.04],
        '河源':[114.68,23.73],
        '淮安':[119.15,33.5],
        '泰州':[119.9,32.49],
        '南宁':[108.33,22.84],
        '营口':[122.18,40.65],
        '惠州':[114.4,23.09],
        '江阴':[120.26,31.91],
        '蓬莱':[120.75,37.8],
        '韶关':[113.62,24.84],
        '嘉峪关':[98.289152,39.77313],
        '广州':[113.23,23.16],
        '延安':[109.47,36.6],
        '太原':[112.53,37.87],
        '清远':[113.01,23.7],
        '中山':[113.38,22.52],
        '昆明':[102.73,25.04],
        '寿光':[118.73,36.86],
        '盘锦':[122.070714,41.119997],
        '长治':[113.08,36.18],
        '深圳':[114.07,22.62],
        '珠海':[113.52,22.3],
        '宿迁':[118.3,33.96],
        '咸阳':[108.72,34.36],
        '铜川':[109.11,35.09],
        '平度':[119.97,36.77],
        '佛山':[113.11,23.05],
        '海口':[110.35,20.02],
        '江门':[113.06,22.61],
        '章丘':[117.53,36.72],
        '肇庆':[112.44,23.05],
        '大连':[121.62,38.92],
        '临汾':[111.5,36.08],
        '吴江':[120.63,31.16],
        '石嘴山':[106.39,39.04],
        '沈阳':[123.38,41.8],
        '苏州':[120.62,31.32],
        '茂名':[110.88,21.68],
        '嘉兴':[120.76,30.77],
        '长春':[125.35,43.88],
        '胶州':[120.03336,36.264622],
        '银川':[106.27,38.47],
        '张家港':[120.555821,31.875428],
        '三门峡':[111.19,34.76],
        '锦州':[121.15,41.13],
        '南昌':[115.89,28.68],
        '柳州':[109.4,24.33],
        '三亚':[109.511909,18.252847],
        '自贡':[104.778442,29.33903],
        '吉林':[126.57,43.87],
        '阳江':[111.95,21.85],
        '泸州':[105.39,28.91],
        '西宁':[101.74,36.56],
        '宜宾':[104.56,29.77],
        '呼和浩特':[111.65,40.82],
        '成都':[104.06,30.67],
        '大同':[113.3,40.12],
        '镇江':[119.44,32.2],
        '桂林':[110.28,25.29],
        '张家界':[110.479191,29.117096],
        '宜兴':[119.82,31.36],
        '北海':[109.12,21.49],
        '西安':[108.95,34.27],
        '金坛':[119.56,31.74],
        '东营':[118.49,37.46],
        '牡丹江':[129.58,44.6],
        '遵义':[106.9,27.7],
        '绍兴':[120.58,30.01],
        '扬州':[119.42,32.39],
        '常州':[119.95,31.79],
        '潍坊':[119.1,36.62],
        '重庆':[106.54,29.59],
        '台州':[121.420757,28.656386],
        '南京':[118.78,32.04],
        '滨州':[118.03,37.36],
        '贵阳':[106.71,26.57],
        '无锡':[120.29,31.59],
        '本溪':[123.73,41.3],
        '克拉玛依':[84.77,45.59],
        '渭南':[109.5,34.52],
        '马鞍山':[118.48,31.56],
        '宝鸡':[107.15,34.38],
        '焦作':[113.21,35.24],
        '句容':[119.16,31.95],
        '北京':[116.46,39.92],
        '徐州':[117.2,34.26],
        '衡水':[115.72,37.72],
        '包头':[110,40.58],
        '绵阳':[104.73,31.48],
        '乌鲁木齐':[87.68,43.77],
        '枣庄':[117.57,34.86],
        '杭州':[120.19,30.26],
        '淄博':[118.05,36.78],
        '鞍山':[122.85,41.12],
        '溧阳':[119.48,31.43],
        '库尔勒':[86.06,41.68],
        '安阳':[114.35,36.1],
        '开封':[114.35,34.79],
        '济南':[117,36.65],
        '德阳':[104.37,31.13],
        '温州':[120.65,28.01],
        '九江':[115.97,29.71],
        '邯郸':[114.47,36.6],
        '临安':[119.72,30.23],
        '兰州':[103.73,36.03],
        '沧州':[116.83,38.33],
        '临沂':[118.35,35.05],
        '南充':[106.110698,30.837793],
        '天津':[117.2,39.13],
        '富阳':[119.95,30.07],
        '泰安':[117.13,36.18],
        '诸暨':[120.23,29.71],
        '郑州':[113.65,34.76],
        '哈尔滨':[126.63,45.75],
        '聊城':[115.97,36.45],
        '芜湖':[118.38,31.33],
        '唐山':[118.02,39.63],
        '平顶山':[113.29,33.75],
        '邢台':[114.48,37.05],
        '德州':[116.29,37.45],
        '济宁':[116.59,35.38],
        '荆州':[112.239741,30.335165],
        '宜昌':[111.3,30.7],
        '义乌':[120.06,29.32],
        '丽水':[119.92,28.45],
        '洛阳':[112.44,34.7],
        '秦皇岛':[119.57,39.95],
        '株洲':[113.16,27.83],
        '石家庄':[114.48,38.03],
        '莱芜':[117.67,36.19],
        '常德':[111.69,29.05],
        '保定':[115.48,38.85],
        '湘潭':[112.91,27.87],
        '金华':[119.64,29.12],
        '岳阳':[113.09,29.37],
        '长沙':[113,28.21],
        '衢州':[118.88,28.97],
        '廊坊':[116.7,39.53],
        '菏泽':[115.480656,35.23375],
        '合肥':[117.27,31.86],
        '武汉':[114.31,30.52],
        '大庆':[125.03,46.58]
    };

    var convertData = function (data) {
        var res = [];
        for (var i = 0; i < data.length; i++) {
            var geoCoord = geoCoordMap[data[i].name];
            if (geoCoord) {
                res.push({
                    name: data[i].name,
                    value: geoCoord.concat(data[i].value)
                });
            }
        }
        return res;
    };

    option = {
        title: {
            text: '全国主要城市空气质量 - 百度地图',
            subtext: 'data from PM25.in',
            sublink: 'http://www.pm25.in',
            left: 'center'
        },
        tooltip : {
            trigger: 'item'
        },
        bmap: {
            center: [104.114129, 37.550339],
            zoom: 5,
            roam: true,
            mapStyle: {
                styleJson: [{
                    'featureType': 'water',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#d1d1d1'
                    }
                }, {
                    'featureType': 'land',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#f3f3f3'
                    }
                }, {
                    'featureType': 'railway',
                    'elementType': 'all',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'highway',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#fdfdfd'
                    }
                }, {
                    'featureType': 'highway',
                    'elementType': 'labels',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'arterial',
                    'elementType': 'geometry',
                    'stylers': {
                        'color': '#fefefe'
                    }
                }, {
                    'featureType': 'arterial',
                    'elementType': 'geometry.fill',
                    'stylers': {
                        'color': '#fefefe'
                    }
                }, {
                    'featureType': 'poi',
                    'elementType': 'all',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'green',
                    'elementType': 'all',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'subway',
                    'elementType': 'all',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'manmade',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#d1d1d1'
                    }
                }, {
                    'featureType': 'local',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#d1d1d1'
                    }
                }, {
                    'featureType': 'arterial',
                    'elementType': 'labels',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'boundary',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#fefefe'
                    }
                }, {
                    'featureType': 'building',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#d1d1d1'
                    }
                }, {
                    'featureType': 'label',
                    'elementType': 'labels.text.fill',
                    'stylers': {
                        'color': '#999999'
                    }
                }]
            }
        },
        series : [
            {
                name: 'pm2.5',
                type: 'scatter',
                coordinateSystem: 'bmap',
                data: convertData(data),
                symbolSize: function (val) {
                    return val[2] / 10;
                },
                label: {
                    normal: {
                        formatter: '{b}',
                        position: 'right',
                        show: false
                    },
                    emphasis: {
                        show: true
                    }
                },
                itemStyle: {
                    normal: {
                        color: 'purple'
                    }
                }
            },
            {
                name: 'Top 5',
                type: 'effectScatter',
                coordinateSystem: 'bmap',
                data: convertData(data.sort(function (a, b) {
                    return b.value - a.value;
                }).slice(0, 6)),
                symbolSize: function (val) {
                    return val[2] / 10;
                },
                showEffectOn: 'render',
                rippleEffect: {
                    brushType: 'stroke'
                },
                hoverAnimation: true,
                label: {
                    normal: {
                        formatter: '{b}',
                        position: 'right',
                        show: true
                    }
                },
                itemStyle: {
                    normal: {
                        color: 'purple',
                        shadowBlur: 10,
                        shadowColor: '#333'
                    }
                },
                zlevel: 1
            }
        ]
    };
    myChart.setOption(option);
</script>

<h1 id="头部引入"><a href="#头部引入" class="headerlink" title="头部引入"></a>头部引入</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;百度地图+echarts3&lt;/title&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;echarts.min.js&quot;</span>&gt;&lt;/script&gt;//引入echarts</span><br><span class="line">    &lt;script src=<span class="string">&quot;bmap.js&quot;</span>&gt;&lt;/script&gt;//引入bmap</span><br><span class="line">    &lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;http://api.map.baidu.com/api?v=2.0&amp;ak=F28AEuS9TLiQeFkEPrktcpk44toP1D0e&quot;</span>&gt;&lt;/script&gt;//引入你申请的ak</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure>
<h1 id="js部分代码"><a href="#js部分代码" class="headerlink" title="js部分代码"></a>js部分代码</h1><p>在这里就把有用的拿出来说一下，下面会给大家所有的代码。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bmap: &#123;//这里就是写百度地图的一些场景</span><br><span class="line">        center: [104.114129, 37.550339],//中心显示位置，经纬度</span><br><span class="line">        zoom: 5,//放大倍数</span><br><span class="line">        roam: <span class="literal">true</span>,//允许放大</span><br><span class="line">        mapStyle: &#123;</span><br><span class="line">            styleJson: [&#123;//水的颜色</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;water&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#d1d1d1&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;//土地颜色</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;land&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#f3f3f3&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;//下面这些标签都是调整地图的，大家可以自行研究</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;railway&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;highway&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#fdfdfd&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;highway&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;labels&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;arterial&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;geometry&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#fefefe&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;arterial&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;geometry.fill&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#fefefe&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;poi&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;green&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;subway&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;manmade&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#d1d1d1&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;local&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#d1d1d1&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;arterial&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;labels&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;boundary&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#fefefe&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;building&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#d1d1d1&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;label&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;labels.text.fill&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#999999&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    series : [//下面的就是echarts的参数设置</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">&#x27;名称&#x27;</span>,</span><br><span class="line">            <span class="built_in">type</span>: <span class="string">&#x27;scatter&#x27;</span>,//散点（气泡）图</span><br><span class="line">            coordinateSystem: <span class="string">&#x27;bmap&#x27;</span>,</span><br><span class="line">            data: convertData(data),</span><br><span class="line">            symbolSize: 6,</span><br><span class="line">            label: &#123;</span><br><span class="line">                normal: &#123;</span><br><span class="line">                    formatter: <span class="string">&#x27;&#123;b&#125;&#x27;</span>,</span><br><span class="line">                    position: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                    show: <span class="literal">false</span></span><br><span class="line">                &#125;,</span><br><span class="line">                emphasis: &#123;</span><br><span class="line">                    show: <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            itemStyle: &#123;</span><br><span class="line">                normal: &#123;</span><br><span class="line">                    color: <span class="string">&#x27;purple&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">            name: <span class="string">&#x27;Top 5&#x27;</span>,</span><br><span class="line">            <span class="built_in">type</span>: <span class="string">&#x27;effectScatter&#x27;</span>,//带有涟漪特效动画的散点（气泡）图</span><br><span class="line">            coordinateSystem: <span class="string">&#x27;bmap&#x27;</span>,</span><br><span class="line">            data: convertData(data.sort(<span class="keyword">function</span> (a, b) &#123;</span><br><span class="line">                <span class="built_in">return</span> b.value - a.value;</span><br><span class="line">            &#125;).slice(0, 6)),</span><br><span class="line">            symbolSize: <span class="keyword">function</span> (val) &#123;</span><br><span class="line">                <span class="built_in">return</span> val[2] / 10;</span><br><span class="line">            &#125;,</span><br><span class="line">            showEffectOn: <span class="string">&#x27;render&#x27;</span>,</span><br><span class="line">            rippleEffect: &#123;</span><br><span class="line">                brushType: <span class="string">&#x27;stroke&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            hoverAnimation: <span class="literal">true</span>,</span><br><span class="line">            label: &#123;</span><br><span class="line">                normal: &#123;</span><br><span class="line">                    formatter: <span class="string">&#x27;&#123;b&#125;&#x27;</span>,</span><br><span class="line">                    position: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                    show: <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            itemStyle: &#123;</span><br><span class="line">                normal: &#123;</span><br><span class="line">                    color: <span class="string">&#x27;purple&#x27;</span>,</span><br><span class="line">                    shadowBlur: 10,</span><br><span class="line">                    shadowColor: <span class="string">&#x27;#333&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            zlevel: 1</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure></p>
<h1 id="all代码"><a href="#all代码" class="headerlink" title="all代码"></a>all代码</h1><p>所有的代码都在这了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;百度地图+echarts3&lt;/title&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;echarts.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;bmap.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script <span class="built_in">type</span>=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;http://api.map.baidu.com/api?v=2.0&amp;ak=F28AEuS9TLiQeFkEPrktcpk44toP1D0e&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;map&quot;</span> style=<span class="string">&quot;width: 800px;height: 600px;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var myChart = echarts.init(document.getElementById(<span class="string">&#x27;map&#x27;</span>));</span><br><span class="line">    var data = [</span><br><span class="line">        &#123;name: <span class="string">&#x27;海门&#x27;</span>, value: 9&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;鄂尔多斯&#x27;</span>, value: 12&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;招远&#x27;</span>, value: 12&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;舟山&#x27;</span>, value: 12&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;齐齐哈尔&#x27;</span>, value: 14&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;盐城&#x27;</span>, value: 15&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;赤峰&#x27;</span>, value: 16&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;青岛&#x27;</span>, value: 18&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;乳山&#x27;</span>, value: 18&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;金昌&#x27;</span>, value: 19&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;泉州&#x27;</span>, value: 21&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;莱西&#x27;</span>, value: 21&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;日照&#x27;</span>, value: 21&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;胶南&#x27;</span>, value: 22&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南通&#x27;</span>, value: 23&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;拉萨&#x27;</span>, value: 24&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;云浮&#x27;</span>, value: 24&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;梅州&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;文登&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;上海&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;攀枝花&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;威海&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;承德&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;厦门&#x27;</span>, value: 26&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;汕尾&#x27;</span>, value: 26&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;潮州&#x27;</span>, value: 26&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;丹东&#x27;</span>, value: 27&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;太仓&#x27;</span>, value: 27&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;曲靖&#x27;</span>, value: 27&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;烟台&#x27;</span>, value: 28&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;福州&#x27;</span>, value: 29&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;瓦房店&#x27;</span>, value: 30&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;即墨&#x27;</span>, value: 30&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;抚顺&#x27;</span>, value: 31&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;玉溪&#x27;</span>, value: 31&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;张家口&#x27;</span>, value: 31&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;阳泉&#x27;</span>, value: 31&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;莱州&#x27;</span>, value: 32&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;湖州&#x27;</span>, value: 32&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;汕头&#x27;</span>, value: 32&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;昆山&#x27;</span>, value: 33&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宁波&#x27;</span>, value: 33&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;湛江&#x27;</span>, value: 33&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;揭阳&#x27;</span>, value: 34&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;荣成&#x27;</span>, value: 34&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;连云港&#x27;</span>, value: 35&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;葫芦岛&#x27;</span>, value: 35&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;常熟&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;东莞&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;河源&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;淮安&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;泰州&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南宁&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;营口&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;惠州&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;江阴&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;蓬莱&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;韶关&#x27;</span>, value: 38&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;嘉峪关&#x27;</span>, value: 38&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;广州&#x27;</span>, value: 38&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;延安&#x27;</span>, value: 38&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;太原&#x27;</span>, value: 39&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;清远&#x27;</span>, value: 39&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;中山&#x27;</span>, value: 39&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;昆明&#x27;</span>, value: 39&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;寿光&#x27;</span>, value: 40&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;盘锦&#x27;</span>, value: 40&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;长治&#x27;</span>, value: 41&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;深圳&#x27;</span>, value: 41&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;珠海&#x27;</span>, value: 42&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宿迁&#x27;</span>, value: 43&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;咸阳&#x27;</span>, value: 43&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;铜川&#x27;</span>, value: 44&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;平度&#x27;</span>, value: 44&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;佛山&#x27;</span>, value: 44&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;海口&#x27;</span>, value: 44&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;江门&#x27;</span>, value: 45&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;章丘&#x27;</span>, value: 45&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;肇庆&#x27;</span>, value: 46&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;大连&#x27;</span>, value: 47&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;临汾&#x27;</span>, value: 47&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;吴江&#x27;</span>, value: 47&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;石嘴山&#x27;</span>, value: 49&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;沈阳&#x27;</span>, value: 50&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;苏州&#x27;</span>, value: 50&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;茂名&#x27;</span>, value: 50&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;嘉兴&#x27;</span>, value: 51&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;长春&#x27;</span>, value: 51&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;胶州&#x27;</span>, value: 52&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;银川&#x27;</span>, value: 52&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;张家港&#x27;</span>, value: 52&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;三门峡&#x27;</span>, value: 53&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;锦州&#x27;</span>, value: 54&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南昌&#x27;</span>, value: 54&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;柳州&#x27;</span>, value: 54&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;三亚&#x27;</span>, value: 54&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;自贡&#x27;</span>, value: 56&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;吉林&#x27;</span>, value: 56&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;阳江&#x27;</span>, value: 57&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;泸州&#x27;</span>, value: 57&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;西宁&#x27;</span>, value: 57&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宜宾&#x27;</span>, value: 58&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;呼和浩特&#x27;</span>, value: 58&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;成都&#x27;</span>, value: 58&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;大同&#x27;</span>, value: 58&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;镇江&#x27;</span>, value: 59&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;桂林&#x27;</span>, value: 59&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;张家界&#x27;</span>, value: 59&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宜兴&#x27;</span>, value: 59&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;北海&#x27;</span>, value: 60&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;西安&#x27;</span>, value: 61&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;金坛&#x27;</span>, value: 62&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;东营&#x27;</span>, value: 62&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;牡丹江&#x27;</span>, value: 63&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;遵义&#x27;</span>, value: 63&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;绍兴&#x27;</span>, value: 63&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;扬州&#x27;</span>, value: 64&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;常州&#x27;</span>, value: 64&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;潍坊&#x27;</span>, value: 65&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;重庆&#x27;</span>, value: 66&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;台州&#x27;</span>, value: 67&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南京&#x27;</span>, value: 67&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;滨州&#x27;</span>, value: 70&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;贵阳&#x27;</span>, value: 71&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;无锡&#x27;</span>, value: 71&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;本溪&#x27;</span>, value: 71&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;克拉玛依&#x27;</span>, value: 72&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;渭南&#x27;</span>, value: 72&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;马鞍山&#x27;</span>, value: 72&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宝鸡&#x27;</span>, value: 72&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;焦作&#x27;</span>, value: 75&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;句容&#x27;</span>, value: 75&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;北京&#x27;</span>, value: 79&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;徐州&#x27;</span>, value: 79&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;衡水&#x27;</span>, value: 80&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;包头&#x27;</span>, value: 80&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;绵阳&#x27;</span>, value: 80&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;乌鲁木齐&#x27;</span>, value: 84&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;枣庄&#x27;</span>, value: 84&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;杭州&#x27;</span>, value: 84&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;淄博&#x27;</span>, value: 85&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;鞍山&#x27;</span>, value: 86&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;溧阳&#x27;</span>, value: 86&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;库尔勒&#x27;</span>, value: 86&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;安阳&#x27;</span>, value: 90&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;开封&#x27;</span>, value: 90&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;济南&#x27;</span>, value: 92&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;德阳&#x27;</span>, value: 93&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;温州&#x27;</span>, value: 95&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;九江&#x27;</span>, value: 96&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;邯郸&#x27;</span>, value: 98&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;临安&#x27;</span>, value: 99&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;兰州&#x27;</span>, value: 99&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;沧州&#x27;</span>, value: 100&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;临沂&#x27;</span>, value: 103&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南充&#x27;</span>, value: 104&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;天津&#x27;</span>, value: 105&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;富阳&#x27;</span>, value: 106&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;泰安&#x27;</span>, value: 112&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;诸暨&#x27;</span>, value: 112&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;郑州&#x27;</span>, value: 113&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;哈尔滨&#x27;</span>, value: 114&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;聊城&#x27;</span>, value: 116&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;芜湖&#x27;</span>, value: 117&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;唐山&#x27;</span>, value: 119&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;平顶山&#x27;</span>, value: 119&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;邢台&#x27;</span>, value: 119&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;德州&#x27;</span>, value: 120&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;济宁&#x27;</span>, value: 120&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;荆州&#x27;</span>, value: 127&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宜昌&#x27;</span>, value: 130&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;义乌&#x27;</span>, value: 132&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;丽水&#x27;</span>, value: 133&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;洛阳&#x27;</span>, value: 134&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;秦皇岛&#x27;</span>, value: 136&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;株洲&#x27;</span>, value: 143&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;石家庄&#x27;</span>, value: 147&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;莱芜&#x27;</span>, value: 148&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;常德&#x27;</span>, value: 152&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;保定&#x27;</span>, value: 153&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;湘潭&#x27;</span>, value: 154&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;金华&#x27;</span>, value: 157&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;岳阳&#x27;</span>, value: 169&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;长沙&#x27;</span>, value: 175&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;衢州&#x27;</span>, value: 177&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;廊坊&#x27;</span>, value: 193&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;菏泽&#x27;</span>, value: 194&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;合肥&#x27;</span>, value: 229&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;武汉&#x27;</span>, value: 273&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;大庆&#x27;</span>, value: 279&#125;</span><br><span class="line">    ];</span><br><span class="line">    var geoCoordMap = &#123;</span><br><span class="line">        <span class="string">&#x27;海门&#x27;</span>:[121.15,31.89],</span><br><span class="line">        <span class="string">&#x27;鄂尔多斯&#x27;</span>:[109.781327,39.608266],</span><br><span class="line">        <span class="string">&#x27;招远&#x27;</span>:[120.38,37.35],</span><br><span class="line">        <span class="string">&#x27;舟山&#x27;</span>:[122.207216,29.985295],</span><br><span class="line">        <span class="string">&#x27;齐齐哈尔&#x27;</span>:[123.97,47.33],</span><br><span class="line">        <span class="string">&#x27;盐城&#x27;</span>:[120.13,33.38],</span><br><span class="line">        <span class="string">&#x27;赤峰&#x27;</span>:[118.87,42.28],</span><br><span class="line">        <span class="string">&#x27;青岛&#x27;</span>:[120.33,36.07],</span><br><span class="line">        <span class="string">&#x27;乳山&#x27;</span>:[121.52,36.89],</span><br><span class="line">        <span class="string">&#x27;金昌&#x27;</span>:[102.188043,38.520089],</span><br><span class="line">        <span class="string">&#x27;泉州&#x27;</span>:[118.58,24.93],</span><br><span class="line">        <span class="string">&#x27;莱西&#x27;</span>:[120.53,36.86],</span><br><span class="line">        <span class="string">&#x27;日照&#x27;</span>:[119.46,35.42],</span><br><span class="line">        <span class="string">&#x27;胶南&#x27;</span>:[119.97,35.88],</span><br><span class="line">        <span class="string">&#x27;南通&#x27;</span>:[121.05,32.08],</span><br><span class="line">        <span class="string">&#x27;拉萨&#x27;</span>:[91.11,29.97],</span><br><span class="line">        <span class="string">&#x27;云浮&#x27;</span>:[112.02,22.93],</span><br><span class="line">        <span class="string">&#x27;梅州&#x27;</span>:[116.1,24.55],</span><br><span class="line">        <span class="string">&#x27;文登&#x27;</span>:[122.05,37.2],</span><br><span class="line">        <span class="string">&#x27;上海&#x27;</span>:[121.48,31.22],</span><br><span class="line">        <span class="string">&#x27;攀枝花&#x27;</span>:[101.718637,26.582347],</span><br><span class="line">        <span class="string">&#x27;威海&#x27;</span>:[122.1,37.5],</span><br><span class="line">        <span class="string">&#x27;承德&#x27;</span>:[117.93,40.97],</span><br><span class="line">        <span class="string">&#x27;厦门&#x27;</span>:[118.1,24.46],</span><br><span class="line">        <span class="string">&#x27;汕尾&#x27;</span>:[115.375279,22.786211],</span><br><span class="line">        <span class="string">&#x27;潮州&#x27;</span>:[116.63,23.68],</span><br><span class="line">        <span class="string">&#x27;丹东&#x27;</span>:[124.37,40.13],</span><br><span class="line">        <span class="string">&#x27;太仓&#x27;</span>:[121.1,31.45],</span><br><span class="line">        <span class="string">&#x27;曲靖&#x27;</span>:[103.79,25.51],</span><br><span class="line">        <span class="string">&#x27;烟台&#x27;</span>:[121.39,37.52],</span><br><span class="line">        <span class="string">&#x27;福州&#x27;</span>:[119.3,26.08],</span><br><span class="line">        <span class="string">&#x27;瓦房店&#x27;</span>:[121.979603,39.627114],</span><br><span class="line">        <span class="string">&#x27;即墨&#x27;</span>:[120.45,36.38],</span><br><span class="line">        <span class="string">&#x27;抚顺&#x27;</span>:[123.97,41.97],</span><br><span class="line">        <span class="string">&#x27;玉溪&#x27;</span>:[102.52,24.35],</span><br><span class="line">        <span class="string">&#x27;张家口&#x27;</span>:[114.87,40.82],</span><br><span class="line">        <span class="string">&#x27;阳泉&#x27;</span>:[113.57,37.85],</span><br><span class="line">        <span class="string">&#x27;莱州&#x27;</span>:[119.942327,37.177017],</span><br><span class="line">        <span class="string">&#x27;湖州&#x27;</span>:[120.1,30.86],</span><br><span class="line">        <span class="string">&#x27;汕头&#x27;</span>:[116.69,23.39],</span><br><span class="line">        <span class="string">&#x27;昆山&#x27;</span>:[120.95,31.39],</span><br><span class="line">        <span class="string">&#x27;宁波&#x27;</span>:[121.56,29.86],</span><br><span class="line">        <span class="string">&#x27;湛江&#x27;</span>:[110.359377,21.270708],</span><br><span class="line">        <span class="string">&#x27;揭阳&#x27;</span>:[116.35,23.55],</span><br><span class="line">        <span class="string">&#x27;荣成&#x27;</span>:[122.41,37.16],</span><br><span class="line">        <span class="string">&#x27;连云港&#x27;</span>:[119.16,34.59],</span><br><span class="line">        <span class="string">&#x27;葫芦岛&#x27;</span>:[120.836932,40.711052],</span><br><span class="line">        <span class="string">&#x27;常熟&#x27;</span>:[120.74,31.64],</span><br><span class="line">        <span class="string">&#x27;东莞&#x27;</span>:[113.75,23.04],</span><br><span class="line">        <span class="string">&#x27;河源&#x27;</span>:[114.68,23.73],</span><br><span class="line">        <span class="string">&#x27;淮安&#x27;</span>:[119.15,33.5],</span><br><span class="line">        <span class="string">&#x27;泰州&#x27;</span>:[119.9,32.49],</span><br><span class="line">        <span class="string">&#x27;南宁&#x27;</span>:[108.33,22.84],</span><br><span class="line">        <span class="string">&#x27;营口&#x27;</span>:[122.18,40.65],</span><br><span class="line">        <span class="string">&#x27;惠州&#x27;</span>:[114.4,23.09],</span><br><span class="line">        <span class="string">&#x27;江阴&#x27;</span>:[120.26,31.91],</span><br><span class="line">        <span class="string">&#x27;蓬莱&#x27;</span>:[120.75,37.8],</span><br><span class="line">        <span class="string">&#x27;韶关&#x27;</span>:[113.62,24.84],</span><br><span class="line">        <span class="string">&#x27;嘉峪关&#x27;</span>:[98.289152,39.77313],</span><br><span class="line">        <span class="string">&#x27;广州&#x27;</span>:[113.23,23.16],</span><br><span class="line">        <span class="string">&#x27;延安&#x27;</span>:[109.47,36.6],</span><br><span class="line">        <span class="string">&#x27;太原&#x27;</span>:[112.53,37.87],</span><br><span class="line">        <span class="string">&#x27;清远&#x27;</span>:[113.01,23.7],</span><br><span class="line">        <span class="string">&#x27;中山&#x27;</span>:[113.38,22.52],</span><br><span class="line">        <span class="string">&#x27;昆明&#x27;</span>:[102.73,25.04],</span><br><span class="line">        <span class="string">&#x27;寿光&#x27;</span>:[118.73,36.86],</span><br><span class="line">        <span class="string">&#x27;盘锦&#x27;</span>:[122.070714,41.119997],</span><br><span class="line">        <span class="string">&#x27;长治&#x27;</span>:[113.08,36.18],</span><br><span class="line">        <span class="string">&#x27;深圳&#x27;</span>:[114.07,22.62],</span><br><span class="line">        <span class="string">&#x27;珠海&#x27;</span>:[113.52,22.3],</span><br><span class="line">        <span class="string">&#x27;宿迁&#x27;</span>:[118.3,33.96],</span><br><span class="line">        <span class="string">&#x27;咸阳&#x27;</span>:[108.72,34.36],</span><br><span class="line">        <span class="string">&#x27;铜川&#x27;</span>:[109.11,35.09],</span><br><span class="line">        <span class="string">&#x27;平度&#x27;</span>:[119.97,36.77],</span><br><span class="line">        <span class="string">&#x27;佛山&#x27;</span>:[113.11,23.05],</span><br><span class="line">        <span class="string">&#x27;海口&#x27;</span>:[110.35,20.02],</span><br><span class="line">        <span class="string">&#x27;江门&#x27;</span>:[113.06,22.61],</span><br><span class="line">        <span class="string">&#x27;章丘&#x27;</span>:[117.53,36.72],</span><br><span class="line">        <span class="string">&#x27;肇庆&#x27;</span>:[112.44,23.05],</span><br><span class="line">        <span class="string">&#x27;大连&#x27;</span>:[121.62,38.92],</span><br><span class="line">        <span class="string">&#x27;临汾&#x27;</span>:[111.5,36.08],</span><br><span class="line">        <span class="string">&#x27;吴江&#x27;</span>:[120.63,31.16],</span><br><span class="line">        <span class="string">&#x27;石嘴山&#x27;</span>:[106.39,39.04],</span><br><span class="line">        <span class="string">&#x27;沈阳&#x27;</span>:[123.38,41.8],</span><br><span class="line">        <span class="string">&#x27;苏州&#x27;</span>:[120.62,31.32],</span><br><span class="line">        <span class="string">&#x27;茂名&#x27;</span>:[110.88,21.68],</span><br><span class="line">        <span class="string">&#x27;嘉兴&#x27;</span>:[120.76,30.77],</span><br><span class="line">        <span class="string">&#x27;长春&#x27;</span>:[125.35,43.88],</span><br><span class="line">        <span class="string">&#x27;胶州&#x27;</span>:[120.03336,36.264622],</span><br><span class="line">        <span class="string">&#x27;银川&#x27;</span>:[106.27,38.47],</span><br><span class="line">        <span class="string">&#x27;张家港&#x27;</span>:[120.555821,31.875428],</span><br><span class="line">        <span class="string">&#x27;三门峡&#x27;</span>:[111.19,34.76],</span><br><span class="line">        <span class="string">&#x27;锦州&#x27;</span>:[121.15,41.13],</span><br><span class="line">        <span class="string">&#x27;南昌&#x27;</span>:[115.89,28.68],</span><br><span class="line">        <span class="string">&#x27;柳州&#x27;</span>:[109.4,24.33],</span><br><span class="line">        <span class="string">&#x27;三亚&#x27;</span>:[109.511909,18.252847],</span><br><span class="line">        <span class="string">&#x27;自贡&#x27;</span>:[104.778442,29.33903],</span><br><span class="line">        <span class="string">&#x27;吉林&#x27;</span>:[126.57,43.87],</span><br><span class="line">        <span class="string">&#x27;阳江&#x27;</span>:[111.95,21.85],</span><br><span class="line">        <span class="string">&#x27;泸州&#x27;</span>:[105.39,28.91],</span><br><span class="line">        <span class="string">&#x27;西宁&#x27;</span>:[101.74,36.56],</span><br><span class="line">        <span class="string">&#x27;宜宾&#x27;</span>:[104.56,29.77],</span><br><span class="line">        <span class="string">&#x27;呼和浩特&#x27;</span>:[111.65,40.82],</span><br><span class="line">        <span class="string">&#x27;成都&#x27;</span>:[104.06,30.67],</span><br><span class="line">        <span class="string">&#x27;大同&#x27;</span>:[113.3,40.12],</span><br><span class="line">        <span class="string">&#x27;镇江&#x27;</span>:[119.44,32.2],</span><br><span class="line">        <span class="string">&#x27;桂林&#x27;</span>:[110.28,25.29],</span><br><span class="line">        <span class="string">&#x27;张家界&#x27;</span>:[110.479191,29.117096],</span><br><span class="line">        <span class="string">&#x27;宜兴&#x27;</span>:[119.82,31.36],</span><br><span class="line">        <span class="string">&#x27;北海&#x27;</span>:[109.12,21.49],</span><br><span class="line">        <span class="string">&#x27;西安&#x27;</span>:[108.95,34.27],</span><br><span class="line">        <span class="string">&#x27;金坛&#x27;</span>:[119.56,31.74],</span><br><span class="line">        <span class="string">&#x27;东营&#x27;</span>:[118.49,37.46],</span><br><span class="line">        <span class="string">&#x27;牡丹江&#x27;</span>:[129.58,44.6],</span><br><span class="line">        <span class="string">&#x27;遵义&#x27;</span>:[106.9,27.7],</span><br><span class="line">        <span class="string">&#x27;绍兴&#x27;</span>:[120.58,30.01],</span><br><span class="line">        <span class="string">&#x27;扬州&#x27;</span>:[119.42,32.39],</span><br><span class="line">        <span class="string">&#x27;常州&#x27;</span>:[119.95,31.79],</span><br><span class="line">        <span class="string">&#x27;潍坊&#x27;</span>:[119.1,36.62],</span><br><span class="line">        <span class="string">&#x27;重庆&#x27;</span>:[106.54,29.59],</span><br><span class="line">        <span class="string">&#x27;台州&#x27;</span>:[121.420757,28.656386],</span><br><span class="line">        <span class="string">&#x27;南京&#x27;</span>:[118.78,32.04],</span><br><span class="line">        <span class="string">&#x27;滨州&#x27;</span>:[118.03,37.36],</span><br><span class="line">        <span class="string">&#x27;贵阳&#x27;</span>:[106.71,26.57],</span><br><span class="line">        <span class="string">&#x27;无锡&#x27;</span>:[120.29,31.59],</span><br><span class="line">        <span class="string">&#x27;本溪&#x27;</span>:[123.73,41.3],</span><br><span class="line">        <span class="string">&#x27;克拉玛依&#x27;</span>:[84.77,45.59],</span><br><span class="line">        <span class="string">&#x27;渭南&#x27;</span>:[109.5,34.52],</span><br><span class="line">        <span class="string">&#x27;马鞍山&#x27;</span>:[118.48,31.56],</span><br><span class="line">        <span class="string">&#x27;宝鸡&#x27;</span>:[107.15,34.38],</span><br><span class="line">        <span class="string">&#x27;焦作&#x27;</span>:[113.21,35.24],</span><br><span class="line">        <span class="string">&#x27;句容&#x27;</span>:[119.16,31.95],</span><br><span class="line">        <span class="string">&#x27;北京&#x27;</span>:[116.46,39.92],</span><br><span class="line">        <span class="string">&#x27;徐州&#x27;</span>:[117.2,34.26],</span><br><span class="line">        <span class="string">&#x27;衡水&#x27;</span>:[115.72,37.72],</span><br><span class="line">        <span class="string">&#x27;包头&#x27;</span>:[110,40.58],</span><br><span class="line">        <span class="string">&#x27;绵阳&#x27;</span>:[104.73,31.48],</span><br><span class="line">        <span class="string">&#x27;乌鲁木齐&#x27;</span>:[87.68,43.77],</span><br><span class="line">        <span class="string">&#x27;枣庄&#x27;</span>:[117.57,34.86],</span><br><span class="line">        <span class="string">&#x27;杭州&#x27;</span>:[120.19,30.26],</span><br><span class="line">        <span class="string">&#x27;淄博&#x27;</span>:[118.05,36.78],</span><br><span class="line">        <span class="string">&#x27;鞍山&#x27;</span>:[122.85,41.12],</span><br><span class="line">        <span class="string">&#x27;溧阳&#x27;</span>:[119.48,31.43],</span><br><span class="line">        <span class="string">&#x27;库尔勒&#x27;</span>:[86.06,41.68],</span><br><span class="line">        <span class="string">&#x27;安阳&#x27;</span>:[114.35,36.1],</span><br><span class="line">        <span class="string">&#x27;开封&#x27;</span>:[114.35,34.79],</span><br><span class="line">        <span class="string">&#x27;济南&#x27;</span>:[117,36.65],</span><br><span class="line">        <span class="string">&#x27;德阳&#x27;</span>:[104.37,31.13],</span><br><span class="line">        <span class="string">&#x27;温州&#x27;</span>:[120.65,28.01],</span><br><span class="line">        <span class="string">&#x27;九江&#x27;</span>:[115.97,29.71],</span><br><span class="line">        <span class="string">&#x27;邯郸&#x27;</span>:[114.47,36.6],</span><br><span class="line">        <span class="string">&#x27;临安&#x27;</span>:[119.72,30.23],</span><br><span class="line">        <span class="string">&#x27;兰州&#x27;</span>:[103.73,36.03],</span><br><span class="line">        <span class="string">&#x27;沧州&#x27;</span>:[116.83,38.33],</span><br><span class="line">        <span class="string">&#x27;临沂&#x27;</span>:[118.35,35.05],</span><br><span class="line">        <span class="string">&#x27;南充&#x27;</span>:[106.110698,30.837793],</span><br><span class="line">        <span class="string">&#x27;天津&#x27;</span>:[117.2,39.13],</span><br><span class="line">        <span class="string">&#x27;富阳&#x27;</span>:[119.95,30.07],</span><br><span class="line">        <span class="string">&#x27;泰安&#x27;</span>:[117.13,36.18],</span><br><span class="line">        <span class="string">&#x27;诸暨&#x27;</span>:[120.23,29.71],</span><br><span class="line">        <span class="string">&#x27;郑州&#x27;</span>:[113.65,34.76],</span><br><span class="line">        <span class="string">&#x27;哈尔滨&#x27;</span>:[126.63,45.75],</span><br><span class="line">        <span class="string">&#x27;聊城&#x27;</span>:[115.97,36.45],</span><br><span class="line">        <span class="string">&#x27;芜湖&#x27;</span>:[118.38,31.33],</span><br><span class="line">        <span class="string">&#x27;唐山&#x27;</span>:[118.02,39.63],</span><br><span class="line">        <span class="string">&#x27;平顶山&#x27;</span>:[113.29,33.75],</span><br><span class="line">        <span class="string">&#x27;邢台&#x27;</span>:[114.48,37.05],</span><br><span class="line">        <span class="string">&#x27;德州&#x27;</span>:[116.29,37.45],</span><br><span class="line">        <span class="string">&#x27;济宁&#x27;</span>:[116.59,35.38],</span><br><span class="line">        <span class="string">&#x27;荆州&#x27;</span>:[112.239741,30.335165],</span><br><span class="line">        <span class="string">&#x27;宜昌&#x27;</span>:[111.3,30.7],</span><br><span class="line">        <span class="string">&#x27;义乌&#x27;</span>:[120.06,29.32],</span><br><span class="line">        <span class="string">&#x27;丽水&#x27;</span>:[119.92,28.45],</span><br><span class="line">        <span class="string">&#x27;洛阳&#x27;</span>:[112.44,34.7],</span><br><span class="line">        <span class="string">&#x27;秦皇岛&#x27;</span>:[119.57,39.95],</span><br><span class="line">        <span class="string">&#x27;株洲&#x27;</span>:[113.16,27.83],</span><br><span class="line">        <span class="string">&#x27;石家庄&#x27;</span>:[114.48,38.03],</span><br><span class="line">        <span class="string">&#x27;莱芜&#x27;</span>:[117.67,36.19],</span><br><span class="line">        <span class="string">&#x27;常德&#x27;</span>:[111.69,29.05],</span><br><span class="line">        <span class="string">&#x27;保定&#x27;</span>:[115.48,38.85],</span><br><span class="line">        <span class="string">&#x27;湘潭&#x27;</span>:[112.91,27.87],</span><br><span class="line">        <span class="string">&#x27;金华&#x27;</span>:[119.64,29.12],</span><br><span class="line">        <span class="string">&#x27;岳阳&#x27;</span>:[113.09,29.37],</span><br><span class="line">        <span class="string">&#x27;长沙&#x27;</span>:[113,28.21],</span><br><span class="line">        <span class="string">&#x27;衢州&#x27;</span>:[118.88,28.97],</span><br><span class="line">        <span class="string">&#x27;廊坊&#x27;</span>:[116.7,39.53],</span><br><span class="line">        <span class="string">&#x27;菏泽&#x27;</span>:[115.480656,35.23375],</span><br><span class="line">        <span class="string">&#x27;合肥&#x27;</span>:[117.27,31.86],</span><br><span class="line">        <span class="string">&#x27;武汉&#x27;</span>:[114.31,30.52],</span><br><span class="line">        <span class="string">&#x27;大庆&#x27;</span>:[125.03,46.58]</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    var convertData = <span class="keyword">function</span> (data) &#123;</span><br><span class="line">        var res = [];</span><br><span class="line">        <span class="keyword">for</span> (var i = 0; i &lt; data.length; i++) &#123;</span><br><span class="line">            var geoCoord = geoCoordMap[data[i].name];</span><br><span class="line">            <span class="keyword">if</span> (geoCoord) &#123;</span><br><span class="line">                res.push(&#123;</span><br><span class="line">                    name: data[i].name,</span><br><span class="line">                    value: geoCoord.concat(data[i].value)</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> res;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    option = &#123;</span><br><span class="line">        title: &#123;</span><br><span class="line">            text: <span class="string">&#x27;全国主要城市空气质量 - 百度地图&#x27;</span>,</span><br><span class="line">            subtext: <span class="string">&#x27;data from PM25.in&#x27;</span>,</span><br><span class="line">            sublink: <span class="string">&#x27;http://www.pm25.in&#x27;</span>,</span><br><span class="line">            left: <span class="string">&#x27;center&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip : &#123;</span><br><span class="line">            trigger: <span class="string">&#x27;item&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        bmap: &#123;</span><br><span class="line">            center: [104.114129, 37.550339],</span><br><span class="line">            zoom: 5,</span><br><span class="line">            roam: <span class="literal">true</span>,</span><br><span class="line">            mapStyle: &#123;</span><br><span class="line">                styleJson: [&#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;water&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#d1d1d1&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;land&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#f3f3f3&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;railway&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;highway&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#fdfdfd&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;highway&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;labels&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;arterial&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;geometry&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#fefefe&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;arterial&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;geometry.fill&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#fefefe&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;poi&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;green&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;subway&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;manmade&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#d1d1d1&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;local&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#d1d1d1&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;arterial&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;labels&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;visibility&#x27;</span>: <span class="string">&#x27;off&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;boundary&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#fefefe&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;building&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#d1d1d1&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="string">&#x27;featureType&#x27;</span>: <span class="string">&#x27;label&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;elementType&#x27;</span>: <span class="string">&#x27;labels.text.fill&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;stylers&#x27;</span>: &#123;</span><br><span class="line">                        <span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;#999999&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        series : [</span><br><span class="line">            &#123;</span><br><span class="line">                name: <span class="string">&#x27;pm2.5&#x27;</span>,</span><br><span class="line">                <span class="built_in">type</span>: <span class="string">&#x27;scatter&#x27;</span>,</span><br><span class="line">                coordinateSystem: <span class="string">&#x27;bmap&#x27;</span>,</span><br><span class="line">                data: convertData(data),</span><br><span class="line">                symbolSize: <span class="keyword">function</span> (val) &#123;</span><br><span class="line">                    <span class="built_in">return</span> val[2] / 10;</span><br><span class="line">                &#125;,</span><br><span class="line">                label: &#123;</span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        formatter: <span class="string">&#x27;&#123;b&#125;&#x27;</span>,</span><br><span class="line">                        position: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                        show: <span class="literal">false</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    emphasis: &#123;</span><br><span class="line">                        show: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                itemStyle: &#123;</span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        color: <span class="string">&#x27;purple&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                name: <span class="string">&#x27;Top 5&#x27;</span>,</span><br><span class="line">                <span class="built_in">type</span>: <span class="string">&#x27;effectScatter&#x27;</span>,</span><br><span class="line">                coordinateSystem: <span class="string">&#x27;bmap&#x27;</span>,</span><br><span class="line">                data: convertData(data.sort(<span class="keyword">function</span> (a, b) &#123;</span><br><span class="line">                    <span class="built_in">return</span> b.value - a.value;</span><br><span class="line">                &#125;).slice(0, 6)),</span><br><span class="line">                symbolSize: <span class="keyword">function</span> (val) &#123;</span><br><span class="line">                    <span class="built_in">return</span> val[2] / 10;</span><br><span class="line">                &#125;,</span><br><span class="line">                showEffectOn: <span class="string">&#x27;render&#x27;</span>,</span><br><span class="line">                rippleEffect: &#123;</span><br><span class="line">                    brushType: <span class="string">&#x27;stroke&#x27;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                hoverAnimation: <span class="literal">true</span>,</span><br><span class="line">                label: &#123;</span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        formatter: <span class="string">&#x27;&#123;b&#125;&#x27;</span>,</span><br><span class="line">                        position: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                        show: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                itemStyle: &#123;</span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        color: <span class="string">&#x27;purple&#x27;</span>,</span><br><span class="line">                        shadowBlur: 10,</span><br><span class="line">                        shadowColor: <span class="string">&#x27;#333&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                zlevel: 1</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;;</span><br><span class="line">    myChart.setOption(option);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><br>今天就写到这里了，欢迎大家交流讨论，指错。</p>
]]></content>
      <categories>
        <category>echarts3</category>
      </categories>
      <tags>
        <tag>百度地图</tag>
        <tag>echarts3</tag>
      </tags>
  </entry>
  <entry>
    <title>append、appendto、prepend、prependto、after、before</title>
    <url>/2018/07/07/append/</url>
    <content><![CDATA[<h1 id="append"><a href="#append" class="headerlink" title="append()"></a>append()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在被选元素（里）的结尾插入内容</span><br><span class="line">表达式：$(selector).append(content);</span><br><span class="line">&lt;p&gt;Hello&lt;/p&gt;</span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).append(<span class="string">&#x27;&lt;b&gt;Zyw&lt;/b&gt;&#x27;</span>);</span><br><span class="line">&lt;p&gt;</span><br><span class="line">    Hello</span><br><span class="line">    &lt;b&gt;Zyw&lt;/b&gt;</span><br><span class="line">&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h1 id="appendTo"><a href="#appendTo" class="headerlink" title="appendTo()"></a>appendTo()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在被选元素（里）的结尾插入内容</span><br><span class="line">表达式：$(content).appendTo(selector);</span><br><span class="line">&lt;p&gt;Hello&lt;/p&gt;</span><br><span class="line">$(<span class="string">&#x27;&lt;b&gt;Zyw&lt;/b&gt;&#x27;</span>).appendTo($(<span class="string">&#x27;p&#x27;</span>));</span><br><span class="line">&lt;p&gt;</span><br><span class="line">    Hello</span><br><span class="line">    &lt;b&gt;Zyw&lt;/b&gt;</span><br><span class="line">&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h1 id="prepend"><a href="#prepend" class="headerlink" title="prepend()"></a>prepend()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在被选元素（里）的开头插入内容</span><br><span class="line">表达式：$(selector).prepend(content);</span><br><span class="line">&lt;p&gt;Hello&lt;/p&gt;</span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).prepend(<span class="string">&#x27;&lt;b&gt;Zyw&lt;/b&gt;&#x27;</span>);</span><br><span class="line">&lt;p&gt;</span><br><span class="line">    &lt;b&gt;Zyw&lt;/b&gt;</span><br><span class="line">    Hello</span><br><span class="line">&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h1 id="prependTo"><a href="#prependTo" class="headerlink" title="prependTo()"></a>prependTo()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在被选元素（里）的开头插入内容</span><br><span class="line">表达式：$(content).prependTo(selector);</span><br><span class="line">&lt;p&gt;Hello&lt;/p&gt;</span><br><span class="line">$(<span class="string">&#x27;&lt;b&gt;Zyw&lt;/b&gt;&#x27;</span>).prependTo($(<span class="string">&#x27;p&#x27;</span>));</span><br><span class="line">&lt;p&gt;</span><br><span class="line">    &lt;b&gt;Zyw&lt;/b&gt;</span><br><span class="line">    Hello</span><br><span class="line">&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h1 id="after"><a href="#after" class="headerlink" title="after()"></a>after()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在被选元素（外）之后插入内容</span><br><span class="line">表达式：$(selector).after(content);</span><br><span class="line">&lt;p&gt;Hello&lt;/p&gt;</span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).after(<span class="string">&#x27;&lt;b&gt;Zyw&lt;/b&gt;&#x27;</span>);</span><br><span class="line">&lt;p&gt;Hello&lt;/p&gt;</span><br><span class="line">&lt;b&gt;Zyw&lt;/b&gt;</span><br></pre></td></tr></table></figure>
<h1 id="before"><a href="#before" class="headerlink" title="before()"></a>before()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在被选元素（外）之前插入内容</span><br><span class="line">表达式：$(selector).before(content);</span><br><span class="line">&lt;p&gt;Hello&lt;/p&gt;</span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).before(<span class="string">&#x27;&lt;b&gt;Zyw&lt;/b&gt;&#x27;</span>);</span><br><span class="line">&lt;b&gt;Zyw&lt;/b&gt;</span><br><span class="line">&lt;p&gt;Hello&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>多多记录，方便以后查看。</p>
]]></content>
      <categories>
        <category>jq</category>
      </categories>
      <tags>
        <tag>jq插入</tag>
      </tags>
  </entry>
  <entry>
    <title>slice、splice、split、join、substring、substr</title>
    <url>/2018/07/08/slice/</url>
    <content><![CDATA[<h1 id="slice"><a href="#slice" class="headerlink" title="slice()"></a>slice()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Array和String对象都有</span><br><span class="line">在Array中  slice(i,[j])</span><br><span class="line">i为开始截取的索引值,负数代表从末尾算起的索引值，-1为倒数第一个元素 j为结束的索引值，缺省时则获取从i到末尾的所有元素</span><br><span class="line">参数返回： 返回索引值从i到j的数组，原数组不改变</span><br><span class="line">在String中 slice(i,[j])</span><br><span class="line">参数说明： i为开始截取的索引值，负数代表从末尾算起的索引值，-1为倒数第一个字符 j为结束的索引值，缺省时则获取从i到末尾的所有字符</span><br></pre></td></tr></table></figure>
<h1 id="splice"><a href="#splice" class="headerlink" title="splice()"></a>splice()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">存在Array中     </span><br><span class="line">方法向/从数组中添加/删除项目，然后返回被删除的项目。 该方法会改变原始数组</span><br><span class="line">splice(index,howmany,item1,itemx )</span><br><span class="line">index : 必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。</span><br><span class="line">howmany: 必需。要删除的项目数量。如果设置为 0，则不会删除项目。</span><br><span class="line">item1...itemX : 可选。向数组添加的新项目。</span><br><span class="line">返回值  Array  包含被删除项目的新数组，如果有的话。</span><br></pre></td></tr></table></figure>
<h1 id="substring"><a href="#substring" class="headerlink" title="substring()"></a>substring()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在String中  substring(start,stop)</span><br><span class="line">start：表示子字符串的开始位置，</span><br><span class="line">stop：表示结束结果。</span><br><span class="line">注意：第二个参数应该大于第一个参数。如果出现第一个参数大于第二个参数的情况，substring方法会自动更换两个参数的位置。 </span><br></pre></td></tr></table></figure>
<h1 id="substr"><a href="#substr" class="headerlink" title="substr()"></a>substr()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在String中，substr（start，length）；</span><br><span class="line">start：子字符串的开始位置，</span><br><span class="line">length：子字符串的长度。</span><br></pre></td></tr></table></figure>
<h1 id="split-字符串转数组"><a href="#split-字符串转数组" class="headerlink" title="split() 字符串转数组"></a>split() 字符串转数组</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">在String中 split（separator，howmany）</span><br><span class="line">separator：必需。字符串或正则表达式，从该参数指定的地方分割 stringObject。</span><br><span class="line">howmany： 可选。该参数可指定返回的数组的最大长度。如果设置了该参数，返回的子串不会多于这个参数指定的数组。如果没有设置该参数，整个字符串都会被分割，不考虑它的长度。</span><br><span class="line">返回值</span><br><span class="line">一个字符串数组。该数组是通过在separator指定的边界处将字符串StringObject分割成子串创建的。返回的数组的字符串不包含separator自身</span><br><span class="line">但是，如果 separator 是包含子表达式的正则表达式，那么返回的数组中包括与这些子表达式匹配的字串（但不包括与整个正则表达式匹配的文本）</span><br><span class="line">与jion（）函数相反效果</span><br><span class="line">var str = <span class="string">&#x27;ab+c+de&#x27;</span>;</span><br><span class="line">var a = str.split(<span class="string">&#x27;+&#x27;</span>); // [ab, c, de]</span><br><span class="line">var b = str.split(<span class="string">&#x27;&#x27;</span>); //[a, b, +, c, +, d, e]</span><br></pre></td></tr></table></figure>
<h1 id="join-数组转字符串"><a href="#join-数组转字符串" class="headerlink" title="join() 数组转字符串"></a>join() 数组转字符串</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a, b,c; </span><br><span class="line">a = new Array(a,b,c,d,e); </span><br><span class="line">b = a.join(<span class="string">&#x27;-&#x27;</span>); //a-b-c-d-e  使用-拼接数组元素</span><br><span class="line">c = a.join(<span class="string">&#x27;&#x27;</span>); //abcde</span><br></pre></td></tr></table></figure>
<p>多多记录，方便以后查看。</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js截取</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello Hexo</title>
    <url>/2018/06/28/hello-hexo/</url>
    <content><![CDATA[<h1 id="Miss-Dad"><a href="#Miss-Dad" class="headerlink" title="Miss Dad"></a>Miss Dad</h1><p>感觉过了人生过了好久，哪怕在没有时间也要抽出时间陪陪家人，不要失去了才知道珍惜。好久没有写博客了，因为个人原因在加上换了电脑不想在用jekyll写了，觉得太麻烦，这几天工作不是很忙就像在把博客弄回来，选择了Hexo,还是比较方便的。</p>
<p>下面只记录一下常用的Hexo命令，方便以后回看。</p>
<h1 id="hexo-new"><a href="#hexo-new" class="headerlink" title="hexo new"></a>hexo new</h1><p>新建一篇标题为 My New Post 的文章，因为标题里有空格，所以加上了引号。文章标题可以在对应 md 文件里改，新建时标题可以写的简单些。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="hexo-server-hexo-s"><a href="#hexo-server-hexo-s" class="headerlink" title="hexo server/hexo s"></a>hexo server/hexo s</h1><p>启动本地服务器，用于预览主题。默认地址： <a href="http://localhost:4000/hexo">http://localhost:4000/hexo</a> s 是 hexo server 的缩写，命令效果一致；预览的同时可以修改文章内容或主题代码，保存后刷新页面即可；对 Hexo 根目录 _config.yml 的修改，需要重启本地服务器后才能预览效果。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server/hexo s</span><br></pre></td></tr></table></figure></p>
<h1 id="hexo-generate-hexo-g"><a href="#hexo-generate-hexo-g" class="headerlink" title="hexo generate/hexo g"></a>hexo generate/hexo g</h1><p>生成网站静态文件到默认设置的 public 文件夹。便于查看网站生成的静态文件或者手动部署网站；如果使用自动部署，不需要先执行该命令；hexo g 是 hexo generate 的缩写，命令效果一致。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate/hexo g</span><br></pre></td></tr></table></figure></p>
<h1 id="hexo-deploy-hexo-d"><a href="#hexo-deploy-hexo-d" class="headerlink" title="hexo deploy/hexo d"></a>hexo deploy/hexo d</h1><p>自动生成网站静态文件，并部署到设定的仓库。hexo d 是 hexo deploy 的缩写，命令效果一致。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy/hexo d</span><br></pre></td></tr></table></figure></p>
<h1 id="hexo-clean"><a href="#hexo-clean" class="headerlink" title="hexo clean"></a>hexo clean</h1><p>清除缓存文件 db.json 和已生成的静态文件 public 。网站显示异常时可以执行这条命令试试。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>event.stopPropagation()、event.stopPropagation()、 return false 理解与兼容</title>
    <url>/2018/07/10/stopPropagation/</url>
    <content><![CDATA[<p>这个布局div里有一个a链接，我们队div和a都添加点击事件（使用jq方法添加点击事件）来查看效果。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;testBox&quot;</span>&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;https://www.baidu.com/&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;百度一下&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;.testBox&#x27;</span>).click(<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">    console.log(1);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;.testBox a&#x27;</span>).click(<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">    console.log(2);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h1 id="默认情况下"><a href="#默认情况下" class="headerlink" title="默认情况下"></a>默认情况下</h1><p>控制台输出结果为2、1并且跳转打开链接。<br>因为事件冒泡原理，DOM上触发事件后，通过DOM树往上，在每一级父元素上触发。<br>有时候我们想先不执行跳转链接或者只执行当前DOM的事件，我们就用到下面的了。</p>
<h1 id="event-preventDefault-阻止默认行为"><a href="#event-preventDefault-阻止默认行为" class="headerlink" title="event.preventDefault();//阻止默认行为"></a>event.preventDefault();//阻止默认行为</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;.testBox a&#x27;</span>).click(<span class="keyword">function</span> (event) &#123;</span><br><span class="line">    event.preventDefault();</span><br><span class="line">    console.log(2);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>控制台输出结果为2、1链接没有跳转。<br>阻止事件的默认行为，但不阻止冒泡。<br>如果考虑IE还需要进行兼容（用三元表达式进行兼容）<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">event.preventDefault ? event.preventDefault() : event.returnValue=<span class="literal">false</span>;</span><br></pre></td></tr></table></figure></p>
<h1 id="event-stopPropagation-阻止事件冒泡"><a href="#event-stopPropagation-阻止事件冒泡" class="headerlink" title="event.stopPropagation();//阻止事件冒泡"></a>event.stopPropagation();//阻止事件冒泡</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;.testBox a&#x27;</span>).click(<span class="keyword">function</span> (event) &#123;</span><br><span class="line">    event.stopPropagation();</span><br><span class="line">    console.log(2);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>控制台输出结果为2并且跳转打开链接。<br>阻止事件的冒泡，但不阻止事件的默认行为。<br>如果考虑IE还需要进行兼容（用三元表达式进行兼容）<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">event.stopPropagation ? event.stopPropagation() : event.cancelBubble=<span class="literal">true</span>;</span><br></pre></td></tr></table></figure></p>
<h1 id="return-false"><a href="#return-false" class="headerlink" title="return false;"></a>return false;</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;.testBox a&#x27;</span>).get(0).addEventListener(<span class="string">&quot;click&quot;</span>,<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">     console.log(2);</span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p>控制台输出结果为1并且跳转打开链接。<br>若使用a.addEventListener,则return false 不会阻止默认行为；<br>使用原生js时，若要阻止默认行为，最好还是用event.preventDefault（针对非IE）或event.returnValue=false（针对IE）来设定。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;.testBox a&#x27;</span>).click(<span class="keyword">function</span> (event) &#123;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">    console.log(2);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><br>控制台没有输出结果链接也咩有进行跳转。<br>使用a.onclick或a.attachEvent,则 return false会阻止默认行为；<br>使用jquery，return false 即会阻止默认行为，也会阻止事件的冒泡。在jquery中，一般使用return false.</p>
<p><strong><em>在使用的时候要注意return false;后面的代码不会执行。</em></strong></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>event.stopPropagation();</tag>
        <tag>event.preventDefault();</tag>
        <tag>return false;</tag>
      </tags>
  </entry>
  <entry>
    <title>时间戳与时间获取</title>
    <url>/2018/07/09/timer/</url>
    <content><![CDATA[<h1 id="时间转时间戳"><a href="#时间转时间戳" class="headerlink" title="时间转时间戳"></a>时间转时间戳</h1><h2 id="1-Date-parse-new-Date-不推荐这种办法，毫秒级别的数值被转化为000"><a href="#1-Date-parse-new-Date-不推荐这种办法，毫秒级别的数值被转化为000" class="headerlink" title="1.Date.parse(new Date()) 不推荐这种办法，毫秒级别的数值被转化为000"></a>1.Date.parse(new Date()) 不推荐这种办法，毫秒级别的数值被转化为000</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var timestamp1 = Date.parse(new Date());</span><br><span class="line">console.log(timestamp1); //1531100204000</span><br></pre></td></tr></table></figure>
<h2 id="2-new-Date-valueOf-通过valueOf-函数返回指定对象的原始值获得准确的时间戳值"><a href="#2-new-Date-valueOf-通过valueOf-函数返回指定对象的原始值获得准确的时间戳值" class="headerlink" title="2.(new Date()).valueOf() 通过valueOf()函数返回指定对象的原始值获得准确的时间戳值"></a>2.(new Date()).valueOf() 通过valueOf()函数返回指定对象的原始值获得准确的时间戳值</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var timestamp2 = (new Date()).valueOf();</span><br><span class="line">console.log(timestamp2); //1531100216013</span><br></pre></td></tr></table></figure>
<h2 id="3-new-Date-getTime-通过原型方法直接获得当前时间的毫秒值，准确"><a href="#3-new-Date-getTime-通过原型方法直接获得当前时间的毫秒值，准确" class="headerlink" title="3.new Date().getTime() 通过原型方法直接获得当前时间的毫秒值，准确"></a>3.new Date().getTime() 通过原型方法直接获得当前时间的毫秒值，准确</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var timestamp3 = new Date().getTime();</span><br><span class="line">console.log(timestamp3); //1531100225639</span><br></pre></td></tr></table></figure>
<h2 id="4-Number-new-Date-将时间转化为一个number类型的数值，即时间戳"><a href="#4-Number-new-Date-将时间转化为一个number类型的数值，即时间戳" class="headerlink" title="4.Number(new Date()) 将时间转化为一个number类型的数值，即时间戳"></a>4.Number(new Date()) 将时间转化为一个number类型的数值，即时间戳</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var timetamp4 = Number(new Date());</span><br><span class="line">console.log(timetamp4); //1531100238110</span><br></pre></td></tr></table></figure>
<h2 id="5-Date-now-ES5给Date提供了一种获取时间戳的新特性"><a href="#5-Date-now-ES5给Date提供了一种获取时间戳的新特性" class="headerlink" title="5.Date.now() ES5给Date提供了一种获取时间戳的新特性"></a>5.Date.now() ES5给Date提供了一种获取时间戳的新特性</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var timetamp5 = Date.now();</span><br><span class="line">console.log(timetamp5); //1531100248079</span><br></pre></td></tr></table></figure>
<h1 id="获取当前时间"><a href="#获取当前时间" class="headerlink" title="获取当前时间"></a>获取当前时间</h1><p>一个获取当前时间的函数，比较不错，好用。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Date.prototype.pattern=<span class="keyword">function</span>(fmt) &#123;</span><br><span class="line">    var o = &#123;</span><br><span class="line">        <span class="string">&quot;M+&quot;</span> : this.getMonth()+1, //月份</span><br><span class="line">        <span class="string">&quot;d+&quot;</span> : this.getDate(), //日</span><br><span class="line">        <span class="string">&quot;h+&quot;</span> : this.getHours()%12 == 0 ? 12 : this.getHours()%12, //小时</span><br><span class="line">        <span class="string">&quot;H+&quot;</span> : this.getHours(), //小时</span><br><span class="line">        <span class="string">&quot;m+&quot;</span> : this.getMinutes(), //分</span><br><span class="line">        <span class="string">&quot;s+&quot;</span> : this.getSeconds(), //秒</span><br><span class="line">        <span class="string">&quot;q+&quot;</span> : Math.floor((this.getMonth()+3)/3), //季度</span><br><span class="line">        <span class="string">&quot;S&quot;</span> : this.getMilliseconds() //毫秒，</span><br><span class="line">    &#125;;</span><br><span class="line">    var week = &#123;</span><br><span class="line">        <span class="string">&quot;0&quot;</span> : <span class="string">&quot;星期日&quot;</span>,</span><br><span class="line">        <span class="string">&quot;1&quot;</span> : <span class="string">&quot;星期一&quot;</span>,</span><br><span class="line">        <span class="string">&quot;2&quot;</span> : <span class="string">&quot;星期二&quot;</span>,</span><br><span class="line">        <span class="string">&quot;3&quot;</span> : <span class="string">&quot;星期三&quot;</span>,</span><br><span class="line">        <span class="string">&quot;4&quot;</span> : <span class="string">&quot;星期四&quot;</span>,</span><br><span class="line">        <span class="string">&quot;5&quot;</span> : <span class="string">&quot;星期五&quot;</span>,</span><br><span class="line">        <span class="string">&quot;6&quot;</span> : <span class="string">&quot;星期六&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span>(/(y+)/.<span class="built_in">test</span>(fmt))&#123;</span><br><span class="line">        fmt=fmt.replace(RegExp.<span class="variable">$1</span>, (this.getFullYear()+<span class="string">&quot;&quot;</span>).substr(4 - RegExp.<span class="variable">$1</span>.length));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(/(E+)/.<span class="built_in">test</span>(fmt))&#123;</span><br><span class="line">        fmt=fmt.replace(RegExp.<span class="variable">$1</span>, ((RegExp.<span class="variable">$1</span>.length&gt;1) ? (RegExp.<span class="variable">$1</span>.length&gt;2 ? <span class="string">&quot;/u661f/u671f&quot;</span> : <span class="string">&quot;/u5468&quot;</span>) : <span class="string">&quot;&quot;</span>)+week[this.getDay()+<span class="string">&quot;&quot;</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(var k <span class="keyword">in</span> o)&#123;</span><br><span class="line">        <span class="keyword">if</span>(new RegExp(<span class="string">&quot;(&quot;</span>+ k +<span class="string">&quot;)&quot;</span>).<span class="built_in">test</span>(fmt))&#123;</span><br><span class="line">            fmt = fmt.replace(RegExp.<span class="variable">$1</span>, (RegExp.<span class="variable">$1</span>.length==1) ? (o[k]) : ((<span class="string">&quot;00&quot;</span>+ o[k]).substr((<span class="string">&quot;&quot;</span>+ o[k]).length)));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> fmt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>使用方法如下 yyyy(年) MM(月) dd(日) HH(时) mm(分) ss(秒) 随意搭配可以调换顺序使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log(new Date().pattern(<span class="string">&quot;HH:mm&quot;</span>));//09:41</span><br><span class="line">console.log(new Date().pattern(<span class="string">&quot;yyyy-MM-dd HH:mm&quot;</span>));//2018-07-09 09:41</span><br><span class="line">console.log(new Date().pattern(<span class="string">&quot;yyyy年MM月dd日 HH:mm&quot;</span>));//2018年07月09日 09:41</span><br><span class="line">console.log(new Date().pattern(<span class="string">&quot;yyyy年MM月dd日 HH:mm:ss&quot;</span>));//2018年07月09日 09:41:55</span><br><span class="line">console.log(new Date().pattern(<span class="string">&quot;HH:mm yyyy年MM月dd日 E&quot;</span>));//09:41 2018年07月09日 星期一</span><br></pre></td></tr></table></figure>
<h1 id="移动端比较不错的时间插件-lCalendar-js"><a href="#移动端比较不错的时间插件-lCalendar-js" class="headerlink" title="移动端比较不错的时间插件 lCalendar.js"></a>移动端比较不错的时间插件 lCalendar.js</h1><p>详情可以点击此链接查看 <a href="http://www.jq22.com/jquery-info13497">手机端日期插件lCalendar.js</a></p>
<p>多多记录，方便以后查看。</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>时间戳</tag>
        <tag>当前时间</tag>
      </tags>
  </entry>
  <entry>
    <title>AJAX error参数及状态码</title>
    <url>/2018/07/11/ajax-error/</url>
    <content><![CDATA[<h1 id="先来看AJAX-error-里有哪些参数"><a href="#先来看AJAX-error-里有哪些参数" class="headerlink" title="先来看AJAX error 里有哪些参数"></a>先来看AJAX error 里有哪些参数</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    <span class="built_in">type</span>:<span class="string">&quot;post&quot;</span>,</span><br><span class="line">    url:<span class="string">&quot;&quot;</span>,</span><br><span class="line">    dataType:<span class="string">&quot;json&quot;</span>,</span><br><span class="line">    data:&#123;&#125;,</span><br><span class="line">    success:<span class="keyword">function</span>(res)&#123;</span><br><span class="line">        console.log(res)</span><br><span class="line">    &#125;,</span><br><span class="line">    error: <span class="keyword">function</span>(jqXHR, textStatus, errorThrown) &#123;</span><br><span class="line">        console.log(jqXHR.readyState);</span><br><span class="line">        console.log(jqXHR.status);</span><br><span class="line">        console.log(jqXHR.statusText);</span><br><span class="line">        console.log(jqXHR.responseText);</span><br><span class="line">        console.log(textStatus);</span><br><span class="line">        console.log(errorThrown);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="参数一（jqXHR）"><a href="#参数一（jqXHR）" class="headerlink" title="参数一（jqXHR）"></a>参数一（jqXHR）</h1><p>jqXHR是一个jqXHR对象，在Jquery1.4和1.4版本之前返回的是XMLHttpRequest对象，1.5版本以后则开始使用jqXHR对象，该对象是一个超集，就是该对象不仅包括XMLHttpRequest对象，还包含其他更多的详细属性和信息。</p>
<h2 id="readyState"><a href="#readyState" class="headerlink" title="readyState"></a>readyState</h2><p>当前状态<br>0 － （未初始化）还没有调用send()方法<br>1 － （载入）已调用send()方法，正在发送请求 ，服务器连接已建立<br>2 － （载入完成）send()方法执行完成，已经接收到全部响应内容 ，请求已接收<br>3 － （交互）正在解析响应内容 ， 请求处理中<br>4 － （完成）响应内容解析完成，可以在客户端调用了，请求已完成，且响应已就绪</p>
<h2 id="status"><a href="#status" class="headerlink" title="status"></a>status</h2><p>返回的HTTP状态码，比如常见的404,500等错误代码。</p>
<h2 id="statusText"><a href="#statusText" class="headerlink" title="statusText"></a>statusText</h2><p>对应状态码的错误信息，比如404错误信息是not found,500是Internal Server Error。</p>
<h2 id="responseText"><a href="#responseText" class="headerlink" title="responseText"></a>responseText</h2><p>服务器响应返回的文本信息</p>
<h1 id="参数二（textStatus）"><a href="#参数二（textStatus）" class="headerlink" title="参数二（textStatus）"></a>参数二（textStatus）</h1><p>返回的是字符串类型，表示返回的状态，根据服务器不同的错误可能返回下面这些信息：”timeout”（超时）, “error”（错误）, “abort”(中止), “parsererror”（解析错误），还有可能返回空值。</p>
<h1 id="参数三（errorThrown）"><a href="#参数三（errorThrown）" class="headerlink" title="参数三（errorThrown）"></a>参数三（errorThrown）</h1><p>也是字符串类型，表示服务器抛出返回的错误信息，如果产生的是HTTP错误，那么返回的信息就是HTTP状态码对应的错误信息，比如404的Not Found,500错误的Internal Server Error。</p>
<h1 id="AJAX状态码说明"><a href="#AJAX状态码说明" class="headerlink" title="AJAX状态码说明"></a>AJAX状态码说明</h1><h2 id="0-—状态未初始化"><a href="#0-—状态未初始化" class="headerlink" title="0**—状态未初始化"></a>0**—状态未初始化</h2><h2 id="1-—请求收到，继续处理"><a href="#1-—请求收到，继续处理" class="headerlink" title="1**—请求收到，继续处理"></a>1**—请求收到，继续处理</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">100—客户必须继续发出请求</span><br><span class="line">101—客户要求服务器根据请求转换HTTP协议版本</span><br></pre></td></tr></table></figure>
<h2 id="2-—操作成功收到，分析、接受"><a href="#2-—操作成功收到，分析、接受" class="headerlink" title="2**—操作成功收到，分析、接受"></a>2**—操作成功收到，分析、接受</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">200—交易成功</span><br><span class="line">201—提示知道新文件的URL</span><br><span class="line">202—接受和处理、但处理未完成</span><br><span class="line">203—返回信息不确定或不完整</span><br><span class="line">204—请求收到，但返回信息为空</span><br><span class="line">205—服务器完成了请求，用户代理必须复位当前已经浏览过的文件</span><br><span class="line">206—服务器已经完成了部分用户的GET请求</span><br></pre></td></tr></table></figure>
<h2 id="3-—完成此请求必须进一步处理"><a href="#3-—完成此请求必须进一步处理" class="headerlink" title="3**—完成此请求必须进一步处理"></a>3**—完成此请求必须进一步处理</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">300—请求的资源可在多处得到</span><br><span class="line">301—删除请求数据</span><br><span class="line">302—在其他地址发现了请求数据</span><br><span class="line">303—建议客户访问其他URL或访问方式</span><br><span class="line">304—客户端已经执行了GET，但文件未变化</span><br><span class="line">305—请求的资源必须从服务器指定的地址得到</span><br><span class="line">306—前一版本HTTP中使用的代码，现行版本中不再使用</span><br><span class="line">307—申明请求的资源临时性删除</span><br></pre></td></tr></table></figure>
<h2 id="3-—完成此请求必须进一步处理-1"><a href="#3-—完成此请求必须进一步处理-1" class="headerlink" title="3**—完成此请求必须进一步处理"></a>3**—完成此请求必须进一步处理</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">300—请求的资源可在多处得到</span><br><span class="line">301—删除请求数据</span><br><span class="line">302—在其他地址发现了请求数据</span><br><span class="line">303—建议客户访问其他URL或访问方式</span><br><span class="line">304—客户端已经执行了GET，但文件未变化</span><br><span class="line">305—请求的资源必须从服务器指定的地址得到</span><br><span class="line">306—前一版本HTTP中使用的代码，现行版本中不再使用</span><br><span class="line">307—申明请求的资源临时性删除</span><br></pre></td></tr></table></figure>
<h2 id="4-—请求包含一个错误语法或不能完成"><a href="#4-—请求包含一个错误语法或不能完成" class="headerlink" title="4**—请求包含一个错误语法或不能完成"></a>4**—请求包含一个错误语法或不能完成</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">401—请求授权失败</span><br><span class="line">401.1-登录失败。  </span><br><span class="line">401.2-服务器配置导致登录失败。  </span><br><span class="line">401.3-由于ACL对资源的限制而未获得授权。  </span><br><span class="line">401.4-筛选器授权失败</span><br><span class="line">401.5-ISAPI/CGI应用程序授权失败。  </span><br><span class="line">401.7–访问被Web服务器上的URL授权策略拒绝。这个错误代码为IIS6.0所专用。  </span><br><span class="line">402—保留有效ChargeTo头响应</span><br><span class="line">403—请求不允许</span><br><span class="line">403.1-执行访问被禁止。  </span><br><span class="line">403.2-读访问被禁止。  </span><br><span class="line">403.3-写访问被禁止。  </span><br><span class="line">403.4-要求SSL。  </span><br><span class="line">403.5-要求SSL128。  </span><br><span class="line">403.6-IP地址被拒绝。  </span><br><span class="line">403.7-要求客户端证书。  </span><br><span class="line">403.8-站点访问被拒绝。  </span><br><span class="line">403.9-用户数过多。  </span><br><span class="line">403.10-配置无效。  </span><br><span class="line">403.11-密码更改。  </span><br><span class="line">403.12-拒绝访问映射表。  </span><br><span class="line">403.13-客户端证书被吊销。  </span><br><span class="line">403.14-拒绝目录列表。  </span><br><span class="line">403.15-超出客户端访问许可。  </span><br><span class="line">403.16-客户端证书不受信任或无效。  </span><br><span class="line">403.17-客户端证书已过期或尚未生效。  </span><br><span class="line">403.18-在当前的应用程序池中不能执行所请求的URL。这个错误代码为IIS6.0所专用。  </span><br><span class="line">403.19-不能为这个应用程序池中的客户端执行CGI。这个错误代码为IIS6.0所专用。  </span><br><span class="line">403.20-Passport登录失败。这个错误代码为IIS6.0所专用。  </span><br><span class="line">404—没有发现文件、查询或URl</span><br><span class="line">404.0-（无）–没有找到文件或目录。  </span><br><span class="line">404.1-无法在所请求的端口上访问Web站点。  </span><br><span class="line">404.2-Web服务扩展锁定策略阻止本请求。  </span><br><span class="line">404.3-MIME映射策略阻止本请求。  </span><br><span class="line">405—用户在Request-Line字段定义的方法不允许</span><br><span class="line">406—根据用户发送的Accept拖，请求资源不可访问</span><br><span class="line">407—类似401，用户必须首先在代理服务器上得到授权</span><br><span class="line">408—客户端没有在用户指定的饿时间内完成请求</span><br><span class="line">409—对当前资源状态，请求不能完成</span><br><span class="line">410—服务器上不再有此资源且无进一步的参考地址</span><br><span class="line">411—服务器拒绝用户定义的Content-Length属性请求</span><br><span class="line">412—一个或多个请求头字段在当前请求中错误</span><br><span class="line">413—请求的资源大于服务器允许的大小</span><br><span class="line">414—请求的资源URL长于服务器允许的长度</span><br><span class="line">415—请求资源不支持请求项目格式</span><br><span class="line">416—请求中包含Range请求头字段，在当前请求资源范围内没有range指示值，请求也不包含If-Range请求头字段</span><br><span class="line">417—服务器不满足请求Expect头字段指定的期望值，如果是代理服务器，可能是下一级服务器不能满足请求</span><br><span class="line">423–锁定的错误。  </span><br></pre></td></tr></table></figure>
<h2 id="5-—服务器错误"><a href="#5-—服务器错误" class="headerlink" title="5**—服务器错误"></a>5**—服务器错误</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">500—服务器产生内部错误</span><br><span class="line">500.12-应用程序正忙于在Web服务器上重新启动。  </span><br><span class="line">500.13-Web服务器太忙。  </span><br><span class="line">500.15-不允许直接请求Global.asa。  </span><br><span class="line">500.16–UNC授权凭据不正确。这个错误代码为IIS6.0所专用。  </span><br><span class="line">500.18–URL授权存储不能打开。这个错误代码为IIS6.0所专用。  </span><br><span class="line">500.100-内部ASP错误。  </span><br><span class="line">501—服务器不支持请求的函数</span><br><span class="line">502—服务器暂时不可用，有时是为了防止发生系统过载</span><br><span class="line">502.1-CGI应用程序超时。  </span><br><span class="line">502.2-CGI应用程序出错。application.  </span><br><span class="line">503—服务器过载或暂停维修，这个错误代码为IIS6.0所专用。  </span><br><span class="line">504—关口过载，服务器使用另一个关口或服务来响应用户，等待时间设定值较长</span><br><span class="line">505—服务器不支持或拒绝支请求头中指定的HTTP版本</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>jq</category>
      </categories>
      <tags>
        <tag>AJAX error</tag>
        <tag>AJAX 状态码</tag>
      </tags>
  </entry>
  <entry>
    <title>vivo手机H5页面ERROR</title>
    <url>/2018/07/26/vivo-error/</url>
    <content><![CDATA[<p>今天收到用户反馈，vivo手机我们的app H5页面怎么显示的不对啊，让后我们就测试了好几个机型，华为、小米、oppo、酷派，都没有问题啊，安卓小哥虚拟机都用上了。<br><span id="more"></span></p>
<p>后来安卓小哥用vivo手机测试在log处发现了报错，让后打开js一看有这个 ` 符号，还有这个Array.from()，${ele}等。</p>
<p>这都是ES6语法啊，原来vivo手机居然不支持ES6</p>
<p>都这么久了vivo还不支持ES6！！！！！！</p>
<p>错误纠正。</p>
<p>后来我们专门进行了测试，发现只有<code></code>，ES6新增的模板字符串有问题，我们的app在vivo收手机上不起作用。别的语法都没有问题。<br>在vivo手机自带的浏览器进行测试也是没有问题的。原谅我还黑了vivo一波。最后是我们app的内核有问题。。。。。。</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>vivo error</tag>
      </tags>
  </entry>
  <entry>
    <title>js模糊查询</title>
    <url>/2018/08/01/search/</url>
    <content><![CDATA[<p>对于前端而言一些简单的查询还是不用需要后台配合的，前端自己也可以处理，最简单的就是用indexof判断进行显示隐藏，下面记录一个比较不错的方法，可以支持汉字、拼音、拼音首字母大写小写。</p>
<p>pinyin-engine 是一个简单高效的JavaScript拼音本地匹配引擎，它支持多音字，另外提供全文版支持繁体字 <a href="../../../../link/2018-08-01/PinyinEngine.js" download="PinyinEngine.js">点击此处进行下载</a></p>
<p><a href="../../../../link/2018-08-01/index.html" target="_black">也可以点击此处进行效果预览</a></p>
<p>源代码在这里<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=yes&quot;</span> /&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    *&#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    input&#123;</span><br><span class="line">        width: 80%;</span><br><span class="line">        height: 50px;</span><br><span class="line">        display: block;</span><br><span class="line">        margin: 30px auto ;</span><br><span class="line">        background: <span class="comment">#F0F0F0;</span></span><br><span class="line">        border: 1px solid <span class="comment">#333;</span></span><br><span class="line">        font-size: 26px;</span><br><span class="line">        text-indent: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">#cityBox&#123;</span></span><br><span class="line">        text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;input <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;inp&quot;</span>&gt;</span><br><span class="line">    &lt;ul id=<span class="string">&quot;cityBox&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=<span class="string">&quot;PinyinEngine.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var demoData = [</span><br><span class="line">        &#123;name: <span class="string">&#x27;海门&#x27;</span>, value: 9&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;鄂尔多斯&#x27;</span>, value: 12&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;招远&#x27;</span>, value: 12&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;舟山&#x27;</span>, value: 12&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;齐齐哈尔&#x27;</span>, value: 14&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;盐城&#x27;</span>, value: 15&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;赤峰&#x27;</span>, value: 16&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;青岛&#x27;</span>, value: 18&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;乳山&#x27;</span>, value: 18&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;金昌&#x27;</span>, value: 19&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;泉州&#x27;</span>, value: 21&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;莱西&#x27;</span>, value: 21&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;日照&#x27;</span>, value: 21&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;胶南&#x27;</span>, value: 22&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南通&#x27;</span>, value: 23&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;拉萨&#x27;</span>, value: 24&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;云浮&#x27;</span>, value: 24&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;梅州&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;文登&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;上海&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;攀枝花&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;威海&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;承德&#x27;</span>, value: 25&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;厦门&#x27;</span>, value: 26&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;汕尾&#x27;</span>, value: 26&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;潮州&#x27;</span>, value: 26&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;丹东&#x27;</span>, value: 27&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;太仓&#x27;</span>, value: 27&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;曲靖&#x27;</span>, value: 27&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;烟台&#x27;</span>, value: 28&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;福州&#x27;</span>, value: 29&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;瓦房店&#x27;</span>, value: 30&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;即墨&#x27;</span>, value: 30&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;抚顺&#x27;</span>, value: 31&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;玉溪&#x27;</span>, value: 31&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;张家口&#x27;</span>, value: 31&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;阳泉&#x27;</span>, value: 31&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;莱州&#x27;</span>, value: 32&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;湖州&#x27;</span>, value: 32&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;汕头&#x27;</span>, value: 32&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;昆山&#x27;</span>, value: 33&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宁波&#x27;</span>, value: 33&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;湛江&#x27;</span>, value: 33&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;揭阳&#x27;</span>, value: 34&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;荣成&#x27;</span>, value: 34&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;连云港&#x27;</span>, value: 35&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;葫芦岛&#x27;</span>, value: 35&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;常熟&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;东莞&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;河源&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;淮安&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;泰州&#x27;</span>, value: 36&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南宁&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;营口&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;惠州&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;江阴&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;蓬莱&#x27;</span>, value: 37&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;韶关&#x27;</span>, value: 38&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;嘉峪关&#x27;</span>, value: 38&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;广州&#x27;</span>, value: 38&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;延安&#x27;</span>, value: 38&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;太原&#x27;</span>, value: 39&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;清远&#x27;</span>, value: 39&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;中山&#x27;</span>, value: 39&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;昆明&#x27;</span>, value: 39&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;寿光&#x27;</span>, value: 40&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;盘锦&#x27;</span>, value: 40&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;长治&#x27;</span>, value: 41&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;深圳&#x27;</span>, value: 41&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;珠海&#x27;</span>, value: 42&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宿迁&#x27;</span>, value: 43&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;咸阳&#x27;</span>, value: 43&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;铜川&#x27;</span>, value: 44&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;平度&#x27;</span>, value: 44&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;佛山&#x27;</span>, value: 44&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;海口&#x27;</span>, value: 44&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;江门&#x27;</span>, value: 45&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;章丘&#x27;</span>, value: 45&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;肇庆&#x27;</span>, value: 46&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;大连&#x27;</span>, value: 47&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;临汾&#x27;</span>, value: 47&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;吴江&#x27;</span>, value: 47&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;石嘴山&#x27;</span>, value: 49&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;沈阳&#x27;</span>, value: 50&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;苏州&#x27;</span>, value: 50&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;茂名&#x27;</span>, value: 50&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;嘉兴&#x27;</span>, value: 51&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;长春&#x27;</span>, value: 51&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;胶州&#x27;</span>, value: 52&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;银川&#x27;</span>, value: 52&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;张家港&#x27;</span>, value: 52&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;三门峡&#x27;</span>, value: 53&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;锦州&#x27;</span>, value: 54&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南昌&#x27;</span>, value: 54&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;柳州&#x27;</span>, value: 54&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;三亚&#x27;</span>, value: 54&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;自贡&#x27;</span>, value: 56&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;吉林&#x27;</span>, value: 56&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;阳江&#x27;</span>, value: 57&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;泸州&#x27;</span>, value: 57&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;西宁&#x27;</span>, value: 57&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宜宾&#x27;</span>, value: 58&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;呼和浩特&#x27;</span>, value: 58&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;成都&#x27;</span>, value: 58&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;大同&#x27;</span>, value: 58&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;镇江&#x27;</span>, value: 59&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;桂林&#x27;</span>, value: 59&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;张家界&#x27;</span>, value: 59&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宜兴&#x27;</span>, value: 59&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;北海&#x27;</span>, value: 60&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;西安&#x27;</span>, value: 61&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;金坛&#x27;</span>, value: 62&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;东营&#x27;</span>, value: 62&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;牡丹江&#x27;</span>, value: 63&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;遵义&#x27;</span>, value: 63&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;绍兴&#x27;</span>, value: 63&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;扬州&#x27;</span>, value: 64&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;常州&#x27;</span>, value: 64&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;潍坊&#x27;</span>, value: 65&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;重庆&#x27;</span>, value: 66&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;台州&#x27;</span>, value: 67&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南京&#x27;</span>, value: 67&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;滨州&#x27;</span>, value: 70&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;贵阳&#x27;</span>, value: 71&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;无锡&#x27;</span>, value: 71&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;本溪&#x27;</span>, value: 71&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;克拉玛依&#x27;</span>, value: 72&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;渭南&#x27;</span>, value: 72&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;马鞍山&#x27;</span>, value: 72&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宝鸡&#x27;</span>, value: 72&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;焦作&#x27;</span>, value: 75&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;句容&#x27;</span>, value: 75&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;北京&#x27;</span>, value: 79&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;徐州&#x27;</span>, value: 79&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;衡水&#x27;</span>, value: 80&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;包头&#x27;</span>, value: 80&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;绵阳&#x27;</span>, value: 80&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;乌鲁木齐&#x27;</span>, value: 84&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;枣庄&#x27;</span>, value: 84&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;杭州&#x27;</span>, value: 84&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;淄博&#x27;</span>, value: 85&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;鞍山&#x27;</span>, value: 86&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;溧阳&#x27;</span>, value: 86&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;库尔勒&#x27;</span>, value: 86&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;安阳&#x27;</span>, value: 90&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;开封&#x27;</span>, value: 90&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;济南&#x27;</span>, value: 92&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;德阳&#x27;</span>, value: 93&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;温州&#x27;</span>, value: 95&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;九江&#x27;</span>, value: 96&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;邯郸&#x27;</span>, value: 98&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;临安&#x27;</span>, value: 99&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;兰州&#x27;</span>, value: 99&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;沧州&#x27;</span>, value: 100&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;临沂&#x27;</span>, value: 103&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;南充&#x27;</span>, value: 104&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;天津&#x27;</span>, value: 105&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;富阳&#x27;</span>, value: 106&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;泰安&#x27;</span>, value: 112&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;诸暨&#x27;</span>, value: 112&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;郑州&#x27;</span>, value: 113&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;哈尔滨&#x27;</span>, value: 114&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;聊城&#x27;</span>, value: 116&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;芜湖&#x27;</span>, value: 117&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;唐山&#x27;</span>, value: 119&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;平顶山&#x27;</span>, value: 119&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;邢台&#x27;</span>, value: 119&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;德州&#x27;</span>, value: 120&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;济宁&#x27;</span>, value: 120&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;荆州&#x27;</span>, value: 127&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;宜昌&#x27;</span>, value: 130&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;义乌&#x27;</span>, value: 132&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;丽水&#x27;</span>, value: 133&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;洛阳&#x27;</span>, value: 134&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;秦皇岛&#x27;</span>, value: 136&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;株洲&#x27;</span>, value: 143&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;石家庄&#x27;</span>, value: 147&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;莱芜&#x27;</span>, value: 148&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;常德&#x27;</span>, value: 152&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;保定&#x27;</span>, value: 153&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;湘潭&#x27;</span>, value: 154&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;金华&#x27;</span>, value: 157&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;岳阳&#x27;</span>, value: 169&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;长沙&#x27;</span>, value: 175&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;衢州&#x27;</span>, value: 177&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;廊坊&#x27;</span>, value: 193&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;菏泽&#x27;</span>, value: 194&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;合肥&#x27;</span>, value: 229&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;武汉&#x27;</span>, value: 273&#125;,</span><br><span class="line">        &#123;name: <span class="string">&#x27;大庆&#x27;</span>, value: 279&#125;</span><br><span class="line">    ];</span><br><span class="line">    var $ = <span class="keyword">function</span> (id) &#123;</span><br><span class="line">        <span class="built_in">return</span> document.getElementById(id)</span><br><span class="line">    &#125;;</span><br><span class="line">    var <span class="variable">$cityBox</span> = $(<span class="string">&#x27;cityBox&#x27;</span>);</span><br><span class="line">    var <span class="variable">$input</span> = $(<span class="string">&#x27;inp&#x27;</span>);</span><br><span class="line">    var preVal = <span class="variable">$input</span>.value;</span><br><span class="line">    //重点将input内容进行search</span><br><span class="line">    var engine = new PinyinEngine(demoData,[<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">    //初始加载</span><br><span class="line">    loadCity(demoData);</span><br><span class="line">    //加载所有数据</span><br><span class="line">    <span class="keyword">function</span> loadCity(data) &#123;</span><br><span class="line">        //判断是否为空</span><br><span class="line">        <span class="keyword">if</span>(data.length === 0)&#123;</span><br><span class="line">            var <span class="variable">$li</span> = document.createElement(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">            <span class="variable">$li</span>.innerText = <span class="string">&#x27;未找到！！！！！！&#x27;</span>;</span><br><span class="line">            <span class="variable">$cityBox</span>.appendChild(<span class="variable">$li</span>);</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        //循环插入</span><br><span class="line">        <span class="keyword">for</span> (var i=0;i&lt;data.length;i++)&#123;</span><br><span class="line">            var <span class="variable">$li</span> = document.createElement(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">            <span class="variable">$li</span>.innerText = data[i].name;</span><br><span class="line">            <span class="variable">$cityBox</span>.appendChild(<span class="variable">$li</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //input改变进行search</span><br><span class="line">    <span class="variable">$input</span>.oninput = <span class="variable">$input</span>.onpropertychange = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        var val = <span class="variable">$input</span>.value;</span><br><span class="line">        <span class="keyword">if</span> (val === preVal) <span class="built_in">return</span>;</span><br><span class="line">        preVal = <span class="variable">$input</span>.value;</span><br><span class="line">        <span class="keyword">if</span> (val === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">            loadCity(demoData);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$cityBox</span>.innerText = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            var list = engine.query(val);</span><br><span class="line">            loadCity(list);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>模糊查询</tag>
      </tags>
  </entry>
  <entry>
    <title>:focus-within选择器</title>
    <url>/2018/08/07/focusWithin/</url>
    <content><![CDATA[<p>看新闻看到了一个非常不错的选择器:focus-within，他可以做一些js的效果，focus是获取焦点，所以只能有focus状态的元素才可以使用。<br>:focus-within选择器是在元素获取焦点的时候可以触发自身或者父元素的属性（冒泡）。<br><span id="more"></span></p>
<p>举一个小例子<br>效果如图<br><img src="/images/2018-08-07/focus-within.gif" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">css</span><br><span class="line">.parent&#123;</span><br><span class="line">            width: 100%;</span><br><span class="line">            height: 200px;  </span><br><span class="line">            background: <span class="comment">#eeeeee;</span></span><br><span class="line">            display: flex;</span><br><span class="line">            justify-content: center;</span><br><span class="line">            align-items: center;</span><br><span class="line">        &#125;</span><br><span class="line">        .children&#123;</span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 60px;</span><br><span class="line">            background: <span class="comment">#999;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .parent:focus-within&#123;</span><br><span class="line">            background: <span class="comment">#f60;</span></span><br><span class="line">        &#125;&gt;</span><br></pre></td></tr></table></figure><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;div class=<span class="string">&quot;parent&quot;</span>&gt;</span><br><span class="line">    &lt;button class=<span class="string">&quot;children&quot;</span>&gt;点我&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>写了一个选项卡的小例子效果可以看一下<br><img src="/images/2018-08-07/focus-within-nav.gif" alt=""><br><a href="https://codepen.io/zywkuo/pen/XBByzj">具体代码可以点击此链接前往codepen查看，效果也有哦！</a></p>
<p>在看一下兼容问题  数据来源于<a href="https://caniuse.com/">https://caniuse.com/</a><br><img src="/images/2018-08-07/focus-within.png" alt=""></p>
<p>虽然对浏览器的兼容效果还不是很好，希望快快普及吧。</p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>:focus-within</tag>
      </tags>
  </entry>
  <entry>
    <title>sql语句学习</title>
    <url>/2018/08/03/sql/</url>
    <content><![CDATA[<p>sql学习记录<br><span id="more"></span><br>从 “qc_record” 表中选取所有记录 (<em>qc_record为一个表的名称)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select * from qc_record;</span><br></pre></td></tr></table></figure><br>一些最重要的 SQL 命令（</em>SQL 对大小写不敏感：SELECT 与 select 是相同的。）<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SELECT                  - 从数据库中提取数据</span><br><span class="line">UPDATE                  - 更新数据库中的数据</span><br><span class="line">DELETE                  - 从数据库中删除数据</span><br><span class="line">INSERT INTO             - 向数据库中插入新数据</span><br><span class="line">CREATE DATABASE         - 创建新数据库</span><br><span class="line">ALTER DATABASE          - 修改数据库</span><br><span class="line">CREATE TABLE            - 创建新表</span><br><span class="line">ALTER TABLE             - 变更（改变）数据库表</span><br><span class="line">DROP TABLE              - 删除表</span><br><span class="line">CREATE INDEX            - 创建索引（搜索键）</span><br><span class="line">DROP INDEX              - 删除索引</span><br></pre></td></tr></table></figure></p>
<h1 id="SELECT-语句"><a href="#SELECT-语句" class="headerlink" title="SELECT 语句"></a>SELECT 语句</h1><p>SELECT 语句用于从数据库中选取数据。结果被存储在一个结果表中，称为结果集。</p>
<p>SQL SELECT 语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select * from qc_record;     查询整个表内容</span><br><span class="line"></span><br><span class="line">select column_name,column_name from qc_record;      -- column_name(查询表内某一列名称可查询多个)</span><br></pre></td></tr></table></figure></p>
<h1 id="SELECT-DISTINCT-语句"><a href="#SELECT-DISTINCT-语句" class="headerlink" title="SELECT DISTINCT 语句"></a>SELECT DISTINCT 语句</h1><p>在表中，一个列可能会包含多个重复值，有时您也许希望仅仅列出不同（distinct）的值。DISTINCT 关键词用于返回唯一不同的值。</p>
<p>SQL SELECT DISTINCT 语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select distinct column_name,column_name from qc_record;     -- column_name(查询表内某一列名称可查询多个)</span><br></pre></td></tr></table></figure></p>
<h1 id="WHERE-子句"><a href="#WHERE-子句" class="headerlink" title="WHERE 子句"></a>WHERE 子句</h1><p>WHERE 子句用于提取那些满足指定标准的记录。</p>
<p>WHERE 语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select * from qc_record <span class="built_in">where</span> column_name operator value;      -- 查找qc_record表中匹配column_name operator value（匹配表达式）的记录</span><br><span class="line"></span><br><span class="line">select column_name,column_name from qc_record <span class="built_in">where</span> column_name operator value;     -- 查找qc_record表中对应名称的匹配column_name operator value（匹配表达式）的记录</span><br></pre></td></tr></table></figure></p>
<p>SQL 使用单引号来环绕文本值（大部分数据库系统也接受双引号）。如果是数值字段，请不要使用引号。</p>
<p>WHERE 子句中的运算符<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">运算符	    描述</span><br><span class="line">=	        等于</span><br><span class="line">&lt;&gt;	        不等于。注释：在 SQL 的一些版本中，该操作符可被写成 !=</span><br><span class="line">&gt;	        大于</span><br><span class="line">&lt;	        小于</span><br><span class="line">&gt;=	        大于等于</span><br><span class="line">&lt;=	        小于等于</span><br><span class="line">BETWEEN	    在某个范围内</span><br><span class="line">LIKE	    搜索某种模式</span><br><span class="line">IN	        指定针对某个列的多个可能值</span><br></pre></td></tr></table></figure></p>
<p>后记，在查询语句的时候用到了模糊查询，</p>
<p>LIKE 条件匹配模式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">% 包含零个或更多字符的任意字符串。</span><br><span class="line">_（下划线） 任何单个字符。</span><br><span class="line">[ ] 指定范围（例如 [a-f]）或集合（例如 [abcdef]）内的任何单个字符。</span><br><span class="line">[^] 不在指定范围（例如 [^a - f]）或集合（例如 [^abcdef]）内的任何单个字符。</span><br></pre></td></tr></table></figure>
<h1 id="AND-amp-OR-运算符"><a href="#AND-amp-OR-运算符" class="headerlink" title="AND &amp; OR 运算符"></a>AND &amp; OR 运算符</h1><p>AND &amp; OR 运算符用于基于一个以上的条件对记录进行过滤。<br>如果第一个条件和第二个条件都成立，则 AND 运算符显示一条记录。<br>如果第一个条件和第二个条件中只要有一个成立，则 OR 运算符显示一条记录。</p>
<p>AND 语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select * from qc_record <span class="built_in">where</span> test_user = <span class="string">&#x27;zyw&#x27;</span> and device_id = 19222;   -- 与的关系，and连接的两个名称匹配都<span class="literal">true</span>才显示</span><br></pre></td></tr></table></figure></p>
<p>OR 语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select * from qc_record <span class="built_in">where</span> test_user = <span class="string">&#x27;zyw&#x27;</span> or device_id = 19222;   -- 或的关系，or连接的两个名称有一个匹配的就显示</span><br></pre></td></tr></table></figure></p>
<p>AND OR 语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select * from qc_record <span class="built_in">where</span> test_user = <span class="string">&#x27;zyw&#x27;</span> and (device_id = 19121 or status = 1);   -- 也可以把 AND 和 OR 结合起来（使用圆括号来组成复杂的表达式）</span><br></pre></td></tr></table></figure></p>
<h1 id="ORDER-BY-关键字"><a href="#ORDER-BY-关键字" class="headerlink" title="ORDER BY 关键字"></a>ORDER BY 关键字</h1><p>ORDER BY 关键字用于对结果集进行排序。<br>ORDER BY 关键字用于对结果集按照一个列或者多个列进行排序。<br>ORDER BY 关键字默认按照升序对记录进行排序。如果需要按照降序对记录进行排序，您可以使用 DESC 关键字。</p>
<p>ORDER BY 语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">select * from qc_record order by create_date desc           -- ASC--&gt;升序排列默认    DESC--&gt;降序排列要写这个关键字</span><br></pre></td></tr></table></figure></p>
<h1 id="INSERT-INTO-语句"><a href="#INSERT-INTO-语句" class="headerlink" title="INSERT INTO 语句"></a>INSERT INTO 语句</h1><p>INSERT INTO 语句用于向表中插入新记录。</p>
<p>INSERT INTO 语法(有两种编写形式)</p>
<p>第一种形式无需指定要插入数据的列名，只需提供被插入的值即可：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">insert into qc_record values (value1,value2,value3,...);</span><br></pre></td></tr></table></figure><br>第二种形式需要指定列名及被插入的值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">insert into qc_record (column1,column2,column3,...) values (value1,value2,value3,...);</span><br></pre></td></tr></table></figure></p>
<h1 id="UPDATE-语句"><a href="#UPDATE-语句" class="headerlink" title="UPDATE 语句"></a>UPDATE 语句</h1><p>UPDATE 语句用于更新表中的记录。</p>
<p>UPDATE 语句<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">update qc_record <span class="built_in">set</span> column1=value1,column2=value2,... <span class="built_in">where</span> some_column=some_value; -- WHERE 子句规定哪条记录或者哪些记录需要更新。如果您省略了 WHERE 子句，所有的记录都将被更新！</span><br></pre></td></tr></table></figure></p>
<h1 id="DELETE-语句"><a href="#DELETE-语句" class="headerlink" title="DELETE 语句"></a>DELETE 语句</h1><p>DELETE 语句用于删除表中的记录。</p>
<p>SQL DELETE 语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">delete from qc_record <span class="built_in">where</span> some_column=some_value;                                 -- 删除一条属性</span><br><span class="line">delete from qc_record <span class="built_in">where</span> some_column=some_value and some_column=some_value ...;      -- 删除多条属性</span><br><span class="line">delete from qc_record                                                               -- 删除所有</span><br></pre></td></tr></table></figure></p>
<p>参考网址    <a href='http://www.runoob.com/sql/sql-tutorial.html' traget='_blank'>SQL教程|菜鸟教程</a></p>
]]></content>
      <categories>
        <category>sql</category>
      </categories>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title>js数组去重</title>
    <url>/2018/08/10/distinct/</url>
    <content><![CDATA[<p>数组去重，老生常谈，记录我觉得比较好的方法<br><span id="more"></span></p>
<h1 id="ES5方法"><a href="#ES5方法" class="headerlink" title="ES5方法"></a>ES5方法</h1><h2 id="利用对象唯一属性进行去重"><a href="#利用对象唯一属性进行去重" class="headerlink" title="利用对象唯一属性进行去重"></a>利用对象唯一属性进行去重</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var array = [1,1,2,3,4,5,5,6,6,7,8,8];</span><br><span class="line">Array.prototype.distinct = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">    var array = [];</span><br><span class="line">    var obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(var i=0;i&lt;this.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!obj[this[i]])&#123;</span><br><span class="line">            array.push(this[i]);</span><br><span class="line">            obj[this[i]] = 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line">console.log(array.distinct());//[1, 2, 3, 4, 5, 6, 7, 8]</span><br></pre></td></tr></table></figure>
<h2 id="利用indexOf属性进行判断"><a href="#利用indexOf属性进行判断" class="headerlink" title="利用indexOf属性进行判断"></a>利用indexOf属性进行判断</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var array = [1,1,2,3,4,5,5,6,6,7,8,8];</span><br><span class="line">Array.prototype.distinct = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">    var array = [this[0]];</span><br><span class="line">    <span class="keyword">for</span>(var i=0;i&lt;this.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(array.indexOf(this[i]) == -1)&#123;</span><br><span class="line">            array.push(this[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line">console.log(array.distinct());//[1, 2, 3, 4, 5, 6, 7, 8]</span><br></pre></td></tr></table></figure>
<h1 id="ES6方法"><a href="#ES6方法" class="headerlink" title="ES6方法"></a>ES6方法</h1><p>ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。利用他的唯一性就可以进行去重了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const array = [1,1,2,3,4,5,5,6,6,7,8,8];</span><br><span class="line">console.log(new Set(array));//&#123;1, 2, 3, 4, 5, 6, 7, 8&#125;</span><br></pre></td></tr></table></figure><br>此时可以看到原数组已经已经去重了，但是此时结构还不是数组的结构，因此我们还需要用到Array.from方法，Array.from方法可以将 Set 结构转为数组。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const array = [1,1,2,3,4,5,5,6,6,7,8,8];</span><br><span class="line">console.log(Array.from(new Set(array)));//[1, 2, 3, 4, 5, 6, 7, 8]</span><br></pre></td></tr></table></figure><br>记录一个多个数组合并去重的好方法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">distinct</span></span>()&#123;</span><br><span class="line">    <span class="built_in">let</span> arr = [].concat.apply([], arguments);</span><br><span class="line">    console.log(arr);</span><br><span class="line">    <span class="built_in">return</span> Array.from(new Set(arr));</span><br><span class="line">&#125;</span><br><span class="line">const a = [1,2,3,5],b = [2,5,8,6],c = [7,8,9];</span><br><span class="line">console.log(distinct(a,b,c));//[1, 2, 3, 5, 8, 6, 7, 9]</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js数组去重</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>position:sticky</title>
    <url>/2018/08/21/sticky/</url>
    <content><![CDATA[<p>css position属性的值有absolute、fixed、relative、static、inherit等，<br>今天发现一个新的值 sticky 粘性定位，该定位基于用户滚动的位置。</p>
<span id="more"></span>
<p>这个属性比较不错，遗憾的是兼容性还不是很好，先来张图看一下<br><img src="/images/2018-08-21/sticky.png" alt=""></p>
<p>再来看一下他能干什么，比如说我一片文章有6个标题，让后读者读到每个标题对应的内容的时候让标题在顶部显示，看demo。</p>
<p><p data-height="265" data-theme-id="0" data-slug-hash="YOzJoP" data-default-tab="css,result" data-user="zywkuo" data-pen-title="YOzJoP" class="codepen">See the Pen <a href="https://codepen.io/zywkuo/pen/YOzJoP/">YOzJoP</a> by 周艳伟 (<a href="https://codepen.io/zywkuo">@zywkuo</a>) on <a href="https://codepen.io">CodePen</a>.</p></p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>


<p>还有一些移动端页面标题固定顶部，看这个demo</p>
<p><p data-height="265" data-theme-id="0" data-slug-hash="dqywNV" data-default-tab="html,result" data-user="zywkuo" data-pen-title="sticky2" class="codepen">See the Pen <a href="https://codepen.io/zywkuo/pen/dqywNV/">sticky2</a> by 周艳伟 (<a href="https://codepen.io/zywkuo">@zywkuo</a>) on <a href="https://codepen.io">CodePen</a>.</p></p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<p>这个属性值还是很不错的，用起来是不是感觉很方便，如果用js的话还需要进行判断高度在做处理相对来说还是这个简便快捷。</p>
<p>希望赶快普及吧！</p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>position:sticky</tag>
      </tags>
  </entry>
  <entry>
    <title>rest参数(...变量名)和扩展运算符(...)</title>
    <url>/2018/08/23/(...)/</url>
    <content><![CDATA[<p>之前写的一篇数组去重的方法，这样写的。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const array = [1,1,2,3,4,5,5,6,6,7,8,8];</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">distinct</span></span>()&#123;</span><br><span class="line">    <span class="built_in">let</span> arr = [].concat.apply([], arguments);</span><br><span class="line">    console.log(arr);</span><br><span class="line">    <span class="built_in">return</span> Array.from(new Set(arr));</span><br><span class="line">&#125;</span><br><span class="line">const a = [1,2,3,5],b = [2,5,8,6],c = [7,8,9];</span><br><span class="line">console.log(distinct(a,b,c));//[1, 2, 3, 5, 8, 6, 7, 9]</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>后来我一想，既然都用ES6了，不如都用ES6语法吧。然后我就把代码改成这样了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">distinct = () =&gt; &#123;</span><br><span class="line">    <span class="built_in">let</span> arr = [].concat.apply([], arguments);</span><br><span class="line">    <span class="built_in">return</span> Array.from(new Set(arr));</span><br><span class="line">&#125;</span><br><span class="line">console.log(distinct(array));//Uncaught ReferenceError: arguments is not defined</span><br></pre></td></tr></table></figure></p>
<p>报错了，让后查找了一下原因，使用为箭头函数没有arguments，怎么办，这就需要用rest参数了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const a = [1,2,3,5],b = [2,5,8,6],c = [7,8,9];</span><br><span class="line">distinct = (...theArgs) =&gt; &#123;</span><br><span class="line">    <span class="built_in">let</span> arr = [].concat.apply([], theArgs);</span><br><span class="line">    <span class="built_in">return</span> Array.from(new Set(arr));</span><br><span class="line">&#125;</span><br><span class="line">console.log(distinct(a,b,c));//[1, 2, 3, 5, 8, 6, 7, 9]</span><br></pre></td></tr></table></figure>
<p>这个<code>...theArgs</code>就是rest参数了，theArgs是自定义的命名，可以随便起名字。</p>
<h1 id="rest参数-…变量名"><a href="#rest参数-…变量名" class="headerlink" title="rest参数(…变量名)"></a>rest参数(…变量名)</h1><p>最主要用于不定参数，用于获取函数多余的参数，将多余的逗号分隔的参数序列转换为数组参数</p>
<p>rest参数的语法<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> f(a, b, ...theArgs) &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>看一个小例子<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fun1 = (...theArgs) =&gt; &#123;</span><br><span class="line">    console.log(theArgs);</span><br><span class="line">&#125;</span><br><span class="line">fun1(1, 2, 3, 4, 5, 6);//[1, 2, 3, 4, 5, 6]</span><br><span class="line"></span><br><span class="line">fun2 = (a, b, ...theArgs) =&gt; &#123;</span><br><span class="line">    console.log(theArgs);//[3, 4, 5, 6]</span><br><span class="line">&#125;</span><br><span class="line">fun2(1, 2, 3, 4, 5, 6);</span><br></pre></td></tr></table></figure><br>注意：rest参数只能是最后一个参数，他代表除a,b以外的所有参数，如果后面在添加别参数，例如<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fun2 = (a, b, ...theArgs, c) =&gt; &#123;</span><br><span class="line">    console.log(theArgs);</span><br><span class="line">&#125;</span><br><span class="line">fun2(1, 2, 3, 4, 5, 6);Uncaught SyntaxError: Rest parameter must be last formal parameter</span><br></pre></td></tr></table></figure><br>这样是会报错的。</p>
<p>说到这里这个<code>...</code>还有一个作用就是作为扩展运算符</p>
<h1 id="扩展运算符-…"><a href="#扩展运算符-…" class="headerlink" title="扩展运算符(…)"></a>扩展运算符(…)</h1><p>扩展运算符可以理解为rest参数的逆运算，将数组转换为逗号分隔的参数序列</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const nums = [1, 2, 3];</span><br><span class="line">fun = (a, b, c) =&gt; &#123;</span><br><span class="line">    console.log(`<span class="variable">$&#123;a&#125;</span> <span class="variable">$&#123;b&#125;</span> <span class="variable">$&#123;c&#125;</span>`)</span><br><span class="line">&#125;</span><br><span class="line">fun(...nums);//1 2 3</span><br></pre></td></tr></table></figure>
<p>ES5的话我们还需要这样调用<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fun.apply(null,nums);</span><br></pre></td></tr></table></figure></p>
<h1 id="扩展运算符应用"><a href="#扩展运算符应用" class="headerlink" title="扩展运算符应用"></a>扩展运算符应用</h1><h2 id="合并数组"><a href="#合并数组" class="headerlink" title="合并数组"></a>合并数组</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const arr1 = [1, 2, 3]</span><br><span class="line">const arr2 = [5, 6]</span><br><span class="line">ES5</span><br><span class="line">console.log(arr1.concat(arr2));//[1, 2, 3, 5, 6]</span><br><span class="line">ES6</span><br><span class="line">console.log([...arr1, ...arr2]);//[1, 2, 3, 5, 6]</span><br></pre></td></tr></table></figure>
<h2 id="判断最大值最小值"><a href="#判断最大值最小值" class="headerlink" title="判断最大值最小值"></a>判断最大值最小值</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const array = [1,1,2,3,4,5,5,6,6,7,8,8];</span><br><span class="line">ES5</span><br><span class="line">console.log( Math.max.apply(null, array));//8</span><br><span class="line">console.log( Math.min.apply(null, array));//1</span><br><span class="line">ES6</span><br><span class="line">console.log( Math.max(...array));//8</span><br><span class="line">console.log( Math.min(...array));//1</span><br></pre></td></tr></table></figure>
<h2 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const array = [1,1,2,3,4,5,5,6,6,7,8,8];</span><br><span class="line">const distinct = arr =&gt; [...new Set(arr)];</span><br><span class="line">console.log(distinct(array));//[1, 2, 3, 4, 5, 6, 7, 8]</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>rest参数</tag>
        <tag>扩展运算符</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-cli3 + ElementUI</title>
    <url>/2018/09/03/vue-cli/</url>
    <content><![CDATA[<p>使用vue-cli3脚手架搭配ElementUI做了一个简单的PC后台管理系统<br><a href="../../../../link/2018-09-03/dist/index.html" target="_black">连接地址</a><br>账号密码随便输,不写也行。<br><a href="https://github.com/zywkuo/vue-cli-demo-pc">github源码在这里</a><br>下载在下来后安装依赖，启动项目应该就可以看了。</p>
<p>我也在学习中，持续更新。。。。。。</p>
]]></content>
      <categories>
        <category>VUE</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>cli3</tag>
        <tag>ElementUI</tag>
      </tags>
  </entry>
  <entry>
    <title>前端跨域方案</title>
    <url>/2018/09/25/proxy/</url>
    <content><![CDATA[<p>做了一份关于跨域的ppt,主要讲解了，使用vue-cli、nginx、node.js进行跨域处理。欢迎下载观看。</p>
<p><a href="../../../../link/2018-09-25/proxy.pptx">PPT请点击这里下载</a></p>
<p>下面附上几张照片，node.js跨域源码在下面。</p>
<span id="more"></span>
<p><img src="/images/2018-09-25/proxy1.png" alt=""><br><img src="/images/2018-09-25/proxy2.png" alt=""><br><img src="/images/2018-09-25/proxy3.png" alt=""><br><img src="/images/2018-09-25/proxy4.png" alt=""></p>
<p>proxy.js<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var PORT = 3000;</span><br><span class="line">var http = require(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line">var url=require(<span class="string">&#x27;url&#x27;</span>);</span><br><span class="line">var fs=require(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">var mine=require(<span class="string">&#x27;./mime&#x27;</span>).types;</span><br><span class="line">var path=require(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line">var httpProxy = require(<span class="string">&#x27;http-proxy&#x27;</span>);</span><br><span class="line">var proxy = httpProxy.createProxyServer(&#123;</span><br><span class="line">    target: <span class="string">&#x27;http://192.168.2.18:8080/&#x27;</span>,   //接口地址</span><br><span class="line">    // 下面的设置用于https</span><br><span class="line">    // ssl: &#123;</span><br><span class="line">    //     key: fs.readFileSync(<span class="string">&#x27;server_decrypt.key&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>),</span><br><span class="line">    //     cert: fs.readFileSync(<span class="string">&#x27;server.crt&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    // &#125;,</span><br><span class="line">    // secure: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line">proxy.on(<span class="string">&#x27;error&#x27;</span>, <span class="keyword">function</span>(err, req, res)&#123;</span><br><span class="line">    res.writeHead(500, &#123;</span><br><span class="line">        <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;text/plain&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(err);</span><br><span class="line">    res.end(<span class="string">&#x27;Something went wrong. And we are reporting a custom error message.&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">var server = http.createServer(<span class="keyword">function</span> (request, response) &#123;</span><br><span class="line">    var pathname = url.parse(request.url).pathname;</span><br><span class="line">    //var realPath = path.join(<span class="string">&quot;main-pages&quot;</span>, pathname); // 指定根目录</span><br><span class="line">    var realPath = path.join(<span class="string">&quot;./&quot;</span>, pathname);</span><br><span class="line">    console.log(pathname);</span><br><span class="line">    console.log(realPath);</span><br><span class="line">    var ext = path.extname(realPath);</span><br><span class="line">    ext = ext ? ext.slice(1) : <span class="string">&#x27;unknown&#x27;</span>;</span><br><span class="line">    //判断如果是接口访问，则通过proxy转发</span><br><span class="line">    <span class="keyword">if</span>(pathname.indexOf(<span class="string">&quot;meis&quot;</span>) &gt; 0)&#123;</span><br><span class="line">        proxy.web(request, response);</span><br><span class="line">        <span class="built_in">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    fs.exists(realPath, <span class="keyword">function</span> (exists) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!exists) &#123;</span><br><span class="line">            response.writeHead(404, &#123;</span><br><span class="line">                <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/plain&#x27;</span></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            response.write(<span class="string">&quot;This request URL &quot;</span> + pathname + <span class="string">&quot; was not found on this server.&quot;</span>);</span><br><span class="line">            response.end();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            fs.readFile(realPath, <span class="string">&quot;binary&quot;</span>, <span class="keyword">function</span> (err, file) &#123;</span><br><span class="line">                <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                    response.writeHead(500, &#123;</span><br><span class="line">                        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/plain&#x27;</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                    response.end(err);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    var contentType = mine[ext] || <span class="string">&quot;text/plain&quot;</span>;</span><br><span class="line">                    response.writeHead(200, &#123;</span><br><span class="line">                        <span class="string">&#x27;Content-Type&#x27;</span>: contentType</span><br><span class="line">                    &#125;);</span><br><span class="line">                    response.write(file, <span class="string">&quot;binary&quot;</span>);</span><br><span class="line">                    response.end();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">server.listen(PORT);</span><br><span class="line">console.log(<span class="string">&quot;Server runing at port: &quot;</span> + PORT + <span class="string">&quot;.&quot;</span>);</span><br></pre></td></tr></table></figure><br>mime.js<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">exports.types = &#123;</span><br><span class="line">    <span class="string">&quot;css&quot;</span>: <span class="string">&quot;text/css&quot;</span>,</span><br><span class="line">    <span class="string">&quot;gif&quot;</span>: <span class="string">&quot;image/gif&quot;</span>,</span><br><span class="line">    <span class="string">&quot;html&quot;</span>: <span class="string">&quot;text/html&quot;</span>,</span><br><span class="line">    <span class="string">&quot;ico&quot;</span>: <span class="string">&quot;image/x-icon&quot;</span>,</span><br><span class="line">    <span class="string">&quot;jpeg&quot;</span>: <span class="string">&quot;image/jpeg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;jpg&quot;</span>: <span class="string">&quot;image/jpeg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;js&quot;</span>: <span class="string">&quot;text/javascript&quot;</span>,</span><br><span class="line">    <span class="string">&quot;json&quot;</span>: <span class="string">&quot;application/json&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pdf&quot;</span>: <span class="string">&quot;application/pdf&quot;</span>,</span><br><span class="line">    <span class="string">&quot;png&quot;</span>: <span class="string">&quot;image/png&quot;</span>,</span><br><span class="line">    <span class="string">&quot;svg&quot;</span>: <span class="string">&quot;image/svg+xml&quot;</span>,</span><br><span class="line">    <span class="string">&quot;swf&quot;</span>: <span class="string">&quot;application/x-shockwave-flash&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tiff&quot;</span>: <span class="string">&quot;image/tiff&quot;</span>,</span><br><span class="line">    <span class="string">&quot;txt&quot;</span>: <span class="string">&quot;text/plain&quot;</span>,</span><br><span class="line">    <span class="string">&quot;wav&quot;</span>: <span class="string">&quot;audio/x-wav&quot;</span>,</span><br><span class="line">    <span class="string">&quot;wma&quot;</span>: <span class="string">&quot;audio/x-ms-wma&quot;</span>,</span><br><span class="line">    <span class="string">&quot;wmv&quot;</span>: <span class="string">&quot;video/x-ms-wmv&quot;</span>,</span><br><span class="line">    <span class="string">&quot;xml&quot;</span>: <span class="string">&quot;text/xml&quot;</span>,</span><br><span class="line">    <span class="string">&quot;woff&quot;</span>: <span class="string">&quot;application/x-woff&quot;</span>,</span><br><span class="line">    <span class="string">&quot;woff2&quot;</span>: <span class="string">&quot;application/x-woff2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tff&quot;</span>: <span class="string">&quot;application/x-font-truetype&quot;</span>,</span><br><span class="line">    <span class="string">&quot;otf&quot;</span>: <span class="string">&quot;application/x-font-opentype&quot;</span>,</span><br><span class="line">    <span class="string">&quot;eot&quot;</span>: <span class="string">&quot;application/vnd.ms-fontobject&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>node.js</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS 网格布局(Grid Layout)</title>
    <url>/2018/10/17/grid/</url>
    <content><![CDATA[<p>CSS 网格布局(Grid Layout) 是CSS中最强大的布局系统。 这是一个二维系统，这意味着它可以同时处理列和行，不像 flexbox 那样主要是一维系统。 你可以通过将CSS规则应用于父元素（成为网格容器）和该元素的子元素（网格元素），来使用网格布局。</p>
<span id="more"></span>
<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>CSS网格布局（又名“网格”）是一个二维的基于网格的布局系统，其目的只在于完全改变我们设计基于网格的用户界面的方式。 CSS一直用来布局网页，但一直都不完美。 一开始我们使用table 做布局，然后转向浮动、定位以及inline-block，但所有这些方法本质上都是 Hack 的方式，并且遗漏了很多重要的功能（例如垂直居中）。 Flexbox的出现在一定程度上解决了这个问题，但是它的目的是为了更简单的一维布局，而不是复杂的二维布局（Flexbox和Grid实际上一起工作得很好）。 只要我们一直在制作网站，我们就一直在为解决布局问题不断探索，<br>而Grid是第一个专门为解决布局问题而生的CSS模块。</p>
<p>有两个东西，启发我写这篇指南。 第一个是雷切尔·安德鲁（Rachel Andrew）的书为CSS Grid布局准备。 这本书对网格布局做了彻底、清晰的介绍，也是是整篇文章的基础，我强烈建议你购买并阅读他的书。 我的另一个重要灵感是Chris Coyier的Flexbox完全指南，当需要查阅 flexbox 的一切资料时我就会找这篇文章。 这篇文章帮助了很多人学习 Flex 布局，也是 Google 上搜索“flexbox”关键字排名第一的文章。你会发现他的文章和我的很多相似之处，有最好的范例在那放着为什么咱不偷师学着写呢？</p>
<p>本指南的目的是介绍网格概念，因为它们存在于最新版本的规范中。 因此我不会覆盖过时的IE语法，而且随着规范的成熟，我会尽最大努力保存更新本指南。</p>
<h1 id="基础知识以及浏览器支持情况"><a href="#基础知识以及浏览器支持情况" class="headerlink" title="基础知识以及浏览器支持情况"></a>基础知识以及浏览器支持情况</h1><p>一开始你需要使用display：grid把容器元素定义为一个网格，使用grid-template-columns和grid-template-rows设置列和行大小，然后使用grid-column 和 grid-row把它的子元素放入网格。 与flexbox类似，网格子元素的原始顺序不重要。 你的可以在 CSS 里以任意顺序放置它们，这使得使用媒体查询重新排列网格变得非常容易。 想象一下，我们需要定义整个页面的布局，然后为了适应不同的屏幕宽度完全重新排列，我们只需要几行CSS就能实现这个需求。 网格是有史以来最强大的CSS模块之一。</p>
<p>截至2017年3月，许多浏览器都提供了原生的、不加前缀的对CSS Grid的支持，比如 Chrome（包括Android），Firefox，Safari（包括iOS）和Opera。 另一方面，Internet Explorer 10和11支持它，但需要使用过时的语法。 Edge浏览器已经宣布将支持标准的Grid语法，但暂未支持。</p>
<p>浏览器支持的详细数据可在<a href="http://caniuse.com/#feat=css-grid">Caniuse</a>查看。其中里面的数字表示该版本以上的浏览器支持Grid。</p>
<h2 id="桌面浏览器"><a href="#桌面浏览器" class="headerlink" title="桌面浏览器"></a>桌面浏览器</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Chrome	    Opera	    Firefox	    IE	    Edge	Safari</span><br><span class="line">57	        44	        52	        11*	    16	    10.1</span><br></pre></td></tr></table></figure>
<h2 id="移动端-平板"><a href="#移动端-平板" class="headerlink" title="移动端 / 平板"></a>移动端 / 平板</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">iOS Safari	    Opera Mobile	Opera Mini	Android	    Android Chrome	    Android Firefox</span><br><span class="line">10.3	        No	            No	        62	        62	                57</span><br></pre></td></tr></table></figure>
<p>除了微软之外，浏览器制造商在 Grid 规范完全落地以前似乎并没有放手让 Gird 野生也长的打算。 这是一件好事，这意味着我们不需要再去学习各种浏览器兼容版本的旧语法。</p>
<p>在生产环境中使用Grid只是时间问题，但现在是我们该学习的时候了。</p>
<h1 id="重要术语"><a href="#重要术语" class="headerlink" title="重要术语"></a>重要术语</h1><p>在深入了解网格的概念之前，理解术语是很重要的。 由于这里所涉及的术语在概念上都是相似的，如果不先记住它们在网格规范中定义的含义，则很容易将它们彼此混淆。 但是不用太担心，这些术语并不多。</p>
<h2 id="Grid-Container"><a href="#Grid-Container" class="headerlink" title="Grid Container"></a>Grid Container</h2><p>设置了 display: gird 的元素。 这是所有 grid item 的直接父项。 在下面的例子中，.container 就是是 grid container。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item item-1&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item item-2&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item item-3&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="Grid-Item"><a href="#Grid-Item" class="headerlink" title="Grid Item"></a>Grid Item</h2><p>Grid 容器的孩子（直接子元素）。下面的 .item 元素就是 grid item，但 .sub-item不是。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item&quot;</span>&gt;&lt;/div&gt; </span><br><span class="line">  &lt;div class=<span class="string">&quot;item&quot;</span>&gt;</span><br><span class="line">    &lt;p class=<span class="string">&quot;sub-item&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="Grid-Line"><a href="#Grid-Line" class="headerlink" title="Grid Line"></a>Grid Line</h2><p>这个分界线组成网格结构。 它们既可以是垂直的（“column grid lines”），也可以是水平的（“row grid lines”），并位于行或列的任一侧。 下面例中的黄线就是一个列网格线。<br><img src="/images/2018-10-17/grid1.jpg" alt=""></p>
<h2 id="Grid-Track"><a href="#Grid-Track" class="headerlink" title="Grid Track"></a>Grid Track</h2><p>两个相邻网格线之间的空间。 你可以把它们想象成网格的列或行。 下面是第二行和第三行网格线之间的网格轨道。<br><img src="/images/2018-10-17/grid2.jpg" alt=""></p>
<h2 id="Grid-Cell"><a href="#Grid-Cell" class="headerlink" title="Grid Cell"></a>Grid Cell</h2><p>两个相邻的行和两个相邻的列网格线之间的空间。它是网格的一个“单元”。 下面是行网格线1和2之间以及列网格线2和3的网格单元。<br><img src="/images/2018-10-17/grid3.jpg" alt=""></p>
<h2 id="Grid-Area"><a href="#Grid-Area" class="headerlink" title="Grid Area"></a>Grid Area</h2><p>四个网格线包围的总空间。 网格区域可以由任意数量的网格单元组成。 下面是行网格线1和3以及列网格线1和3之间的网格区域。<br><img src="/images/2018-10-17/grid4.jpg" alt=""></p>
<h1 id="Grid-属性列表"><a href="#Grid-属性列表" class="headerlink" title="Grid 属性列表"></a>Grid 属性列表</h1><h2 id="Grid-Container-的全部属性"><a href="#Grid-Container-的全部属性" class="headerlink" title="Grid Container 的全部属性"></a>Grid Container 的全部属性</h2><ul>
<li>display</li>
<li>grid-template-columns</li>
<li>grid-template-rows</li>
<li>grid-template-areas</li>
<li>grid-template</li>
<li>grid-column-gap</li>
<li>grid-row-gap</li>
<li>grid-gap</li>
<li>justify-items</li>
<li>align-items</li>
<li>justify-content</li>
<li>align-content</li>
<li>grid-auto-columns</li>
<li>grid-auto-rows</li>
<li>grid-auto-flow</li>
<li>grid</li>
</ul>
<h2 id="Grid-Items-的全部属性"><a href="#Grid-Items-的全部属性" class="headerlink" title="Grid Items 的全部属性"></a>Grid Items 的全部属性</h2><ul>
<li>grid-column-start</li>
<li>grid-column-end</li>
<li>grid-row-start</li>
<li>grid-row-end</li>
<li>grid-column</li>
<li>grid-row</li>
<li>grid-area</li>
<li>justify-self</li>
<li>align-self</li>
</ul>
<h1 id="父容器-Grid-Container-的属性"><a href="#父容器-Grid-Container-的属性" class="headerlink" title="父容器(Grid Container)的属性"></a>父容器(Grid Container)的属性</h1><h2 id="display"><a href="#display" class="headerlink" title="display"></a>display</h2><p>将元素定义为 grid contaienr，并为其内容建立新的网格格式化上下文(grid formatting context)。</p>
<p>值:<br>grid – 生成一个块级(block-level)网格(主要的还是使用这个属性,想要使用grid,就要先设置这个值)<br>inline-grid – 生成一个行级(inline-level)网格<br>subgrid – 如果你的 grid container 本身就是一个 grid item（即,嵌套网格），你可以使用这个属性来表示你想从它的父节点获取它的行/列的大小，而不是指定它自己的大小。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  display: grid | inline-grid | subgrid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>注意：column, float, clear, 以及 vertical-align 对一个 grid container 没有影响</p>
<h2 id="grid-template-columns-grid-template-rows"><a href="#grid-template-columns-grid-template-rows" class="headerlink" title="grid-template-columns / grid-template-rows"></a>grid-template-columns / grid-template-rows</h2><p>使用以空格分隔的多个值来定义网格的列和行。这些值表示轨道大小(track size)，它们之间的空格代表表格线(grid line)。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: &lt;track-size&gt; ... | &lt;line-name&gt; &lt;track-size&gt; ...;</span><br><span class="line">  grid-template-rows: &lt;track-size&gt; ... | &lt;line-name&gt; &lt;track-size&gt; ...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>例子:<br>(如果未显示的给网格线命名)，轨道值之间仅仅有空格时，网格线会被自动分配数字名称：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: 40px 50px auto 50px 40px;</span><br><span class="line">  grid-template-rows: 25% 100px auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid5.jpg" alt=""><br>但你可以给网格线指定确切的命名。 注意中括号里的网格线命名语法：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: [first] 40px [line2] 50px [line3] auto [col4-start] 50px [five] 40px [end];</span><br><span class="line">  grid-template-rows: [row1-start] 25% [row1-end] 100px [third-line] auto [last-line];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid6.jpg" alt=""><br>需要注意的是，一个网格线可以有不止一个名字。例如，这里第2条网格线有两个名字：row1-end 和 row2-start：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-rows: [row1-start] 25% [row1-end row2-start] 25% [row2-end];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>如果你的定义中包含重复的部分，则可以使用repeat() 符号来简化写法：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: repeat(3, 20px [col-start]) 5%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>上面的写法和下面等价：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: 20px [col-start] 20px [col-start] 20px [col-start] 5%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>“fr”单位允许您将轨道大小设置为网格容器自由空间的一部分。 例如，下面的代码会将每个 grid item 为 grid container 宽度的三分之一：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: 1fr 1fr 1fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>自由空间是在排除所有不可伸缩的 grid item 之后计算得到的。 在下面的示例中，fr单位可用的自由空间总量不包括50px:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: 1fr 50px 1fr 1fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="grid-template-areas"><a href="#grid-template-areas" class="headerlink" title="grid-template-areas"></a>grid-template-areas</h2><p>通过引用 grid-area属性指定的网格区域的名称来定义网格模板。 重复网格区域的名称导致内容扩展到这些单元格。 点号表示一个空单元格。 语法本身提供了网格结构的可视化。</p>
<p>值：</p>
<p><grid-area-name> – 使用 grid-area 属性设置的网格区域的名称<br>. – 点号代表一个空网格单元<br>none – 没有定义网格区域<br>举例：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  grid-area: header;</span><br><span class="line">&#125;</span><br><span class="line">.item-b &#123;</span><br><span class="line">  grid-area: main;</span><br><span class="line">&#125;</span><br><span class="line">.item-c &#123;</span><br><span class="line">  grid-area: sidebar;</span><br><span class="line">&#125;</span><br><span class="line">.item-d &#123;</span><br><span class="line">  grid-area: footer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: 50px 50px 50px 50px;</span><br><span class="line">  grid-template-rows: auto;</span><br><span class="line">  grid-template-areas: </span><br><span class="line">    <span class="string">&quot;header header header header&quot;</span></span><br><span class="line">    <span class="string">&quot;main main . sidebar&quot;</span></span><br><span class="line">    <span class="string">&quot;footer footer footer footer&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这将创建一个四列宽三行高的网格。 整个第一行将由 header 区域组成。 中间一行将由两个 main 区域、一个空单元格和一个 sidebar 区域组成。 最后一行是footer区域组成。<br><img src="/images/2018-10-17/grid7.jpg" alt=""><br>你的声明中的每一行都需要有相同数量的单元格。</p>
<p>您可以使用任意数量的相邻的.来声明单个空单元格。 只要这些点号之间没有空格，他们就代表了一个单一的单元格。</p>
<p>需要注意的是你不是在用这个语法命名网格线，而是在命名区域。 当你使用这种语法时，区域两端的网格线实际上是自动命名的。 比如，如果网格区域的名称是foo，那么区域的起始的行网格线和列网格线名称是 foo-start，并且区域终点的行网格线和列网格线名称是 foo-end。 这意味着某些网格线可能有多个名称，比如上面的例子中最左边的一条网格线有三个名字：header-start，main-start 和 footer-start。</p>
<h2 id="grid-template"><a href="#grid-template" class="headerlink" title="grid-template"></a>grid-template</h2><p>在单个声明中定义 grid-template-rows、grid-template-columns、grid-template-areas 的简写。</p>
<p>值：</p>
<p>none – 将三个属性都设置为其初始值<br>subgrid – 把 grid-template-rows 和 grid-template-columns 设置为 subgrid, 并且 grid-template-areas 设置为初始值<br>grid-template-rows / &lt;grid-template-columns – 把 grid-template-columns 和 grid-template-rows 设置为指定值, 与此同时, 设置 grid-template-areas 为 none</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template: none | subgrid | &lt;grid-template-rows&gt; / &lt;grid-template-columns&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它也可以使用一个更复杂但相当方便的语法来指定这三个值。 一个例子：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template:</span><br><span class="line">    [row1-start] <span class="string">&quot;header header header&quot;</span> 25px [row1-end]</span><br><span class="line">    [row2-start] <span class="string">&quot;footer footer footer&quot;</span> 25px [row2-end]</span><br><span class="line">    / auto 50px auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>以上等价于：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-rows: [row1-start] 25px [row1-end row2-start] 25px [row2-end];</span><br><span class="line">  grid-template-columns: auto 50px auto;</span><br><span class="line">  grid-template-areas: </span><br><span class="line">    <span class="string">&quot;header header header&quot;</span> </span><br><span class="line">    <span class="string">&quot;footer footer footer&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>由于 grid-template 不会重置隐式网格属性（grid-auto-columns，grid-auto-rows和grid-auto-flow），而这可能是大多数情况下你想要做的。因此建议使用grid属性来代替grid-template。</p>
<h2 id="grid-column-gap-grid-row-gap"><a href="#grid-column-gap-grid-row-gap" class="headerlink" title="grid-column-gap / grid-row-gap"></a>grid-column-gap / grid-row-gap</h2><p>指定网格线的大小，你可以把它想象为设置列/行之间的间距的宽度。</p>
<p>值：</p>
<p>line-size – 一个长度值<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-column-gap: &lt;line-size&gt;;</span><br><span class="line">  grid-row-gap: &lt;line-size&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: 100px 50px 100px;</span><br><span class="line">  grid-template-rows: 80px auto 80px; </span><br><span class="line">  grid-column-gap: 10px;</span><br><span class="line">  grid-row-gap: 15px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid8.jpg" alt=""><br>只能在列/行之间创建缝隙，而不是在外部边缘创建。</p>
<h2 id="grid-gap"><a href="#grid-gap" class="headerlink" title="grid-gap"></a>grid-gap</h2><p>grid-row-gap 和 grid-column-gap 的缩写<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-gap: &lt;grid-row-gap&gt; &lt;grid-column-gap&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>Example:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: 100px 50px 100px;</span><br><span class="line">  grid-template-rows: 80px auto 80px; </span><br><span class="line">  grid-gap: 10px 15px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>如果没有指定 grid-row-gap，则会被设置为与 grid-column-gap 相同的值。</p>
<h2 id="justify-items"><a href="#justify-items" class="headerlink" title="justify-items"></a>justify-items</h2><p>沿着行轴对齐网格内的内容（与之对应的是 align-items, 即沿着列轴对齐），该值适用于容器内的所有的 grid items。</p>
<p>值：</p>
<p>start: 内容与网格区域的左端对齐<br>end: 内容与网格区域的右端对齐<br>center: 内容位于网格区域的中间位置<br>stretch: 内容宽度占据整个网格区域空间(这是默认值)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-items: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-items: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid9.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container&#123;</span><br><span class="line">  justify-items: end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid10.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-items: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid11.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-items: stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid12.jpg" alt=""><br>也可以通过给单个 grid item 设置justify-self属性来达到上述效果。</p>
<h2 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h2><p>沿着列轴对齐grid item 里的内容（与之对应的是使用 justify-items 设置沿着行轴对齐），该值适用于容器内的所有 grid items。</p>
<p>值：</p>
<p>start: 内容与网格区域的顶端对齐<br>end: 内容与网格区域的底部对齐<br>center: 内容位于网格区域的垂直中心位置<br>stretch: 内容高度占据整个网格区域空间(这是默认值)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-items: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-items: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid13.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-items: end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid14.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-items: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid15.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-items: stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid16.jpg" alt=""><br>也可以通过给单个 grid item 设置align-self属性来达到上述效果。</p>
<h2 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h2><p>有时，网格的总大小可能小于其网格容器的大小。如果你的所有 grid items 都使用像px这样的非弹性单位来设置大小，则可能发生这种情况。此时，你可以设置网格容器内的网格的对齐方式。 此属性沿着行轴对齐网格（与之对应的是 align-content, 沿着列轴对齐）。</p>
<p>值：</p>
<p>start – 网格与网格容器的左边对齐<br>end – 网格与网格容器的右边对齐<br>center – 网格与网格容器的中间对齐<br>stretch – 调整g rid item 的大小，让宽度填充整个网格容器<br>space-around – 在 grid item 之间设置均等宽度的空白间隙，其外边缘间隙大小为中间空白间隙宽度的一半<br>space-between – 在 grid item 之间设置均等宽度空白间隙，其外边缘无间隙<br>space-evenly – 在每个 grid item 之间设置均等宽度的空白间隙，包括外边缘<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-content: start | end | center | stretch | space-around | space-between | space-evenly;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-content: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid17.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-content: end; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid18.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-content: center;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid19.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-content: stretch; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid20.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-content: space-around;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid21.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-content: space-between; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid22.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  justify-content: space-evenly;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid23.jpg" alt=""></p>
<h2 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h2><p>有时，网格的总大小可能小于其网格容器的大小。如果你的所有 grid items 都使用像px这样的非弹性单位来设置大小，则可能发生这种情况。此时，你可以设置网格容器内的网格的对齐方式。 此属性沿着列轴对齐网格（与之对应的是 justify-content, 即沿着行轴对齐）。</p>
<p>值：</p>
<p>start – 网格与网格容器的顶部对齐<br>end – 网格与网格容器的底部对齐<br>center – 网格与网格容器的中间对齐<br>stretch – 调整 grid item 的大小，让高度填充整个网格容器<br>space-around – 在 grid item 之间设置均等宽度的空白间隙，其外边缘间隙大小为中间空白间隙宽度的一半<br>space-between – 在 grid item 之间设置均等宽度空白间隙，其外边缘无间隙<br>space-evenly – 在每个 grid item 之间设置均等宽度的空白间隙，包括外边缘<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-content: start | end | center | stretch | space-around | space-between | space-evenly;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-content: start; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid24.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-content: end; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid25.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-content: center;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid26.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-content: stretch; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid27.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-content: space-around;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid28.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-content: space-between; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid29.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  align-content: space-evenly;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid30.jpg" alt=""></p>
<h2 id="grid-auto-columns-grid-auto-rows"><a href="#grid-auto-columns-grid-auto-rows" class="headerlink" title="grid-auto-columns / grid-auto-rows"></a>grid-auto-columns / grid-auto-rows</h2><p>指定自动生成的网格轨道（又名隐式网格轨道）的大小。 隐式网格轨道在你显式的定位超出指定网格范围的行或列（使用 grid-template-rows/grid-template-columns）时被创建。</p>
<p>值：</p>
<p><track-size> – 可以是一个长度值，一个百分比值，或者一个自由空间的一部分（使用 fr 单位）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-auto-columns: &lt;track-size&gt; ...;</span><br><span class="line">  grid-auto-rows: &lt;track-size&gt; ...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为了说明如何创建隐式网格轨道，思考如下代码：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-columns: 60px 60px;</span><br><span class="line">  grid-template-rows: 90px 90px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid31.jpg" alt=""></p>
<p>这里创建了一个 2×2的网格。</p>
<p>但是，现在想象一下，使用 grid-column 和 grid-row 来定位你的网格项目，如下所示：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  grid-column: 1 / 2;</span><br><span class="line">  grid-row: 2 / 3;</span><br><span class="line">&#125;</span><br><span class="line">.item-b &#123;</span><br><span class="line">  grid-column: 5 / 6;</span><br><span class="line">  grid-row: 2 / 3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid32.jpg" alt=""></p>
<p>这里我们指定 .item-b开始于列网格线 5 并结束于在列网格线 6，但我们并未定义列网格线 5 或 6。因为我们引用不存在的网格线，宽度为0的隐式轨道的就会被创建用与填补间隙。我们可以使用 grid-auto-columns 和 grid-auto-rows属性来指定这些隐式轨道的宽度：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-auto-columns: 60px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid33.jpg" alt=""></p>
<h2 id="grid-auto-flow"><a href="#grid-auto-flow" class="headerlink" title="grid-auto-flow"></a>grid-auto-flow</h2><p>如果你存在没有显示指明放置在网格上的 grid item，则自动放置算法会自动放置这些项目。 而该属性则用于控制自动布局算法的工作方式。</p>
<p>值：</p>
<p>row – 告诉自动布局算法依次填充每行，根据需要添加新行<br>column – 告诉自动布局算法依次填充每列，根据需要添加新列<br>dense – 告诉自动布局算法，如果后面出现较小的 grid item，则尝试在网格中填充空洞<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-auto-flow: row | column | row dense | column dense</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>需要注意的是，dense 可能导致您的 grid item 乱序。</p>
<p>举例， 考虑如下 HTML：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;section class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item-a&quot;</span>&gt;item-a&lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item-b&quot;</span>&gt;item-b&lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item-c&quot;</span>&gt;item-c&lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item-d&quot;</span>&gt;item-d&lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;item-e&quot;</span>&gt;item-e&lt;/div&gt;</span><br><span class="line">&lt;/section&gt;</span><br></pre></td></tr></table></figure><br>你定义一个有5列和2行的网格，并将 grid-auto-flow 设置为 row（这也是默认值）：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: 60px 60px 60px 60px 60px;</span><br><span class="line">  grid-template-rows: 30px 30px;</span><br><span class="line">  grid-auto-flow: row;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>当把 grid item 放在网格上时，你只把其中两个设置了固定的位置：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  grid-column: 1;</span><br><span class="line">  grid-row: 1 / 3;</span><br><span class="line">&#125;</span><br><span class="line">.item-e &#123;</span><br><span class="line">  grid-column: 5;</span><br><span class="line">  grid-row: 1 / 3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>因为我们将 grid-auto-flow 设置为row，所以我们的grid就像这样。 注意观察我们没有做设置的三个项目（item-b，item-c和item-d）是如何在剩余的行水平摆放位置的：</p>
<p><img src="/images/2018-10-17/grid34.jpg" alt=""></p>
<p>如果我们将 grid-auto-flow 设置为 column，则 item-b，item-c 和 item-d 以列的顺序上下摆放：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: 60px 60px 60px 60px 60px;</span><br><span class="line">  grid-template-rows: 30px 30px;</span><br><span class="line">  grid-auto-flow: column;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid35.jpg" alt=""></p>
<h2 id="grid"><a href="#grid" class="headerlink" title="grid"></a>grid</h2><p>在单个属性中设置所有以下属性的简写：grid-template-rows，grid-template-columns，grid-template-areas，grid-auto-rows，grid-auto-columns和grid-auto-flow。 它同时也将 sets grid-column-gap 和 grid-row-gap 设置为它们的初始值，即使它们不能被此属性显示设置。</p>
<p>值：</p>
<p>none – 将所有子属性设置为其初始值<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;grid-template-rows&gt; / &lt;grid-template-columns&gt; – 将 grid-template-rows 和 grid-template-columns 分别设置为指定值，将所有其他子属性设置为其初始值</span><br><span class="line">&lt;grid-auto-flow&gt; [&lt;grid-auto-rows&gt; [ / &lt;grid-auto-columns&gt;] ] – 接受所有与grid-auto-flow，grid-auto-rows和grid-auto-columns相同的值。 如果省略grid-auto-columns，则将其设置为为grid-auto-rows指定的值。 </span><br></pre></td></tr></table></figure><br>如果两者都被省略，则它们被设置为它们的初始值<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">    grid: none | &lt;grid-template-rows&gt; / &lt;grid-template-columns&gt; | &lt;grid-auto-flow&gt; [&lt;grid-auto-rows&gt; [/ &lt;grid-auto-columns&gt;]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例：</p>
<p>以下代码写法等价<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid: 200px auto / 1fr auto 1fr;</span><br><span class="line">&#125;</span><br><span class="line">.container &#123;</span><br><span class="line">  grid-template-rows: 200px auto;</span><br><span class="line">  grid-template-columns: 1fr auto 1fr;</span><br><span class="line">  grid-template-areas: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>以下代码写法等价<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid: column 1fr / auto;</span><br><span class="line">&#125;</span><br><span class="line">.container &#123;</span><br><span class="line">  grid-auto-flow: column;</span><br><span class="line">  grid-auto-rows: 1fr;</span><br><span class="line">  grid-auto-columns: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>它也可用使用一个更复杂但相当方便的语法来一次设置所有内容。 你可以指定 grid-template-areas、grid-template-rows 以及 grid-template-columns，并将所有其他子属性设置为其初始值。 你现在所做的是在其网格区域内，指定网格线名称和内联轨道大小。 可以看下面的例子：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid: [row1-start] <span class="string">&quot;header header header&quot;</span> 1fr [row1-end]</span><br><span class="line">        [row2-start] <span class="string">&quot;footer footer footer&quot;</span> 25px [row2-end]</span><br><span class="line">        / auto 50px auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>上述代码等价于<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  grid-template-areas: </span><br><span class="line">    <span class="string">&quot;header header header&quot;</span></span><br><span class="line">    <span class="string">&quot;footer footer footer&quot;</span>;</span><br><span class="line">  grid-template-rows: [row1-start] 1fr [row1-end row2-start] 25px [row2-end];</span><br><span class="line">  grid-template-columns: auto 50px auto;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="孩子-Grid-Items-的属性"><a href="#孩子-Grid-Items-的属性" class="headerlink" title="孩子(Grid Items)的属性"></a>孩子(Grid Items)的属性</h1><h2 id="grid-column-start-grid-column-end-grid-row-start-grid-row-end"><a href="#grid-column-start-grid-column-end-grid-row-start-grid-row-end" class="headerlink" title="grid-column-start / grid-column-end / grid-row-start /grid-row-end"></a>grid-column-start / grid-column-end / grid-row-start /grid-row-end</h2><p>使用特定的网格线确定 grid item 在网格内的位置。grid-column-start/grid-row-start 属性表示grid item的网格线的起始位置，grid-column-end/grid-row-end属性表示网格项的网格线的终止位置。</p>
<p>值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;line&gt;: 可以是一个数字来指代相应编号的网格线，也可使用名称指代相应命名的网格线</span><br><span class="line">span &lt;number&gt;: 网格项将跨越指定数量的网格轨道</span><br><span class="line">span &lt;name&gt;: 网格项将跨越一些轨道，直到碰到指定命名的网格线</span><br><span class="line">auto: 自动布局， 或者自动跨越， 或者跨越一个默认的轨道</span><br></pre></td></tr></table></figure><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  grid-column-start: &lt;number&gt; | &lt;name&gt; | span &lt;number&gt; | span &lt;name&gt; | auto</span><br><span class="line">  grid-column-end: &lt;number&gt; | &lt;name&gt; | span &lt;number&gt; | span &lt;name&gt; | auto</span><br><span class="line">  grid-row-start: &lt;number&gt; | &lt;name&gt; | span &lt;number&gt; | span &lt;name&gt; | auto</span><br><span class="line">  grid-row-end: &lt;number&gt; | &lt;name&gt; | span &lt;number&gt; | span &lt;name&gt; | auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  grid-column-start: 2;</span><br><span class="line">  grid-column-end: five;</span><br><span class="line">  grid-row-start: row1-start</span><br><span class="line">  grid-row-end: 3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid36.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-b &#123;</span><br><span class="line">  grid-column-start: 1;</span><br><span class="line">  grid-column-end: span col4-start;</span><br><span class="line">  grid-row-start: 2</span><br><span class="line">  grid-row-end: span 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid37.jpg" alt=""></p>
<p>如果没有声明 grid-column-end / grid-row-end，默认情况下，该网格项将跨越1个轨道。</p>
<p>网格项可以相互重叠。 您可以使用z-index来控制它们的堆叠顺序。</p>
<h2 id="grid-column-grid-row"><a href="#grid-column-grid-row" class="headerlink" title="grid-column / grid-row"></a>grid-column / grid-row</h2><p>grid-column-start + grid-column-end, 和 grid-row-start + grid-row-end 的简写形式。</p>
<p>值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;start-line&gt; / &lt;end-line&gt; – 每个值的用法都和属性分开写时的用法一样</span><br><span class="line">.item &#123;</span><br><span class="line">  grid-column: &lt;start-line&gt; / &lt;end-line&gt; | &lt;start-line&gt; / span &lt;value&gt;;</span><br><span class="line">  grid-row: &lt;start-line&gt; / &lt;end-line&gt; | &lt;start-line&gt; / span &lt;value&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-c &#123;</span><br><span class="line">  grid-column: 3 / span 2;</span><br><span class="line">  grid-row: third-line / 4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid38.jpg" alt=""></p>
<p>如果没有指定结束行值，则该网格项默认跨越1个轨道。</p>
<p>grid-area<br>给 grid item 进行命名以便于使用 grid-template-areas 属性创建模板时来进行引用。另外也可以做为 grid-row-start + grid-column-start + grid-row-end + grid-column-end 的简写形式。</p>
<p>值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;name&gt; – 你的命名</span><br><span class="line">&lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt; – 可以是数字，也可以是网格线的名字</span><br></pre></td></tr></table></figure><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  grid-area: &lt;name&gt; | &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例:</p>
<p>给一个网格项命名<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-d &#123;</span><br><span class="line">  grid-area: header</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>作为 grid-row-start + grid-column-start + grid-row-end + grid-column-end 的简写:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-d &#123;</span><br><span class="line">  grid-area: 1 / col4-start / last-line / 6</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid39.jpg" alt=""></p>
<h2 id="justify-self"><a href="#justify-self" class="headerlink" title="justify-self"></a>justify-self</h2><p>沿着行轴对齐grid item 里的内容（与之对应的是 align-self, 即沿列轴对齐）。 此属性对单个网格项内的内容生效。</p>
<p>值：</p>
<p>start – 将内容对齐到网格区域的左端<br>end – 将内容对齐到网格区域的右端<br>center – 将内容对齐到网格区域的中间<br>stretch – 填充网格区域的宽度 (这是默认值)<br>举例：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  justify-self: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid40.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  justify-self: end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid41.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  justify-self: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid42.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  justify-self: stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid43.jpg" alt=""></p>
<p>要为网格中的所有grid items 设置对齐方式，也可以通过 justify-items 属性在网格容器上设置此行为。</p>
<p>align-self<br>沿着列轴对齐grid item 里的内容（与之对应的是 justify-self, 即沿行轴对齐）。 此属性对单个网格项内的内容生效。</p>
<p>值：</p>
<p>start – 将内容对齐到网格区域的顶部<br>end – 将内容对齐到网格区域的底部<br>center – 将内容对齐到网格区域的中间<br>stretch – 填充网格区域的高度 (这是默认值)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  align-self: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>举例:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  align-self: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid44.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  align-self: end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid45.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  align-self: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid46.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.item-a &#123;</span><br><span class="line">  align-self: stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid47.jpg" alt=""></p>
<p>要为网格中的所有grid items 统一设置对齐方式，也可以通过 align-items 属性在网格容器上设置此行为。</p>
<h1 id="终于COPY完了，以上部分来自饥人谷"><a href="#终于COPY完了，以上部分来自饥人谷" class="headerlink" title="终于COPY完了，以上部分来自饥人谷"></a>终于COPY完了，以上部分来自<a href="https://blog.jirengu.com/?p=990#comments">饥人谷</a></h1><h1 id="fr-单位-等分"><a href="#fr-单位-等分" class="headerlink" title="fr 单位(等分)"></a>fr 单位(等分)</h1><p>fr 是为网格布局定义的一个新单位。它可以帮助你摆脱计算百分比，并将可用空间等分。</p>
<p>例如，如果在网格容器中设置这个规则：grid-template-rows: 2fr 3fr，那么你的网格容器将首先被分成 2 行。然后将数字部分加在一起，这里总和为 5， 即 5 等分。</p>
<p>就是说，我们将有 2 行：第一排占据垂直空间的 2/5 。 第二排占垂直空间的 3/5 。</p>
<p>用fr来个有3行3列的布局怎么实现？<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-rows: 1fr 1fr 1fr;</span><br><span class="line">    grid-template-columns: 1fr 1fr 1fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>这里特别需要注意的是： fr 单位是等分可用空间，或者说剩余空间。看个例子<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">    grid-gap:2px;</span><br><span class="line">    display: grid;</span><br><span class="line">    width:300px;</span><br><span class="line">    height:200px;</span><br><span class="line">    grid-template-rows: 100px 1fr 1fr;</span><br><span class="line">    grid-template-columns: 1fr 50px 1fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-17/grid48.png" alt=""><br>你会看到 fr 单位是将 总的尺寸 减去 单元格明确尺寸后，在等分剩余空间。 grid-gap 是间隔。</p>
<h1 id="repeat-函数"><a href="#repeat-函数" class="headerlink" title="repeat() 函数"></a>repeat() 函数</h1><p>在某些情况下，我们可能有很多的列和行。在 grid-template 属性中指定每一个值可能会很乏味。幸运的是，有一个 repeat 函数，就像任何一个循环重复多少次输出某个给定值。它有两个参数。第一个是迭代次数，第二个是要重复的值。我们用 repeat 函数重写上面的例子。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-rows: repeat(3, 1fr);</span><br><span class="line">    grid-template-columns: repeat(3, 1fr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>等价于：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-rows: 1fr 1fr 1fr;</span><br><span class="line">    grid-template-columns: 1fr 1fr 1fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>参考学习网址</p>
<p><a href="http://www.css88.com/archives/8675">http://www.css88.com/archives/8675</a></p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>grid</tag>
      </tags>
  </entry>
  <entry>
    <title>flutter Android Studio配置错误</title>
    <url>/2018/11/30/flutter/</url>
    <content><![CDATA[<p>刚开始学些flutter，安装配置的时候遇到了点小问题，配置流程我就不发了，网上很多，我的学习地址是这个，可以参考。<a href="http://jspang.com/post/flutter1.html#toc-12d">技术胖的这篇教程</a>;<br>我只要是记录我在使用Android Studio运行flutter的时候出现的问题。</p>
<span id="more"></span>
<p>出现问题如下图</p>
<p><img src="/images/2018-11-30/1.png" alt=""></p>
<p>我是没搞懂这是什么问题，然后就请教了一下我们公司做Android的大神，他来我这一看，就找到了问题。</p>
<p><img src="/images/2018-11-30/2.png" alt=""><br><img src="/images/2018-11-30/3.png" alt=""></p>
<p>看着两个图，文件配置的版本号为27，虚拟机的版本号为28 两个版本号没有对上，然后我把27改成28，在debug一下就跑起来了。</p>
<p>闻道有先后，术业有专攻。</p>
<p>还是要多多学习。</p>
]]></content>
      <categories>
        <category>flutter</category>
      </categories>
      <tags>
        <tag>flutter</tag>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>var() and mask</title>
    <url>/2018/10/19/cssstudy/</url>
    <content><![CDATA[<p>空闲时间看到俩CSS，var()、mask 没遇到过，比较好奇，学习一下。</p>
<span id="more"></span>
<h1 id="CSS变量var-语法"><a href="#CSS变量var-语法" class="headerlink" title="CSS变量var()语法"></a>CSS变量var()语法</h1><p>上来先看看是怎么写的，我就是被这惊奇的写法吸引到了。</p>
<p><p data-height="265" data-theme-id="0" data-slug-hash="EdLmJj" data-default-tab="css,result" data-user="zywkuo" data-pen-title="var()" class="codepen">See the Pen <a href="https://codepen.io/zywkuo/pen/EdLmJj/">var()</a> by 周艳伟 (<a href="https://codepen.io/zywkuo">@zywkuo</a>) on <a href="https://codepen.io">CodePen</a>.</p></p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<p>var 哇 css怎么用到了var，什么鬼。</p>
<p>原来这是css原生的变量，CSS中原生的变量定义语法是：–<em>，变量使用语法是：var(–</em>)，其中*表示我们的变量名称。关于命名这个东西，各种语言都有些显示，例如CSS选择器不能是数字开头，JS中的变量是不能直接数值的，但是，在CSS变量中，这些限制通通没有</p>
<p>但是，不能包含$，[，^，(，%等字符，普通字符局限在只要是“数字[0-9]”“字母[a-zA-Z]”“下划线_”和“短横线-”这些组合，但是可以是中文，日文或者韩文。</p>
<p>看一下兼容性 <img src="/images/2018-10-19/1.png" alt=""></p>
<p>我们广大的猿友们，努努力吧IE干掉吧。</p>
<p>有想了解更多的，请来张鑫旭，张大大空间，看看他的这篇文章<a href="https://www.zhangxinxu.com/wordpress/2016/11/css-css3-variables-var/">https://www.zhangxinxu.com/wordpress/2016/11/css-css3-variables-var/</a></p>
<p> <code>声明一下，上面和下面一点关系都没有，只是同时看到了，就一起学习一下。</code></p>
<h1 id="mask"><a href="#mask" class="headerlink" title="mask"></a>mask</h1><p>遮罩mask的功能就是使用透明的图片或渐变遮罩元素的背景.<br>我用我的大白话理解一下，就是把图片的透明处变为不透明，不透明的地方变成透明。（如有错误，欢迎指正。）所以jpg的还是就算了吧，放了也是全透明，没什么效果，开始我放了jpg的，找了半天原因。</p>
<p>遮罩mask是一个复合属性</p>
<ul>
<li>mask-image</li>
<li>mask-mode</li>
<li>mask-repeat</li>
<li>mask-position</li>
<li>mask-clip</li>
<li>mask-origin</li>
<li>mask-size</li>
<li>mask-type</li>
<li>mask-composite</li>
</ul>
<h2 id="mask-image"><a href="#mask-image" class="headerlink" title="mask-image"></a>mask-image</h2><p>默认值为none，值为透明图片，或透明渐变<br>mask-image遮罩所支持的图片类型非常的广泛，可以是url()静态图片资源，格式包括JPG，PNG以及SVG等都是支持的；也可以是动态生成的图片，例如使用各种CSS3渐变绘制的图片。语法上支持CSS3各类渐变，以及url()功能符，image()功能符，甚至element()功能符。同时还支持多背景，因此理论上，使用mask-image我们可以遮罩出任意我们想要的图形，非常强大。</p>
<p>html<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;img src=<span class="string">&quot;1.jpg&quot;</span> alt=<span class="string">&quot;&quot;</span> class=<span class="string">&quot;mask&quot;</span>&gt;</span><br></pre></td></tr></table></figure><br>1.jpg图片是这个<br><img src="/images/2018-10-19/2.png" alt=""></p>
<p>放上这段css<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.mask &#123;</span><br><span class="line">    width: 600px;</span><br><span class="line">    -webkit-mask-image: url(3.svg);</span><br><span class="line">    mask-image: url(3.svg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>3.svg长这样<br><img src="/images/2018-10-19/3.png" alt=""></p>
<p>运行结果这样<br><img src="/images/2018-10-19/4.png" alt=""></p>
<h2 id="mask-repeat"><a href="#mask-repeat" class="headerlink" title="mask-repeat"></a>mask-repeat</h2><p>mask-repeat属性的默认值是repeat，行为类似于background-repeat属性。</p>
<p>属性<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-repeat: repeat-x;      //水平x平铺</span><br><span class="line">mask-repeat: repeat-y;      //垂直y平铺。</span><br><span class="line">mask-repeat: repeat;        //默认值，水平和垂直平铺。</span><br><span class="line">mask-repeat: no-repeat;     //不平铺</span><br><span class="line">mask-repeat: space;         //表示遮罩图片尽可能的平铺同时不发生任何剪裁。</span><br><span class="line">mask-repeat: round;         //表示遮罩图片尽可能靠在一起没有任何间隙，同时不发生任何剪裁。</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-19/5.png" alt=""></p>
<h2 id="mask-position"><a href="#mask-position" class="headerlink" title="mask-position"></a>mask-position</h2><p>mask-position和background-position支持的属性值和表现基本上都是一模一样的。<br>例如,mask-position默认计算值是0% 0%，也就是相对左上角定位。</p>
<p>支持单个关键字（缺省关键字的解析为center）：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-position: top;</span><br><span class="line">mask-position: bottom;</span><br><span class="line">mask-position: left;</span><br><span class="line">mask-position: right;</span><br><span class="line">mask-position: center;</span><br></pre></td></tr></table></figure><br>支持垂直和水平方向两个关键字：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-position: right top;</span><br></pre></td></tr></table></figure><br>支持各类数值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-position: 30% 50%;&lt;</span><br><span class="line">mask-position: 10px 5rem;</span><br></pre></td></tr></table></figure><br>由于mask-image支持多遮罩图片，因此，mask-position也支持多属性值，例如：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-position: 0 0, center;</span><br></pre></td></tr></table></figure><br>这个我就不具体上图片了，想必大家都懂了。<br>想看的请跳到张大大这里看一下吧，<a href="https://www.zhangxinxu.com/study/201711/mask-position-png.html">https://www.zhangxinxu.com/study/201711/mask-position-png.html</a></p>
<h2 id="mask-clip"><a href="#mask-clip" class="headerlink" title="mask-clip"></a>mask-clip</h2><p>mask-clip属性性质上和background-clip类似，但是mask-clip支持的属性值要多一点，主要是多了个SVG元素的mask-clip支持。</p>
<p>属性值<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-clip: content-box;</span><br><span class="line">mask-clip: padding-box;</span><br><span class="line">mask-clip: border-box;</span><br><span class="line">mask-clip: fill-box;</span><br><span class="line">mask-clip: stroke-box;</span><br><span class="line">mask-clip: view-box;</span><br><span class="line">mask-clip: no-clip;</span><br></pre></td></tr></table></figure><br>其中默认值是border-box和background-clip类似。同样也支持多属性值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-clip: content-box, border-box;</span><br></pre></td></tr></table></figure><br>谷歌测试了一下，全员out！！！！！！晕<br>火狐也全员out，什么鬼，难道和笔记本有关（我的是mac）..这个还有待测试。</p>
<h2 id="mask-origin"><a href="#mask-origin" class="headerlink" title="mask-origin"></a>mask-origin</h2><p>属性值<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-origin: content-box;</span><br><span class="line">mask-origin: padding-box;</span><br><span class="line">mask-origin: border-box;</span><br><span class="line">mask-origin: fill-box;</span><br><span class="line">mask-origin: stroke-box;</span><br><span class="line">mask-origin: view-box;</span><br></pre></td></tr></table></figure></p>
<p>其中默认值是border-box和background-origin类似。同样也支持多属性值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-origin: content-box, border-box;</span><br></pre></td></tr></table></figure><br>测试结果依旧全员out!!!!!!</p>
<h2 id="mask-size"><a href="#mask-size" class="headerlink" title="mask-size"></a>mask-size</h2><p>mask-size属性性质上和background-size类似，支持的属性值也类似，作用是控制遮罩图片尺寸。</p>
<p>默认值是auto.</p>
<p>属性值<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-size: cover;</span><br><span class="line">mask-size: contain;</span><br></pre></td></tr></table></figure></p>
<p>支持各类数值（缺省高度会自动计算为auto）：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-size: 50%;</span><br><span class="line">mask-size: 3em;</span><br><span class="line">mask-size: 12px;</span><br><span class="line"></span><br><span class="line">mask-size: 50% auto;</span><br><span class="line">mask-size: 3em 25%;</span><br><span class="line">mask-size: auto 6px;</span><br></pre></td></tr></table></figure><br>同样支持多属性值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-size: 50%, 25%, 25%;</span><br><span class="line">mask-size: 6px, auto, contain;</span><br></pre></td></tr></table></figure><br><img src="/images/2018-10-19/6.png" alt=""></p>
<h2 id="mask-type"><a href="#mask-type" class="headerlink" title="mask-type"></a>mask-type</h2><p>mask-type属性功能上和mask-mode类似，都是设置不同的遮罩模式。但还是有个很大的区别，那就是mask-type只能作用在SVG元素上，本质上是由SVG属性演变而来，因此，Chrome等浏览器都是支持的。但是mask-mode是一个针对所有元素的CSS3属性，Chrome等浏览器并不支持，目前仅Firefox浏览器支持。</p>
<p>由于只能作用在SVG元素上，因此默认值表现为SVG元素默认遮罩模式，也就是默认值是luminance，亮度遮罩模式。如果需要支持透明度遮罩模式，可以这么设置：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-type: alpha;</span><br></pre></td></tr></table></figure></p>
<h2 id="mask-composite"><a href="#mask-composite" class="headerlink" title="mask-composite"></a>mask-composite</h2><p>mask-composite表示当同时使用多个图片进行遮罩时候的混合方式</p>
<p>属性值<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mask-composite: add;            //遮罩累加。</span><br><span class="line">mask-composite: subtract;       //遮罩相减。也就是遮罩图片重合的地方不显示。意味着遮罩图片越多，遮罩区域越小。</span><br><span class="line">mask-composite: intersect;      //遮罩相交。也就是遮罩图片重合的地方才显示遮罩。</span><br><span class="line">mask-composite: exclude;        //遮罩排除。也就是后面遮罩图片重合的地方排除，当作透明处理。</span><br></pre></td></tr></table></figure></p>
<p>这个属性浏览器支持也不是很好。。。</p>
<h2 id="mask-mode"><a href="#mask-mode" class="headerlink" title="mask-mode"></a>mask-mode</h2><p>默认值为match-source，意思是根据资源的类型自动采用合适的遮罩模式。</p>
<p>mask-mode支持下面3个属性值：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.mask &#123;</span><br><span class="line">    mask-mode: alpha;</span><br><span class="line">    mask-mode: luminance;</span><br><span class="line">    mask-mode: match-source;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>因为mask-image支持多图片，因此mask-mode也支持多属性值，例如：</p>
<p>mask-mode: alpha, match-source;</p>
<p>这个属性浏览器支持效果还不是很好。</p>
<p>看一下浏览器兼容性吧。</p>
<p><img src="/images/2018-10-19/7.png" alt=""></p>
<p>虽然支持还不是很好，但是好东西不怕晚，欢迎指正。</p>
<p>学习的是张鑫旭，张大大的这篇文章<a href="https://www.zhangxinxu.com/wordpress/2016/11/css-css3-variables-var/">https://www.zhangxinxu.com/wordpress/2016/11/css-css3-variables-var/</a></p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>var</tag>
        <tag>mask</tag>
      </tags>
  </entry>
  <entry>
    <title>单图片上传</title>
    <url>/2018/11/28/imgupload/</url>
    <content><![CDATA[<p>业务需求，移动端app需要一个单图片上传的功能，并且只允许照相，不允许从本地选取，本来想使用webUploader来做，配置好了，发现一个问题只能上传一次，在次上传，缩略图不替换（也有可能这个插件我没配置使用好，此处不做过多纠结），然后就参考写了一个。</p>
<span id="more"></span>
<p>代码如下（需要依赖jq）</p>
<p>html<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;imgUpload&quot;</span>&gt;</span><br><span class="line">    &lt;img src=<span class="string">&quot;upload.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;&lt;!--upload.png为初始显示背景图--&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>css<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#imgUpload &#123;</span></span><br><span class="line">    width: 88px;</span><br><span class="line">    height: 88px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#imgUpload img &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>js<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//图片上传</span><br><span class="line"><span class="keyword">function</span> ImgUpload(id, options) &#123;</span><br><span class="line">    this.me = $(id);</span><br><span class="line">    this.callback = options.callback;</span><br><span class="line">    this.init();</span><br><span class="line">&#125;</span><br><span class="line">ImgUpload.prototype = &#123;</span><br><span class="line">    init: <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        this.eventClickInit();</span><br><span class="line">    &#125;,</span><br><span class="line">    eventClickInit:<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        var self = this;</span><br><span class="line">        this.me.unbind().click(<span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">            self.createImageUploadDialog();</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    onChangeUploadFile: <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">        var fileInput = this.fileInput;</span><br><span class="line">        var files = fileInput.files;</span><br><span class="line">        <span class="keyword">if</span> (files.length == 0) &#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        var file = files[0];</span><br><span class="line">        <span class="keyword">if</span> (file.type.indexOf(<span class="string">&#x27;image&#x27;</span>) === -1) &#123;</span><br><span class="line">            alert(<span class="string">&quot;您上传的不是图片！&quot;</span>);</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        var img = window.URL.createObjectURL(file);</span><br><span class="line">        var filename = file.name;</span><br><span class="line">        var filesize = Math.floor((file.size) / 1024);</span><br><span class="line">        <span class="keyword">if</span> (filesize &gt; 1024 * 20) &#123;</span><br><span class="line">            alert(<span class="string">&quot;上传大小不能超过20M.&quot;</span>);</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        this.me.find(<span class="string">&quot;img&quot;</span>).attr(<span class="string">&quot;src&quot;</span>, img);</span><br><span class="line">        this.me.find(<span class="string">&quot;img&quot;</span>).attr(<span class="string">&quot;title&quot;</span>, filename);</span><br><span class="line">        <span class="keyword">if</span> (this.callback) &#123;</span><br><span class="line">            this.callback(files);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    createImageUploadDialog: <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">        var fileInput = this.fileInput;</span><br><span class="line">        <span class="keyword">if</span> (!fileInput) &#123;</span><br><span class="line">            fileInput = document.createElement(<span class="string">&#x27;input&#x27;</span>);</span><br><span class="line">            fileInput.type = <span class="string">&#x27;file&#x27;</span>;</span><br><span class="line">            fileInput.name = <span class="string">&#x27;ime-images&#x27;</span>;</span><br><span class="line">            fileInput.accept = <span class="string">&#x27;image/*&#x27;</span>;</span><br><span class="line">            fileInput.capture = <span class="string">&#x27;camera&#x27;</span>;//只允许照相</span><br><span class="line">            fileInput.multiple = <span class="literal">false</span>;//不允许多选</span><br><span class="line">            fileInput.onchange = this.onChangeUploadFile.bind(this);</span><br><span class="line">            this.fileInput = fileInput;</span><br><span class="line">        &#125;</span><br><span class="line">        fileInput.click();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//调用方法</span><br><span class="line">var dragImgUpload = new ImgUpload(<span class="string">&quot;#imgUpload&quot;</span>,&#123;</span><br><span class="line">    callback:<span class="keyword">function</span> (files) &#123;</span><br><span class="line">        var imgFile = files[0];</span><br><span class="line">        console.log(imgFile);</span><br><span class="line">        //<span class="keyword">do</span> something 调取接口进行上传等操作。</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">    </span><br></pre></td></tr></table></figure></p>
<p><a href="../../../../link/2018-11-28/index.html">具体效果点击这里</a>;</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>imgUpload</tag>
      </tags>
  </entry>
  <entry>
    <title>radio、checkbox 自定义样式</title>
    <url>/2018/11/16/radioCheckbox/</url>
    <content><![CDATA[<p>默认的radio、checkbox的样式比较单一，往往达不到我们想要的效果，所以需要自定义我们需要的样子。</p>
<span id="more"></span>
<p>先来看一下最终效果图吧。<br><img src="/images/2018-11-16/1.gif" alt=""></p>
<p>基础布局如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;radioBox&quot;</span>&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">        &lt;input class=<span class="string">&quot;radioInput&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;single&quot;</span> value=<span class="string">&quot;5&quot;</span>&gt;</span><br><span class="line">        &lt;span class=<span class="string">&quot;radioSpan&quot;</span>&gt;&lt;/span&gt;5</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">        &lt;input class=<span class="string">&quot;radioInput&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;single&quot;</span> value=<span class="string">&quot;4&quot;</span>&gt;</span><br><span class="line">        &lt;span class=<span class="string">&quot;radioSpan&quot;</span>&gt;&lt;/span&gt;4</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">        &lt;input class=<span class="string">&quot;radioInput&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;single&quot;</span> value=<span class="string">&quot;3&quot;</span>&gt;</span><br><span class="line">        &lt;span class=<span class="string">&quot;radioSpan&quot;</span>&gt;&lt;/span&gt;3</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">        &lt;input class=<span class="string">&quot;radioInput&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;single&quot;</span> value=<span class="string">&quot;2&quot;</span>&gt;</span><br><span class="line">        &lt;span class=<span class="string">&quot;radioSpan&quot;</span>&gt;&lt;/span&gt;2</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">        &lt;input class=<span class="string">&quot;radioInput&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;single&quot;</span> value=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">        &lt;span class=<span class="string">&quot;radioSpan&quot;</span>&gt;&lt;/span&gt;1</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;checkBox&quot;</span>&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">        &lt;input class=<span class="string">&quot;checkInput&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span><br><span class="line">        &lt;span class=<span class="string">&quot;checkSpan&quot;</span>&gt;&lt;/span&gt;喜欢</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">        &lt;input class=<span class="string">&quot;checkInput&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span><br><span class="line">        &lt;span class=<span class="string">&quot;checkSpan&quot;</span>&gt;&lt;/span&gt;好看</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">        &lt;input class=<span class="string">&quot;checkInput&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span><br><span class="line">        &lt;span class=<span class="string">&quot;checkSpan&quot;</span>&gt;&lt;/span&gt;耐用</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>样式是这样的<br><img src="/images/2018-11-16/2.png" alt=""></p>
<p>然后我们把我们想要的样式赋予我们添加的span标签,添加css样式。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.radioSpan &#123;</span><br><span class="line">    background-color:transparent;</span><br><span class="line">    border: 1px solid <span class="comment">#B5B5B5;</span></span><br><span class="line">    border-radius:100%;</span><br><span class="line">    display:inline-block;</span><br><span class="line">    width:13px;</span><br><span class="line">    height:13px;</span><br><span class="line">    vertical-align:middle;</span><br><span class="line">    line-height:0;</span><br><span class="line">    margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.radioInput:checked + .radioSpan &#123;</span><br><span class="line">    border: 1px solid <span class="comment">#16A096;</span></span><br><span class="line">&#125;</span><br><span class="line">.radioInput:checked + .radioSpan:after &#123;</span><br><span class="line">    background-color:<span class="comment">#16A096;</span></span><br><span class="line">    border-radius:100%;</span><br><span class="line">    content:<span class="string">&quot;&quot;</span>;</span><br><span class="line">    display:inline-block;</span><br><span class="line">    height:9px;</span><br><span class="line">    margin:2px;</span><br><span class="line">    width:9px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.checkSpan &#123;</span><br><span class="line">    background-color:transparent;</span><br><span class="line">    border: 1px solid <span class="comment">#B5B5B5;</span></span><br><span class="line">    display:inline-block;</span><br><span class="line">    width:13px;</span><br><span class="line">    height:13px;</span><br><span class="line">    vertical-align:middle;</span><br><span class="line">    line-height:0;</span><br><span class="line">    margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.checkInput:checked + .checkSpan &#123;</span><br><span class="line">    width: 15px;</span><br><span class="line">    height: 15px;</span><br><span class="line">    background: url(<span class="string">&#x27;checkedSelect.png&#x27;</span>) no-repeat center center;</span><br><span class="line">    background-size: 15px 15px;</span><br><span class="line">    border: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后在看一下样式<br><img src="/images/2018-11-16/3.png" alt=""><br><img src="/images/2018-11-16/4.gif" alt=""></p>
<p>然后我们在把原来的input标签隐藏就好了<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.radioInput &#123;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br><span class="line">.checkInput &#123;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>这样就可以看到开始的效果了。</p>
<p>这里样式全部是分开写的，方便理解。。</p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>radio</tag>
        <tag>checkbox</tag>
      </tags>
  </entry>
  <entry>
    <title>IntersectionObserver API</title>
    <url>/2018/12/03/IntersectionObserver/</url>
    <content><![CDATA[<p>原来判断一个元素是否在页面显示区域中，需要使用scroll事件进行监听判断，现在有了IntersectionObserver就方便了很多。</p>
<span id="more"></span>
<p>用法为</p>
<p>var io = new IntersectionObserver(callback, option);</p>
<p>IntersectionObserver是浏览器原生提供的构造函数，接受两个参数：callback是可见性变化时的回调函数，option是配置对象（该参数可选）。</p>
<p>// 开始观察<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">io.observe(document.getElementById(<span class="string">&#x27;example&#x27;</span>));</span><br></pre></td></tr></table></figure><br>// 停止观察<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">io.unobserve(element);</span><br></pre></td></tr></table></figure><br>// 关闭观察器<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">io.disconnect();</span><br></pre></td></tr></table></figure><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var io = new IntersectionObserver(</span><br><span class="line">    entries =&gt; &#123;</span><br><span class="line">        entries.forEach(i =&gt; &#123;</span><br><span class="line">            console.log(<span class="string">&#x27;Time: &#x27;</span> + i.time);</span><br><span class="line">            console.log(<span class="string">&#x27;Target: &#x27;</span> + i.target);</span><br><span class="line">            console.log(<span class="string">&#x27;IntersectionRatio: &#x27;</span> + i.intersectionRatio);</span><br><span class="line">            console.log(<span class="string">&#x27;rootBounds: &#x27;</span> + i.rootBounds);</span><br><span class="line">            console.log(i.boundingClientRect);</span><br><span class="line">            console.log(i.intersectionRect);</span><br><span class="line">            console.log(<span class="string">&#x27;================&#x27;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        /* Using default options. Details below */</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line">// Start observing an element</span><br><span class="line">// 多次调用</span><br><span class="line">io.observe(document.querySelector(<span class="string">&#x27;#a&#x27;</span>));</span><br><span class="line">io.observe(document.querySelector(<span class="string">&#x27;#b&#x27;</span>));</span><br></pre></td></tr></table></figure></p>
<p>返回的属性如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">time：可见性发生变化的时间，是一个高精度时间戳，单位为毫秒</span><br><span class="line">target：被观察的目标元素，是一个 DOM 节点对象</span><br><span class="line">rootBounds：根元素的矩形区域的信息，getBoundingClientRect()方法的返回值，如果没有根元素（即直接相对于视口滚动），则返回null</span><br><span class="line">boundingClientRect：目标元素的矩形区域的信息</span><br><span class="line">intersectionRect：目标元素与视口（或根元素）的交叉区域的信息</span><br><span class="line">intersectionRatio：目标元素的可见比例，即intersectionRect占boundingClientRect的比例，完全可见时为1，完全不可见时小于等于0</span><br></pre></td></tr></table></figure>
<p>这里面返回的值里面有位置信息，就可以搞事情了。</p>
<p>看一下兼容性</p>
<p><img src="/images/2018-12-03/1.png" alt=""></p>
<p>虽然兼容还不是很好，要是这个方法主流兼容了就很好了。以后一定是一个好方法。</p>
<p>想要学习更多的请借一步前往阮大大这里看</p>
<p><a href="http://www.ruanyifeng.com/blog/2016/11/intersectionobserver_api.html">http://www.ruanyifeng.com/blog/2016/11/intersectionobserver_api.html</a></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>IntersectionObserver</tag>
      </tags>
  </entry>
  <entry>
    <title>blob兼容性问题</title>
    <url>/2018/12/26/toBlob/</url>
    <content><![CDATA[<p>接上一篇文章，图片在谷歌浏览器上使用的时候没有问题，但是在手机上测试的时候就卡在那不动了，然后我测试了安卓我们的app和手机自带浏览器都不行，又测试了苹果我们的app不行，微信和safari是可以的。</p>
<p>然后我就和我们的安卓小哥说让他帮我看看log,结果发现canvas.toBlob is undefined。</p>
<span id="more"></span>
<p>原因：<br>blog方法兼容性不是很好，所以需要兼容一下<br>解决办法：<br>发现了这个网址解决了问题<br><a href="https://github.com/blueimp/JavaScript-Canvas-to-Blob">https://github.com/blueimp/JavaScript-Canvas-to-Blob</a>;<br>使用方法很简单，只需要把canvas-to-blob.js或者canvas-to-blob.min.js在之前引入就好了。然后下面原来的方法该怎么用就怎么用，就没有问题了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var canvas = document.createElement(<span class="string">&#x27;canvas&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (canvas.toBlob) &#123;</span><br><span class="line">    canvas.toBlob(<span class="keyword">function</span> (blob) &#123;</span><br><span class="line">             //<span class="keyword">do</span> something</span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="string">&#x27;image/jpeg&#x27;</span></span><br><span class="line">     );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>blob</tag>
      </tags>
  </entry>
  <entry>
    <title>单图片上传pro(带压缩版)</title>
    <url>/2018/12/11/imguploadpro/</url>
    <content><![CDATA[<p>单图片做完之后发现手机拍照照片都很大，基本都在4、5M，上传速度有些慢，然后就寻找方法，开始想使用图片转base64给后台，但是发现后台不支持base64,然后寻求他路，发现给以把图片转换成canvas进行压缩。</p>
<span id="more"></span>
<p>代码如下（还是需要依赖jq）</p>
<p>html<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;imgUpload&quot;</span>&gt;</span><br><span class="line">    &lt;input <span class="built_in">type</span>=<span class="string">&quot;file&quot;</span> accept=<span class="string">&quot;image/*&quot;</span> capture=<span class="string">&quot;camera&quot;</span> class=<span class="string">&quot;imgUploadIpt&quot;</span>&gt;</span><br><span class="line">    &lt;img src=<span class="string">&quot;1.png&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>css<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.imgUpload &#123;</span><br><span class="line">    width: 88px;</span><br><span class="line">    height: 88px;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.imgUpload input[<span class="built_in">type</span>=<span class="string">&#x27;file&#x27;</span>] &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    opacity: 0;</span><br><span class="line">    position: absolute;</span><br><span class="line">    z-index: 2;</span><br><span class="line">&#125;</span><br><span class="line">.imgUpload img &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    position: absolute;</span><br><span class="line">    z-index: 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>js<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> ImgUpload(ele, files, options ) &#123;</span><br><span class="line">    this.ele = ele;//点击的input元素</span><br><span class="line">    this.files = files;//图片file</span><br><span class="line">    this.compression = options.compression || <span class="literal">false</span>;//是否开启压缩默认否</span><br><span class="line">    this.maxWidth = options.maxWidth || 800;//压缩最大宽度</span><br><span class="line">    this.maxHeight = options.maxHeight || 800;//压缩最大高度</span><br><span class="line">    this.callback = options.callback;//回调</span><br><span class="line">    this.init();</span><br><span class="line">&#125;</span><br><span class="line">ImgUpload.prototype = &#123;</span><br><span class="line">    init: <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        this.onChangeUploadFile();</span><br><span class="line">    &#125;,</span><br><span class="line">    onChangeUploadFile: <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        var _this = this;</span><br><span class="line">        //判断文件是否添加进来</span><br><span class="line">        <span class="keyword">if</span> (this.files.length == 0) &#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        var file = this.files[0];</span><br><span class="line">        //判断上传的是不是图片</span><br><span class="line">        <span class="keyword">if</span> (file.type.indexOf(<span class="string">&#x27;image&#x27;</span>) === -1) &#123;</span><br><span class="line">            alert(<span class="string">&quot;您上传的不是图片！&quot;</span>);</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        //上传图片进行最大限制</span><br><span class="line">        var filesize = Math.floor((file.size) / 1024);</span><br><span class="line">        <span class="keyword">if</span> (filesize &gt; 1024 * 20) &#123;</span><br><span class="line">            alert(<span class="string">&quot;上传大小不能超过20M.&quot;</span>);</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        this.ele.parent().find(<span class="string">&quot;img&quot;</span>).attr(<span class="string">&quot;src&quot;</span>, window.URL.createObjectURL(file));</span><br><span class="line">        <span class="keyword">if</span>( !this.compression ) &#123;</span><br><span class="line">            <span class="keyword">if</span> (this.callback) &#123;</span><br><span class="line">                this.callback( file );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            // 压缩图片需要的一些元素和对象</span><br><span class="line">            var reader = new FileReader(), img = new Image();</span><br><span class="line">            //result属性中将包含一个data: URL格式的字符串以表示所读取文件的内容</span><br><span class="line">            reader.readAsDataURL(file);</span><br><span class="line">            // 文件base64化，以便获知图片原始尺寸</span><br><span class="line">            reader.onload = <span class="keyword">function</span>(e) &#123;</span><br><span class="line">                img.src = e.target.result;</span><br><span class="line">            &#125;;</span><br><span class="line">            // 缩放图片需要的canvas</span><br><span class="line">            var canvas = document.createElement(<span class="string">&#x27;canvas&#x27;</span>);</span><br><span class="line">            var context = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>);</span><br><span class="line">            img.onload = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">                // 图片原始尺寸</span><br><span class="line">                var originWidth = this.width;</span><br><span class="line">                var originHeight = this.height;</span><br><span class="line">                // 最大尺寸限制</span><br><span class="line">                var maxWidth = _this.maxWidth, maxHeight = _this.maxHeight;</span><br><span class="line">                // 目标尺寸</span><br><span class="line">                var targetWidth = originWidth, targetHeight = originHeight;</span><br><span class="line">                // 图片尺寸超过限制</span><br><span class="line">                <span class="keyword">if</span> (originWidth &gt; maxWidth || originHeight &gt; maxHeight) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (originWidth / originHeight &gt; maxWidth / maxHeight) &#123;</span><br><span class="line">                        // 更宽，按照宽度限定尺寸</span><br><span class="line">                        targetWidth = maxWidth;</span><br><span class="line">                        targetHeight = Math.round(maxWidth * (originHeight / originWidth));</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        targetHeight = maxHeight;</span><br><span class="line">                        targetWidth = Math.round(maxHeight * (originWidth / originHeight));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                // canvas对图片进行缩放</span><br><span class="line">                canvas.width = targetWidth;</span><br><span class="line">                canvas.height = targetHeight;</span><br><span class="line">                // 清除画布</span><br><span class="line">                context.clearRect(0, 0, targetWidth, targetHeight);</span><br><span class="line">                // 图片压缩</span><br><span class="line">                context.drawImage(img, 0, 0, targetWidth, targetHeight);</span><br><span class="line">                // canvas转为blob返回</span><br><span class="line">                canvas.toBlob(<span class="keyword">function</span> (blob) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (_this.callback) &#123;</span><br><span class="line">                        _this.callback( blob );</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, file.type || <span class="string">&#x27;image/png&#x27;</span>);</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;.imgUploadIpt&#x27;</span>).on(<span class="string">&#x27;change&#x27;</span>, <span class="keyword">function</span> (event) &#123;</span><br><span class="line">    new ImgUpload($(this), event.target.files, &#123;</span><br><span class="line">        compression: <span class="literal">true</span>, //开启压缩默认不压缩</span><br><span class="line">        maxWidth: 600, //开启压缩图片最大宽度</span><br><span class="line">        maxHeight: 600, //开启压缩图片最大高度</span><br><span class="line">        callback:<span class="keyword">function</span> (file) &#123;//回调函数</span><br><span class="line">            console.log(file);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p><a href="../../../../link/2018-12-11/index.html">具体效果点击这里</a>;</p>
<p>参考地址<br><a href="https://www.zhangxinxu.com/wordpress/2017/07/html5-canvas-image-compress-upload/">https://www.zhangxinxu.com/wordpress/2017/07/html5-canvas-image-compress-upload/</a>;</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>imgUploadPro</tag>
      </tags>
  </entry>
  <entry>
    <title>qs 序列化数据使用</title>
    <url>/2019/12/11/qs/</url>
    <content><![CDATA[<p>React、Vue在接口获取传输数据使用qs进行数据序列化遇到问题，后台查询列表需要拼接带’.‘的参数。</p>
<span id="more"></span>
<p>如果参数中存在’.‘需要添加allowDots属性,允许 dots：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">qs.stringify(params, &#123;allowDots: <span class="literal">true</span>&#125;)</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/ljharb/qs">qs参考地址 https://github.com/ljharb/qs</a></p>
]]></content>
      <categories>
        <category>qs</category>
      </categories>
      <tags>
        <tag>qs</tag>
      </tags>
  </entry>
  <entry>
    <title>判断数据类型</title>
    <url>/2019/02/25/2019-2-25-typeof/</url>
    <content><![CDATA[<p>判断类型、构造函数、对象属性等，记录到一起，方便记忆学习。</p>
<span id="more"></span>
<h1 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h1><p>操作符返回一个字符串，表示未经计算的操作数的类型，其实就是判断参数是什么类型的实例。</p>
<p>一般返回以下几种结果：”number”、”string”、”boolean”、”object”、”function” 和 “undefined”。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log(typeof 123) //number</span><br><span class="line">console.log(typeof (1+2)) //number</span><br><span class="line">console.log(typeof NaN) //number</span><br><span class="line">console.log(typeof Number(6)) //number</span><br><span class="line">console.log(typeof Infinity) //number</span><br><span class="line"></span><br><span class="line">console.log(typeof <span class="string">&quot;&quot;</span>) //string</span><br><span class="line">console.log(typeof <span class="string">&quot;zyw&quot;</span>) //string</span><br><span class="line">console.log(typeof (typeof <span class="string">&quot;zyw&quot;</span>)) //string</span><br><span class="line"></span><br><span class="line">console.log(typeof <span class="literal">true</span>) //boolean</span><br><span class="line">console.log(typeof <span class="literal">false</span>) //boolean</span><br><span class="line">    </span><br><span class="line">console.log(typeof &#123;name:<span class="string">&#x27;zyw&#x27;</span>&#125;) //object</span><br><span class="line">console.log(typeof [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;w&#x27;</span>]) //object</span><br><span class="line">console.log(typeof new Date()) //object</span><br><span class="line"></span><br><span class="line">console.log(typeof <span class="function"><span class="title">function</span></span>()&#123;&#125;) //<span class="keyword">function</span></span><br><span class="line"></span><br><span class="line">console.log(typeof undefined) //undefined</span><br><span class="line">console.log(typeof zyw) //undefined zyw未定义</span><br></pre></td></tr></table></figure>
<h1 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h1><p>用于测试构造函数的prototype属性是否出现在对象的原型链中的任何位置</p>
<p>注意上面数组和对象返回的都是object，这时就需要使用instanceof来判断了。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log([<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;w&#x27;</span>] instanceof Array) //<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">// 定义构造函数</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">C</span></span>()&#123;&#125; </span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">D</span></span>()&#123;&#125; </span><br><span class="line">var o = new C();</span><br><span class="line">o instanceof C; // <span class="literal">true</span>，因为 Object.getPrototypeOf(o) === C.prototype</span><br><span class="line">o instanceof D; // <span class="literal">false</span>，因为 D.prototype不在o的原型链上</span><br><span class="line">o instanceof Object; // <span class="literal">true</span>,因为Object.prototype.isPrototypeOf(o)返回<span class="literal">true</span></span><br><span class="line">C.prototype instanceof Object // <span class="literal">true</span>,同上</span><br><span class="line"></span><br><span class="line">console.log(<span class="string">&quot;zyw&quot;</span> instanceof String) //<span class="literal">false</span></span><br><span class="line">console.log(new String() instanceof String) //<span class="literal">true</span></span><br><span class="line">console.log(new String(<span class="string">&quot;zyw&quot;</span>) instanceof String) //<span class="literal">true</span></span><br><span class="line">console.log(new Date() instanceof String) //<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">console.log(new String(<span class="string">&quot;zyw&quot;</span>) instanceof Object) //<span class="literal">true</span></span><br><span class="line">console.log(&#123;&#125; instanceof Object) //<span class="literal">true</span></span><br><span class="line">console.log(Object.create(null) instanceof Object) //<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">console.log(new Date() instanceof Date) //<span class="literal">true</span></span><br><span class="line">console.log(new String() instanceof Date) //<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">console.log(new Date() instanceof Object) //<span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<h1 id="hasOwnProperty-NaN"><a href="#hasOwnProperty-NaN" class="headerlink" title="hasOwnProperty"></a>hasOwnProperty</h1><p>返回一个布尔值，指示对象自身属性中是否具有指定的属性</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">o = new Object();</span><br><span class="line">o.prop = <span class="string">&#x27;exists&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">changeO</span></span>() &#123;</span><br><span class="line">  o.newprop = o.prop;</span><br><span class="line">  delete o.prop;</span><br><span class="line">&#125;</span><br><span class="line">o.hasOwnProperty(<span class="string">&#x27;prop&#x27;</span>);   // 返回 <span class="literal">true</span></span><br><span class="line">changeO();</span><br><span class="line">o.hasOwnProperty(<span class="string">&#x27;prop&#x27;</span>);   // 返回 <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h1 id="Object-prototype-toString-call"><a href="#Object-prototype-toString-call" class="headerlink" title="Object.prototype.toString.call()"></a>Object.prototype.toString.call()</h1><p>常用于判断浏览器内置对象。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log( Object.prototype.toString.call(<span class="string">&#x27;zyw&#x27;</span>)) //[object String]</span><br><span class="line">console.log( Object.prototype.toString.call(123)) //[object Number]</span><br><span class="line">console.log( Object.prototype.toString.call(Symbol(123))) //[object Symbol]</span><br><span class="line">console.log( Object.prototype.toString.call(null)) //[object Null]</span><br><span class="line">console.log( Object.prototype.toString.call(undefined)) //[object Undefined]</span><br><span class="line">console.log( Object.prototype.toString.call(<span class="function"><span class="title">function</span></span> () &#123;&#125;)) //[object Function]</span><br><span class="line">console.log( Object.prototype.toString.call(&#123;name: <span class="string">&#x27;zyw&#x27;</span>&#125;)) //[object Object]</span><br></pre></td></tr></table></figure>
<h1 id="Array-isArray"><a href="#Array-isArray" class="headerlink" title="Array.isArray()"></a>Array.isArray()</h1><p>用来判断对象是否为数组</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var arr = [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;w&#x27;</span>]</span><br><span class="line">console.log(Array.isArray(arr))//<span class="literal">true</span></span><br><span class="line">var obj = &#123;name: <span class="string">&#x27;zyw&#x27;</span>&#125;</span><br><span class="line">console.log(Array.isArray(obj))//<span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>参考网址：MDN</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>typeof</tag>
        <tag>instanceof</tag>
        <tag>hasOwnProperty</tag>
        <tag>Object.prototype.toString.call()</tag>
        <tag>isArray</tag>
      </tags>
  </entry>
  <entry>
    <title>双向绑定</title>
    <url>/2019/03/12/2019-3-12-proxy/</url>
    <content><![CDATA[<p>最简单的双向数据绑定的实现，开始通过使用Object.defineProperty()，到ES6新增的Proxy的实现。</p>
<span id="more"></span>
<p>HTML<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    &lt;input <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;inputTxt&quot;</span>&gt;</span><br><span class="line">    &lt;input <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;showTxt&quot;</span>&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty()"></a>Object.defineProperty()</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, <span class="string">&#x27;txt&#x27;</span>, &#123;</span><br><span class="line">    get: <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        <span class="built_in">return</span> obj;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">set</span>: <span class="keyword">function</span> (newValue) &#123;</span><br><span class="line">        document.getElementById(<span class="string">&#x27;inputTxt&#x27;</span>).value = newValue;</span><br><span class="line">        document.getElementById(<span class="string">&#x27;showTxt&#x27;</span>).value = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">document.addEventListener(<span class="string">&#x27;keydown&#x27;</span>, <span class="keyword">function</span> (e) &#123;</span><br><span class="line">    obj.txt = e.target.value;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const obj = &#123;&#125;;</span><br><span class="line">const aProxy = new Proxy(obj, &#123;</span><br><span class="line">    get: <span class="keyword">function</span>(target, key, receiver)&#123;</span><br><span class="line">        <span class="built_in">return</span> Reflect.get(target, key, receiver);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">set</span>: <span class="keyword">function</span> (target, key, value, receiver) &#123;</span><br><span class="line">        <span class="keyword">if</span>(key === <span class="string">&#x27;txt&#x27;</span> &amp;&amp; value !== undefined) &#123;</span><br><span class="line">            document.getElementById(<span class="string">&#x27;inputTxt&#x27;</span>).value = value;</span><br><span class="line">            document.getElementById(<span class="string">&#x27;showTxt&#x27;</span>).value = value;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> Reflect.set(target, key, value, receiver);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">document.addEventListener(<span class="string">&#x27;keydown&#x27;</span>, <span class="keyword">function</span> (e) &#123;</span><br><span class="line">    aProxy.txt = e.target.value;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>Object.defineProperty()</tag>
        <tag>Proxy</tag>
      </tags>
  </entry>
  <entry>
    <title>闭包与继承</title>
    <url>/2019/03/04/2019-3-4-inherit/</url>
    <content><![CDATA[<p>闭包与继承组合学习，加深记忆。</p>
<span id="more"></span>
<h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><p>通过一个函数，能够访问另一个函数作用域的变量的函数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">init</span></span>() &#123;</span><br><span class="line">    var name = <span class="string">&quot;Mozilla&quot;</span>; // name 是一个被 init 创建的局部变量</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">displayName</span></span>() &#123; // displayName() 是内部函数,一个闭包</span><br><span class="line">        alert(name); // 使用了父函数中声明的变量</span><br><span class="line">    &#125;</span><br><span class="line">    displayName();</span><br><span class="line">&#125;</span><br><span class="line">init();//Mozilla</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> a(x) &#123;</span><br><span class="line">    var y = 4;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">b</span></span>() &#123;</span><br><span class="line">        console.log(x+y)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> b</span><br><span class="line">&#125;</span><br><span class="line">var c = a(3)</span><br><span class="line">c() // 7</span><br></pre></td></tr></table></figure>
<h1 id="构造函数继承"><a href="#构造函数继承" class="headerlink" title="构造函数继承"></a>构造函数继承</h1><h2 id="call-apply方式-构造函数绑定"><a href="#call-apply方式-构造函数绑定" class="headerlink" title="call apply方式 构造函数绑定"></a>call apply方式 构造函数绑定</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Animal</span></span>() &#123;</span><br><span class="line">    this.species = <span class="string">&#x27;动物&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> Cat(name, color) &#123;</span><br><span class="line">    Animal.apply(this, arguments)</span><br><span class="line">    this.name = name</span><br><span class="line">    this.color = color</span><br><span class="line">&#125;</span><br><span class="line">var cat1 = new Cat(<span class="string">&#x27;大俊&#x27;</span>, <span class="string">&#x27;黑色&#x27;</span>)</span><br><span class="line">console.log(cat1.species) //动物</span><br></pre></td></tr></table></figure>
<p>使用call和apply借用其他构造函数的成员, 可以解决给父构造函数传递参数的问题, 但是获取不到父构造函数原型上的成员.也不存在共享问题.</p>
<h2 id="prototype模式"><a href="#prototype模式" class="headerlink" title="prototype模式"></a>prototype模式</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Animal</span></span>() &#123;</span><br><span class="line">    this.species = <span class="string">&#x27;动物&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> Cat(name, color) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.color = color</span><br><span class="line">&#125;</span><br><span class="line">Cat.prototype = new Animal();</span><br><span class="line">Cat.prototype.constructor = Cat</span><br><span class="line">var cat1 = new Cat(<span class="string">&#x27;大俊&#x27;</span>, <span class="string">&#x27;黑色&#x27;</span>)</span><br><span class="line">console.log(cat1.species) //动物</span><br></pre></td></tr></table></figure>
<p>问题是不能给父构造函数传递参数, 父子构造函数的原型对象之间有共享问题.</p>
<h2 id="直接继承prototype"><a href="#直接继承prototype" class="headerlink" title="直接继承prototype"></a>直接继承prototype</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Animal</span></span>() &#123;&#125;</span><br><span class="line">Animal.prototype.species = <span class="string">&#x27;动物&#x27;</span></span><br><span class="line"><span class="keyword">function</span> Cat(name, color) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.color = color</span><br><span class="line">&#125;</span><br><span class="line">Cat.prototype = Animal.prototype</span><br><span class="line">Cat.prototype.constructor = Cat</span><br><span class="line">var cat1 = new Cat(<span class="string">&#x27;大俊&#x27;</span>, <span class="string">&#x27;黑色&#x27;</span>)</span><br><span class="line">console.log(cat1.species) //动物</span><br><span class="line">console.log(Animal.prototype.constructor) //Cat</span><br></pre></td></tr></table></figure>
<p>缺点是 Cat.prototype和Animal.prototype,现在指向了同一个对象，那么任何对Cat.prototype的修改，都会反映到Animal.prototype。<br>只能继承父构造函数的原型对象上的成员, 不能继承父构造函数的实例对象的成员, 同时父构造函数的原型对象和子构造函数的原型对象上的成员有共享问题</p>
<h2 id="利用空对象作为中介"><a href="#利用空对象作为中介" class="headerlink" title="利用空对象作为中介"></a>利用空对象作为中介</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Animal</span></span>() &#123;&#125;</span><br><span class="line">Animal.prototype.species = <span class="string">&#x27;动物&#x27;</span></span><br><span class="line"><span class="keyword">function</span> Cat(name, color) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.color = color</span><br><span class="line">&#125;</span><br><span class="line">var F = <span class="function"><span class="title">function</span></span> () &#123;&#125;</span><br><span class="line">F.prototype = Animal.prototype</span><br><span class="line">Cat.prototype = new F()</span><br><span class="line">Cat.prototype.constructor = Cat</span><br><span class="line">var cat1 = new Cat(<span class="string">&#x27;大俊&#x27;</span>, <span class="string">&#x27;黑色&#x27;</span>)</span><br><span class="line">console.log(cat1.species)//动物</span><br><span class="line">//封装</span><br><span class="line"><span class="keyword">function</span> extend(Child, Parent) &#123;</span><br><span class="line">    var F = <span class="function"><span class="title">function</span></span> () &#123;&#125;</span><br><span class="line">    F.prototype = Parent.prototype</span><br><span class="line">    Child.prototype = new F()</span><br><span class="line">    Child.prototype.constructor = Child</span><br><span class="line">    Child.uber = Parent.prototype//为子对象设一个uber属性，</span><br><span class="line">    // 这个属性直接指向父对象的prototype属性为了实现继承的完备性，纯属备用性质。</span><br><span class="line">&#125;</span><br><span class="line">//使用</span><br><span class="line">extend(Cat, Animal)</span><br><span class="line">var cat1 = new Cat(<span class="string">&#x27;大俊&#x27;</span>, <span class="string">&#x27;黑色&#x27;</span>)</span><br><span class="line">console.log(cat1.species)//动物</span><br></pre></td></tr></table></figure>
<h2 id="拷贝继承"><a href="#拷贝继承" class="headerlink" title="拷贝继承"></a>拷贝继承</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Animal</span></span>() &#123;&#125;</span><br><span class="line">Animal.prototype.species = <span class="string">&#x27;动物&#x27;</span></span><br><span class="line"><span class="keyword">function</span> Cat(name, color) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.color = color</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> extend2(Child, Parent)&#123;</span><br><span class="line">    var p = Parent.prototype</span><br><span class="line">    var c = Child.prototype</span><br><span class="line">    <span class="keyword">for</span>(var x <span class="keyword">in</span> p)&#123;</span><br><span class="line">        c[x] = p[x]</span><br><span class="line">    &#125;</span><br><span class="line">    c.uber = p</span><br><span class="line">&#125;</span><br><span class="line">extend2(Cat, Animal)</span><br><span class="line">var cat1 = new Cat()</span><br><span class="line">console.log(cat1.species)</span><br></pre></td></tr></table></figure>
<p>拷贝继承的问题,如果继承过来的成员是引用类型的话,那么这个引用类型的成员在父对象和子对象之间是共享的,也就是说修改了之后, 父子对象都会受到影响.</p>
<h1 id="非构造函数继承"><a href="#非构造函数继承" class="headerlink" title="非构造函数继承"></a>非构造函数继承</h1><h2 id="object-方法"><a href="#object-方法" class="headerlink" title="object()方法"></a>object()方法</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var Animal = &#123;</span><br><span class="line">   species: <span class="string">&quot;动物&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> object(o) &#123;</span><br><span class="line">   <span class="keyword">function</span> <span class="function"><span class="title">F</span></span>() &#123;&#125;</span><br><span class="line">   F.prototype = o;</span><br><span class="line">   <span class="built_in">return</span> new F();</span><br><span class="line">&#125;</span><br><span class="line">var Cat = object(Animal);</span><br><span class="line">Cat.name = <span class="string">&quot;大俊&quot;</span>;</span><br><span class="line">console.log(Cat.species)//动物</span><br></pre></td></tr></table></figure>
<h2 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var Animal = &#123;</span><br><span class="line">   species: <span class="string">&quot;动物&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> extendCopy(p) &#123;</span><br><span class="line">   var c = &#123;&#125;;</span><br><span class="line">   <span class="keyword">for</span> (var i <span class="keyword">in</span> p) &#123;</span><br><span class="line">       c[i] = p[i];</span><br><span class="line">   &#125;</span><br><span class="line">   c.uber = p;</span><br><span class="line">   <span class="built_in">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line">var Cat = extendCopy(Animal);</span><br><span class="line">Cat.name = <span class="string">&quot;大俊&quot;</span>;</span><br><span class="line">console.log(Cat)//动物</span><br><span class="line"></span><br><span class="line">这样的拷贝有一个问题。那就是，如果父对象的属性等于数组或另一个对象，那么实际上，子对象获得的只是一个内存地址，而不是真正拷贝，因此存在父对象被篡改的可能。</span><br><span class="line">var Animal = &#123;</span><br><span class="line">   species: <span class="string">&quot;动物&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> extendCopy(p) &#123;</span><br><span class="line">   var c = &#123;&#125;;</span><br><span class="line">   <span class="keyword">for</span> (var i <span class="keyword">in</span> p) &#123;</span><br><span class="line">       c[i] = p[i];</span><br><span class="line">   &#125;</span><br><span class="line">   c.uber = p;</span><br><span class="line">   <span class="built_in">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line">Animal.do = [<span class="string">&quot;吃&quot;</span>, <span class="string">&quot;喝&quot;</span>];</span><br><span class="line">var Cat = extendCopy(Animal);</span><br><span class="line">Cat.do.push(<span class="string">&quot;睡觉&quot;</span>);</span><br><span class="line">console.log(Cat.do)//[<span class="string">&quot;吃&quot;</span>, <span class="string">&quot;喝&quot;</span>, <span class="string">&quot;睡觉&quot;</span>]</span><br><span class="line">console.log(Animal.do)//[<span class="string">&quot;吃&quot;</span>, <span class="string">&quot;喝&quot;</span>, <span class="string">&quot;睡觉&quot;</span>]</span><br></pre></td></tr></table></figure>
<h2 id="3、深拷贝"><a href="#3、深拷贝" class="headerlink" title="3、深拷贝"></a>3、深拷贝</h2><p>深拷贝，就是能够实现真正意义上的数组和对象的拷贝。递归调用”浅拷贝”就行了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var Animal = &#123;</span><br><span class="line">   species: <span class="string">&quot;动物&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> deepCopy(p, c) &#123;</span><br><span class="line">   var c = c || &#123;&#125;;</span><br><span class="line">   <span class="keyword">for</span> (var i <span class="keyword">in</span> p) &#123;</span><br><span class="line">       <span class="keyword">if</span> (typeof p[i] === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">           c[i] = (p[i].constructor === Array) ? [] : &#123;&#125;;</span><br><span class="line">           deepCopy(p[i], c[i]);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           c[i] = p[i];</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="built_in">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line">Animal.do = [<span class="string">&quot;吃&quot;</span>, <span class="string">&quot;喝&quot;</span>];</span><br><span class="line">var Cat = deepCopy(Animal);</span><br><span class="line">Cat.do.push(<span class="string">&quot;睡觉&quot;</span>);</span><br><span class="line">console.log(Cat.do)//[<span class="string">&quot;吃&quot;</span>, <span class="string">&quot;喝&quot;</span>, <span class="string">&quot;睡觉&quot;</span>]</span><br><span class="line">console.log(Animal.do)//[<span class="string">&quot;吃&quot;</span>, <span class="string">&quot;喝&quot;</span>]</span><br></pre></td></tr></table></figure>
<p>学习地址<br><a href="http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance.html">http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance.html</a>;</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>闭包</tag>
        <tag>继承</tag>
      </tags>
  </entry>
  <entry>
    <title>Jenkins + publish over ssh 插件进行web前端自动化打包和部署</title>
    <url>/2019/05/20/2019-5-20-Jenkins/</url>
    <content><![CDATA[<p>好久没有有更新了，换个工作一直忙，今天研究了一下前端测试环境自动化部署，再次记录，方便以后查阅。</p>
<span id="more"></span>
<h2 id="安装-Jenkins"><a href="#安装-Jenkins" class="headerlink" title="安装 Jenkins"></a>安装 Jenkins</h2><p>第一步就是先安装Jenkins，这里以mac系统为例，实际都是大同小异的。</p>
<p>通过 homebrew 安装 Jenkins, 建议通过命令安装，如果使用安装包安装，会涉及到权限问题服务启动不了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install jenkins</span><br></pre></td></tr></table></figure>
<p>如果没有安装homebrew，请参考这里<a href="https://brew.sh/index_zh-cn">https://brew.sh/index_zh-cn</a></p>
<p>安装好了之后执行命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jenkins</span><br></pre></td></tr></table></figure>
<p>浏览器访问,进入页面稍等一会。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[http://localhost:8080](http://localhost:8080)</span><br></pre></td></tr></table></figure>
<p>因为我在安装的时候忘记截图了，所以就盗用了别人的图。</p>
<p>首先按照他的路径找到密码粘贴进去。</p>
<p><img src="/images/2019-05-20/1.png" alt="1"></p>
<p>然后创建一个用户，方便以后好登陆。</p>
<p><img src="/images/2019-05-20/2.png" alt="2"></p>
<p>在配置最后一个页面就可以了。</p>
<p><img src="/images/2019-05-20/3.png" alt="3"></p>
<p>记得还有一个选择插件的页面，用默认的就好了。</p>
<h2 id="建一个item进行自动化打包"><a href="#建一个item进行自动化打包" class="headerlink" title="建一个item进行自动化打包"></a>建一个item进行自动化打包</h2><p>进入jenkins主页面是这样的。</p>
<p><img src="/images/2019-05-20/4.jpg" alt="4"></p>
<p>点击新建item</p>
<p><img src="/images/2019-05-20/5.png" alt="5"></p>
<p>确定后进入配置页面</p>
<p>General配置</p>
<p><img src="/images/2019-05-20/6.png" alt="6"></p>
<p>源码管理配置</p>
<p>因为我们目前还在使用svn，所以选择SVN，马上要开新项目，要使git了，配置应该不会有太大变化。</p>
<p><img src="/images/2019-05-20/7.png" alt="7"></p>
<p>构建触发器配置</p>
<p>这个就看自己的需要了。</p>
<p><img src="/images/2019-05-20/8.png" alt="8"></p>
<p>构建环境配置</p>
<p><img src="/images/2019-05-20/9.png" alt="9"></p>
<p>构建配置</p>
<p><img src="/images/2019-05-20/10.png" alt="10"><br><img src="/images/2019-05-20/11.png" alt="11"></p>
<p>注意一下红色提示</p>
<p>此处配置完成后就可以进行build打包了。</p>
<p><img src="/images/2019-05-20/12.png" alt="12"></p>
<p>然后我们进入jenkins目录文件，就可以看见项目和打包好的dist文件夹了。我的目录是</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/Users/zhouyanwei/.jenkins/workspace/<span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>到此已经实现了自动化打包，接下来就是配置如何实现自动化上传到测试服务器上。</p>
<h2 id="publish-over-ssh-插件进行自动化部署"><a href="#publish-over-ssh-插件进行自动化部署" class="headerlink" title="publish over ssh 插件进行自动化部署"></a>publish over ssh 插件进行自动化部署</h2><p>首先我们先安装插件，因为我已经安装了。</p>
<p><img src="/images/2019-05-20/13.png" alt="13"><br><img src="/images/2019-05-20/14.png" alt="14"></p>
<p>安装好了之后进行Publish over SSH配置</p>
<p><img src="/images/2019-05-20/19.png" alt="19"></p>
<p>找到 Publish over SSH 项</p>
<p><img src="/images/2019-05-20/15.png" alt="15"></p>
<p>在进行SSH配置的时候，我了解到有两种方法，第一种是使用秘钥进行进行传输，还有一种就是我使用的账号密码进行传输。</p>
<p><img src="/images/2019-05-20/16.png" alt="16"></p>
<p>别忘记保存，应用。</p>
<p>然后我们回到我们的项目配置，进行构建后操作配置</p>
<p>构建后操作配置</p>
<p><img src="/images/2019-05-20/17.png" alt="17"><br><img src="/images/2019-05-20/18.png" alt="18"></p>
<p>5月30日补充：<br>最后一步替换后执行操作，使用.代替是不对的，不执行可以不写。</p>
<p>别忘记保存，应用。</p>
<p>然后我们回到项目首页 Build Now 就可以了，完成后就会自动打包进行服务器更新了。</p>
]]></content>
      <categories>
        <category>Jenkins</category>
      </categories>
      <tags>
        <tag>Jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux离线安装Docker</title>
    <url>/2019/08/12/2019-8-12-LinuxDocker/</url>
    <content><![CDATA[<p>如何在Linux离线下进行Docker安装。</p>
<span id="more"></span>
<h2 id="本地环境"><a href="#本地环境" class="headerlink" title="本地环境"></a>本地环境</h2><ul>
<li>Linux版本：CentOS 7.6</li>
<li>Docker版本：docker-19.03.1 <a href="https://download.docker.com/linux/static/stable/x86_64/">官方下载地址</a></li>
</ul>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="首先把下载好的Docker压缩包放到Linux根目录中"><a href="#首先把下载好的Docker压缩包放到Linux根目录中" class="headerlink" title="首先把下载好的Docker压缩包放到Linux根目录中"></a>首先把下载好的Docker压缩包放到Linux根目录中</h3><h3 id="执行解压命令将压缩包进行解压到指定目录"><a href="#执行解压命令将压缩包进行解压到指定目录" class="headerlink" title="执行解压命令将压缩包进行解压到指定目录"></a>执行解压命令将压缩包进行解压到指定目录</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar zxvf docker-19.03.1.tar</span><br><span class="line">sudo cp docker/* /usr/bin/</span><br></pre></td></tr></table></figure>
<ul>
<li>小提示<blockquote>
<p>安装好后不要忘记把根目录的压缩包删除，回到根目录执行命令 rm -f docker-19.03.1.tar<br>要是可以直接ssh的，可以直接在本地把压缩包解压，然后把docker目录直接拽过去就好。</p>
</blockquote>
</li>
</ul>
<h3 id="执行启动命令"><a href="#执行启动命令" class="headerlink" title="执行启动命令"></a>执行启动命令</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dockerd</span><br></pre></td></tr></table></figure>
<p>然后查看一下docker版本号是否有了。<br>docker -v</p>
<h3 id="将docker注册为service"><a href="#将docker注册为service" class="headerlink" title="将docker注册为service"></a>将docker注册为service</h3><ul>
<li>新建docker.service文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/systemd/system/docker.service</span><br></pre></td></tr></table></figure>
<ul>
<li>把下面的内容复制进去</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Docker Application Container Engine</span><br><span class="line">Documentation=https://docs.docker.com</span><br><span class="line">After=network-online.target firewalld.service</span><br><span class="line">Wants=network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=notify</span><br><span class="line"><span class="comment"># the default is not to use systemd for cgroups because the delegate issues still</span></span><br><span class="line"><span class="comment"># exists and systemd currently does not support the cgroup feature set required</span></span><br><span class="line"><span class="comment"># for containers run by docker</span></span><br><span class="line">ExecStart=/usr/bin/dockerd</span><br><span class="line">ExecReload=/bin/<span class="built_in">kill</span> -s HUP <span class="variable">$MAINPID</span></span><br><span class="line"><span class="comment"># Having non-zero Limit*s causes performance problems due to accounting overhead</span></span><br><span class="line"><span class="comment"># in the kernel. We recommend using cgroups to do container-local accounting.</span></span><br><span class="line">LimitNOFILE=infinity</span><br><span class="line">LimitNPROC=infinity</span><br><span class="line">LimitCORE=infinity</span><br><span class="line"><span class="comment"># Uncomment TasksMax if your systemd version supports it.</span></span><br><span class="line"><span class="comment"># Only systemd 226 and above support this version.</span></span><br><span class="line"><span class="comment">#TasksMax=infinity</span></span><br><span class="line">TimeoutStartSec=0</span><br><span class="line"><span class="comment"># set delegate yes so that systemd does not reset the cgroups of docker containers</span></span><br><span class="line">Delegate=yes</span><br><span class="line"><span class="comment"># kill only the docker process, not all processes in the cgroup</span></span><br><span class="line">KillMode=process</span><br><span class="line"><span class="comment"># restart the docker process if it exits prematurely</span></span><br><span class="line">Restart=on-failure</span><br><span class="line">StartLimitBurst=3</span><br><span class="line">StartLimitInterval=60s</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<ul>
<li><p>执行命令</p>
<blockquote>
<p>添加文件权限并启动docker</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod +x /etc/systemd/system/docker.service</span><br></pre></td></tr></table></figure>
<blockquote>
<p>重载unit配置文件</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>启动Docker</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure>
<blockquote>
<p>设置开机自启</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> docker.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>常用命令</p>
<blockquote>
<p>重启docker</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>
<blockquote>
<p>关闭docker</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl stop docker</span><br></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker离线安装Nginx镜像</title>
    <url>/2019/08/13/2019-8-13-DockerNginx/</url>
    <content><![CDATA[<p>离线安装还Docker后，在离线安装一个Nginx镜像，实现的方法，首先要在有网的地方将nginx镜像导出，然后在复制到内网环境中安装。</p>
<span id="more"></span>
<h2 id="在有网环境中将镜像打包"><a href="#在有网环境中将镜像打包" class="headerlink" title="在有网环境中将镜像打包"></a>在有网环境中将镜像打包</h2><ul>
<li>先去pull一个最新的nginx镜像</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure>
<ul>
<li>然后将镜像导出</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker save e445ab08b2be -o /Users/zhouyanwei/Desktop/nginx.tar</span><br><span class="line">            镜像的ID         保存的本地目录+文件名.tar</span><br></pre></td></tr></table></figure>
<ul>
<li>然后在本地会有生成一个打包好nginx.tar文件（或者上面自定义的名字）。</li>
</ul>
<h2 id="在专网环境中安装"><a href="#在专网环境中安装" class="headerlink" title="在专网环境中安装"></a>在专网环境中安装</h2><ul>
<li>把这个压缩包放到内网中执行</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker load -i nginx.tar</span><br></pre></td></tr></table></figure>
<ul>
<li>然后docker images 看一下当前的镜像</li>
</ul>
<p><img src="/images/2019-08-13/1.png" alt="1"></p>
<ul>
<li><p>此时 REPOSITORY 和 TAG 都为none</p>
</li>
<li><p>在重新标记下标记一下就好了</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker tag e445ab08b2be nginx:latest</span><br></pre></td></tr></table></figure>
<ul>
<li>然后docker images 看一下当前的镜像</li>
</ul>
<p><img src="/images/2019-08-13/2.png" alt="2"></p>
<h2 id="启动一个ngixn容器"><a href="#启动一个ngixn容器" class="headerlink" title="启动一个ngixn容器"></a>启动一个ngixn容器</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run --name nginx -d -p 8090:80 nginx</span><br></pre></td></tr></table></figure>
<blockquote>
<p>第一个 nginx 容器名称。<br>-d设置容器在在后台一直运行。<br>-p 端口进行映射，将本地 8090 端口映射到容器内部的 80 端口。</p>
</blockquote>
<p>可能会遇见的错误</p>
<p><img src="/images/2019-08-13/3.png" alt="3"></p>
<p>解决办法，是因为selinux开启导致docker run失败。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/selinux/config</span><br></pre></td></tr></table></figure>
<ul>
<li><p>把 SELINUX项修改为disabled，然后重启CentOS系统。</p>
</li>
<li><p>重启后在执行启动命令就成功了。</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker start nginx</span><br></pre></td></tr></table></figure>
<ul>
<li>此时我们在浏览器中访问当前地址加端口号就能访问成功了。</li>
</ul>
<p><img src="/images/2019-08-13/4.png" alt="4"></p>
<h2 id="部署-nginx"><a href="#部署-nginx" class="headerlink" title="部署 nginx"></a>部署 nginx</h2><ul>
<li><p>单单是把nginx启动了并不是我们的最终目的，最起码我们有一个存放文件的地方，还要能修改conf文件，还要能看log吧。</p>
</li>
<li><p>首先创建ngixn目录，在目录下分别创建这三个目录进行存放。</p>
<blockquote>
<p>www: 目录将映射为 nginx 容器配置的虚拟目录。<br>logs: 目录将映射为 nginx 容器的日志目录。<br>conf: 目录里的配置文件将映射为 nginx 容器的配置文件。</p>
</blockquote>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir -p ~/nginx/www ~/nginx/logs ~/nginx/conf</span><br></pre></td></tr></table></figure>
<blockquote>
<p>此时会在root文件夹下创建nginx文件夹，下面有三个文件夹。其他账户登录要去home文件夹下当前登录的用户文件夹下查找。</p>
</blockquote>
<ul>
<li>然后我们将当前ngixn默认的配置文件拷贝到我没呢新建的nginx/conf文件夹下。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker cp 01d9251b8255:/etc/nginx/nginx.conf ~/nginx/conf/</span><br><span class="line">          容器id,可使用 docker ps 查看</span><br></pre></td></tr></table></figure>
<ul>
<li>在重新部署nginx</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d -p 80:80 --name nginxpro -v ~/nginx/www:/usr/share/nginx/html -v ~/nginx/conf/nginx.conf:/etc/nginx/nginx.conf -v ~/nginx/logs:/var/<span class="built_in">log</span>/nginx nginx</span><br></pre></td></tr></table></figure>
<blockquote>
<p>-p 80:80： 将容器的 80 端口映射到主机的 80 端口。<br>–name nginxpro：将容器命名为 nginxpro。<br>-v ~/nginx/www:/usr/share/nginx/html：将我们自己创建的 www 目录挂载到容器的 /usr/share/nginx/html。<br>-v ~/nginx/conf/nginx.conf:/etc/nginx/nginx.conf：将我们自己创建的 nginx.conf 挂载到容器的 /etc/nginx/nginx.conf。<br>-v ~/nginx/logs:/var/log/nginx：将我们自己创建的 logs 挂载到容器的 /var/log/nginx。</p>
</blockquote>
<ul>
<li>然后我们进www文件目录创建一个index.html。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/nginx/www/index.html</span><br></pre></td></tr></table></figure>
<p><img src="/images/2019-08-13/5.png" alt="5"></p>
<blockquote>
<p>12 月 2 日更新。<br>遇到的问题 如何添加代理</p>
</blockquote>
<p>docker中的nginx配置文件不单只是一个nginx.conf</p>
<p>先执行命令进nginx交互模式里看一下nginx的结构</p>
<p><img src="/images/2019-08-13/6.png" alt="6"></p>
<p>要把自己创建的目录和容器对应上才可以。</p>
<p><img src="/images/2019-08-13/7.png" alt="6"></p>
<p>所以还需要重新部署ngixn</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d -p 80:80 --name nginx \</span><br><span class="line">    -v ~/nginx/www:/usr/share/nginx/html \</span><br><span class="line">    -v ~/nginx/nginx.conf:/etc/nginx/nginx.conf \</span><br><span class="line">    -v ~/nginx/conf.d:/etc/nginx/conf.d \</span><br><span class="line">    -v ~/nginx/logs:/var/<span class="built_in">log</span>/nginx nginx</span><br></pre></td></tr></table></figure>
<p>在default.conf重设置代理就可以生效了。</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>koa+mysql</title>
    <url>/2020/07/14/koa+mysql/</url>
    <content><![CDATA[<p>好久不见，好忙，前段时间搭了一套electron-vue客户端，就想着用node把后台也一起搞搞，koa+mysql。</p>
<span id="more"></span>
<h2 id="mysql-安装"><a href="#mysql-安装" class="headerlink" title="mysql 安装"></a>mysql 安装</h2><p>本地开发环境为mac，<a href="https://dev.mysql.com/downloads/mysql/">mysql下载地址</a>，下载安装就可以了。</p>
<p><img src="/images/2020-07-14/1.png" alt="mysql"></p>
<p>通过Navicat连接查看，新建了一个名为electron_vue的数据库。</p>
<p><img src="/images/2020-07-14/2.png" alt="mysql"></p>
<h2 id="koa-安装"><a href="#koa-安装" class="headerlink" title="koa 安装"></a>koa 安装</h2><p>可以通过<a href="https://www.npmjs.com/package/koa-generator">koa-generator脚手架直接安装使用-&gt;传送门</a></p>
<p>脚手架下载后<code>npm install</code>安转依赖模块，安装后目录展示。</p>
<p><img src="/images/2020-07-14/3.png" alt="koa"></p>
<p><code>npm start</code>启动后，浏览器访问<code>http://localhost:3000/</code>是这个样子的。</p>
<p><img src="/images/2020-07-14/4.png" alt="koa"></p>
<h2 id="koa-连接-mysql"><a href="#koa-连接-mysql" class="headerlink" title="koa 连接 mysql"></a>koa 连接 mysql</h2><p>首先执行<code>npm install mysql -S</code>，引入mysql依赖。</p>
<p>根目录下新建<code>config</code>文件夹，文件夹下新建<code>mysql_config.js</code>文件，添加相关配置。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const mysqlConfig = &#123;</span><br><span class="line">  host: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">  port: 3306,</span><br><span class="line">  user: <span class="string">&quot;root&quot;</span>, // mysql用户名</span><br><span class="line">  password: <span class="string">&quot;4231&quot;</span>, // 自己设置的mysql密码</span><br><span class="line">  database: <span class="string">&quot;electron_vue&quot;</span>, // mysql数据库名称</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = mysqlConfig;</span><br></pre></td></tr></table></figure>
<p>根目录下新建<code>utils</code>文件夹，新建<code>query.js</code>及<code>sql.js</code>，分别加入如下代码。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// query.js</span><br><span class="line">const mysql = require(<span class="string">&quot;mysql&quot;</span>);</span><br><span class="line">const MYSQL_CONFIG = require(<span class="string">&quot;../config/mysql_config&quot;</span>); // 数据库配置</span><br><span class="line"></span><br><span class="line">// mysql</span><br><span class="line">const pool = mysql.createPool(MYSQL_CONFIG);</span><br><span class="line"></span><br><span class="line">// query sql语句入口</span><br><span class="line">const query = (sql, val) =&gt; &#123;</span><br><span class="line">  <span class="built_in">return</span> new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    pool.getConnection(<span class="keyword">function</span> (err, connection) &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        reject(err);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        connection.query(sql, val, (err, fields) =&gt; &#123;</span><br><span class="line">          <span class="keyword">if</span> (err) reject(err);</span><br><span class="line">          <span class="keyword">else</span> resolve(fields);</span><br><span class="line">          connection.release();</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  query,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// sql.js</span><br><span class="line">// 创建数据库</span><br><span class="line">const CREATE_TABLE = `CREATE TABLE IF NOT EXISTS user(</span><br><span class="line">  user_id INT(5) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  user_name VARCHAR(255) NOT NULL,</span><br><span class="line">  user_phone VARCHAR(255) NOT NULL,</span><br><span class="line">  PRIMARY KEY (user_id)</span><br><span class="line">);`.replace(/[\r\n]/g, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">// 查询数据表</span><br><span class="line">const QUERY_TABLE = (tableName) =&gt; `SELECT * FROM <span class="variable">$&#123;tableName&#125;</span>`;</span><br><span class="line"></span><br><span class="line">// 插入数据</span><br><span class="line">const INSERT_TABLE = (tableName, &#123; key, val &#125;) =&gt;</span><br><span class="line">  `INSERT INTO <span class="variable">$&#123;tableName&#125;</span>(<span class="variable">$&#123;key&#125;</span>) VALUES (<span class="variable">$&#123;val&#125;</span>)`;</span><br><span class="line"></span><br><span class="line">// 更新数据</span><br><span class="line">const UPDATE_TABLE = (tableName, &#123; primaryKey, primaryVal &#125;, &#123; key, value &#125;) =&gt;</span><br><span class="line">  `UPDATE <span class="variable">$&#123;tableName&#125;</span> SET <span class="variable">$&#123;key&#125;</span>=<span class="variable">$&#123;val&#125;</span> WHERE(<span class="variable">$&#123;primaryKey&#125;</span>=<span class="variable">$&#123;primaryVal&#125;</span>);`;</span><br><span class="line"></span><br><span class="line">// 删除数据</span><br><span class="line">const DELETE_TABLE = (tableName, &#123; primaryKey, primaryVal &#125;) =&gt;</span><br><span class="line">  `DELETE FROM user WHERE(<span class="variable">$&#123;primaryKey&#125;</span>=<span class="variable">$&#123;primaryVal&#125;</span>);`;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  CREATE_TABLE,</span><br><span class="line">  INSERT_TABLE,</span><br><span class="line">  UPDATE_TABLE,</span><br><span class="line">  DELETE_TABLE,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>在<code>routers/index.js</code>中引入，先创建一张表试一下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const router = require(<span class="string">&quot;koa-router&quot;</span>)();</span><br><span class="line"></span><br><span class="line">const &#123; query &#125; = require(<span class="string">&quot;../utils/query&quot;</span>);</span><br><span class="line">const &#123;</span><br><span class="line">  CREATE_TABLE,</span><br><span class="line">  INSERT_TABLE,</span><br><span class="line">  UPDATE_TABLE,</span><br><span class="line">  DELETE_TABLE,</span><br><span class="line">&#125; = require(<span class="string">&quot;../utils/sql&quot;</span>);</span><br><span class="line"></span><br><span class="line">query(CREATE_TABLE);</span><br><span class="line"></span><br><span class="line">// ....省略了</span><br><span class="line"></span><br><span class="line">module.exports = router;</span><br></pre></td></tr></table></figure>
<p>启动后台发现报错如下（据说是mysql8客户端错误）</p>
<p><img src="/images/2020-07-14/5.png" alt="run"></p>
<p>需要在mysql中执行此命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED WITH mysql_native_password BY <span class="string">&#x27;此处填写数据库密码！&#x27;</span>;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>
<p>我是在Navicat中执行的。</p>
<p><img src="/images/2020-07-14/6.png" alt="run"></p>
<p>在重新启动，会发现数据库中新建了一张名为<code>user</code>的表。</p>
<p><img src="/images/2020-07-14/7.png" alt="run"></p>
<p>至此，基本的koa连接使用mysql就完成了。</p>
<p>ps:</p>
<p>升级了mysql到8之后，发现，koa mysql模块连接不上mysql</p>
<p>报错如下(忘记截图了。。。)：</p>
<blockquote>
<p>UnhandledPromiseRejectionWarning: Error: ER_NOT_SUPPORTED_AUTH_MODE: Client does not support authentication protocol requested by server; consider upgrading MySQL client</p>
</blockquote>
<p>原因是最新的mysql模块并未完全支持MySQL 8的“caching_sha2_password”加密方式，而“caching_sha2_password”在MySQL 8中是默认的加密方式。因此，下面的方式命令是默认已经使用了“caching_sha2_password”加密方式，该账号、密码无法在mysql模块中使用。</p>
<p>需要重新修改mysql root的密码。</p>
<p><code>mysql&gt; ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</code></p>
<p><a href="https://www.jianshu.com/p/98801a280b25">参考地址 koa+mysql</a><br><a href="https://waylau.com/node.js-mysql-client-does-not-support-authentication-protocol/">参考地址 mysql8修改加密方式</a></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>koa</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
</search>
